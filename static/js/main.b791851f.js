/*! For license information please see main.b791851f.js.LICENSE.txt */
(()=>{var e={6608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7462),i=n(5987),o=n(2791),s=n(8182),a=n(5186),c=n(1122),l=o.forwardRef((function(e,t){var n=e.children,a=e.classes,l=e.className,u=e.color,h=void 0===u?"inherit":u,d=e.component,f=void 0===d?"svg":d,p=e.fontSize,m=void 0===p?"default":p,g=e.htmlColor,y=e.titleAccess,v=e.viewBox,w=void 0===v?"0 0 24 24":v,b=(0,i.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(f,(0,r.Z)({className:(0,s.Z)(a.root,l,"inherit"!==h&&a["color".concat((0,c.Z)(h))],"default"!==m&&a["fontSize".concat((0,c.Z)(m))]),focusable:"false",viewBox:w,color:g,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},b),n,y?o.createElement("title",null,y):null)}));l.muiName="SvgIcon";const u=(0,a.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l)},9466:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.Z});var r=n(6608)},3108:(e,t,n)=>{"use strict";n.d(t,{$n:()=>h,U1:()=>l,_j:()=>u,mi:()=>a});var r=n(7483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function s(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function a(e,t){var n=c(e),r=c(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),s({type:l,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,s(e)}function u(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function h(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return s(e)}},5186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>rr});var r=n(7462),i=n(5987),o=n(2791),s=n(2110),a=n.n(s),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const l="object"===("undefined"===typeof window?"undefined":c(window))&&"object"===("undefined"===typeof document?"undefined":c(document))&&9===document.nodeType;var u=n(3144),h=n(4578),d=n(7326),f=n(3366),p={}.constructor;function m(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(m);if(e.constructor!==p)return e;var t={};for(var n in e)t[n]=m(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=m(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var y=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n};function v(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=y(e[r]," ");else n=y(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function w(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,s=t.fallbacks;if(e&&o++,s)if(Array.isArray(s))for(var a=0;a<s.length;a++){var c=s[a];for(var l in c){var u=c[l];null!=u&&(r&&(r+="\n"),r+=""+w(l+": "+v(u)+";",o))}}else for(var h in s){var d=s[h];null!=d&&(r&&(r+="\n"),r+=""+w(h+": "+v(d)+";",o))}for(var f in t){var p=t[f];null!=p&&"fallbacks"!==f&&(r&&(r+="\n"),r+=""+w(f+": "+v(p)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),w(e+" {"+r,--o)+w("}",o)):r}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,T="undefined"!==typeof CSS&&CSS.escape,E=function(e){return T?T(e):e.replace(_,"\\$1")},I=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,s=e in this.style;if(o&&!s&&!r)return this;var a=o&&s;if(a?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var c=this.options.sheet;return c&&c.attached,this},e}(),S=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,s=r.scoped,a=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==s&&(i.id=c((0,d.Z)((0,d.Z)(i)),a),i.selectorText="."+E(i.id)),i}(0,h.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=v(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},(0,u.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(I),k={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},C={indent:1,children:!0},x=/@([\w-]+)/,A=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=n.name;var i=e.match(x);for(var o in this.at=i?i[1]:"unknown",this.options=n,this.rules=new J((0,r.Z)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=C),null==e.indent&&(e.indent=C.indent),null==e.children&&(e.children=C.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),N=/@media|@supports\s+/,P={onCreateRule:function(e,t,n){return N.test(e)?new A(e,t,n):null}},D={indent:1,children:!0},R=/@keyframes\s+([\w-]+)/,O=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(R);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,s=n.sheet,a=n.generateId;for(var c in this.id=!1===o?this.name:E(a(this,s)),this.rules=new J((0,r.Z)({},n,{parent:this})),t)this.rules.add(c,t[c],(0,r.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=D),null==e.indent&&(e.indent=D.indent),null==e.children&&(e.children=D.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),M=/@keyframes\s+/,L=/\$([\w-]+)/g,F=function(e,t){return"string"===typeof e?e.replace(L,(function(e,n){return n in t?t[n]:e})):e},V=function(e,t,n){var r=e[t],i=F(r,n);i!==r&&(e[t]=i)},U={onCreateRule:function(e,t,n){return"string"===typeof e&&M.test(e)?new O(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&V(e,"animation-name",n.keyframes),"animation"in e&&V(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return F(e,r.keyframes);default:return e}}},z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return(0,h.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(I),j={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new z(e,t,n):null}},B=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=b(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return b(this.at,this.style,e)},e}(),q=/@font-face/,W={onCreateRule:function(e,t,n){return q.test(e)?new B(e,t,n):null}},K=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new K(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Q={"@charset":!0,"@import":!0,"@namespace":!0},Z={onCreateRule:function(e,t,n){return e in Q?new G(e,t,n):null}},Y=[k,P,U,j,W,H,Z],$={process:!0},X={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,s=i.sheet,a=i.jss,c=i.Renderer,l=i.generateId,u=i.scoped,h=(0,r.Z)({classes:this.classes,parent:o,sheet:s,jss:a,Renderer:c,generateId:l,scoped:u,name:e},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(h.selector="."+E(this.classes[d]));var f=g(d,t,h);if(!f)return null;this.register(f);var p=void 0===h.index?this.index.length:h.index;return this.index.splice(p,0,f),f},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof O&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof O&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=$);var i=this.options,o=i.jss.plugins,s=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var a=t,c=a.style;if(o.onUpdate(n,t,s,r),r.process&&c&&c!==a.style){for(var l in o.onProcessStyle(a.style,a,s),a.style){var u=a.style[l];u!==c[l]&&a.prop(l,u,X)}for(var h in c){var d=a.style[h],f=c[h];null==d&&d!==f&&a.prop(h,null,X)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),ee=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),te=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ne=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,f.Z)(t,["attached"]),i="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(i&&(i+="\n"),i+=s.toString(r))}return i},(0,u.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),re=new ne,ie="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),oe="2f1acc6c3a606b082e5eef5e54414ffb";null==ie[oe]&&(ie[oe]=0);var se=ie[oe]++,ae=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+se+i+t:o+n.key+"-"+se+(i?"-"+i:"")+"-"+t}},ce=function(e){var t;return function(){return t||(t=e()),t}};function le(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function ue(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=v(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0}function he(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function de(e,t){return e.selectorText=t,e.selectorText===t}var fe=ce((function(){return document.querySelector("head")}));function pe(e){var t=re.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=fe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var me=ce((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ge=function(e,t,n){var r=e.cssRules.length;(void 0===n||n>r)&&(n=r);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(i){return!1}return e.cssRules[n]},ye=function(){function e(e){this.getPropertyValue=le,this.setProperty=ue,this.removeProperty=he,this.setSelector=de,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&re.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=me();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=pe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else fe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(i=ge(n,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,i),i)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var o=e.toString();if(!o)return!1;var s=ge(n,o,t);return!1!==s&&(this.hasInsertedRules=!0,e.renderable=s,s)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ve=0,we=function(){function e(e){this.id=ve++,this.version="10.3.0",this.plugins=new te,this.options={id:{minify:!1},createGenerateId:ae,Renderer:l?ye:null,plugins:[]},this.generateId=ae({minify:!1});for(var t=0;t<Y.length;t++)this.plugins.use(Y[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===re.index?0:re.index+1);var i=new ee(e,(0,r.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),re.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=(0,r.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=g(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function be(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=be(r);o&&(t||(t={}),t[n]=o)}}return t}var _e="undefined"!==typeof CSS&&CSS&&"number"in CSS,Te=function(e){return new we(e)};Te();function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var Ie={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};const Se=Ie;const ke=o.createContext(null);function Ce(){return o.useContext(ke)}const xe="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Ae=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ne=Date.now(),Pe="fnValues"+Ne,De="fnStyle"+ ++Ne;const Re=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=g(e,{},n);return r[De]=t,r},onProcessStyle:function(e,t){if(Pe in t||De in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Pe]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[De];o&&(i.style=o(e)||{});var s=i[Pe];if(s)for(var a in s)i.prop(a,s[a](e),r)}}};var Oe="@global",Me="@global ",Le=function(){function e(e,t,n){for(var i in this.type="global",this.at=Oe,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J((0,r.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Fe=function(){function e(e,t,n){this.type="global",this.at=Oe,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var i=e.substr(8);this.rule=n.jss.createRule(i,t,(0,r.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ve=/\s*,\s*/g;function Ue(e,t){for(var n=e.split(Ve),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}const ze=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Oe)return new Le(e,t,n);if("@"===e[0]&&e.substr(0,8)===Me)return new Fe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,i=n?n[Oe]:null;if(i){for(var o in i)t.sheet.addRule(o,i[o],(0,r.Z)({},t,{selector:Ue(o,e.selector)}));delete n[Oe]}}(e),function(e){var t=e.options,n=e.style;for(var i in n)if("@"===i[0]&&i.substr(0,Oe.length)===Oe){var o=Ue(i.substr(Oe.length),e.selector);t.sheet.addRule(o,n[i],(0,r.Z)({},t,{selector:o})),delete n[i]}}(e))}}};var je=/\s*,\s*/g,Be=/&/g,qe=/\$([\w-]+)/g;const We=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(je),r=e.split(je),i="",o=0;o<n.length;o++)for(var s=n[o],a=0;a<r.length;a++){var c=r[a];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(Be,s):s+" "+c}return i}function n(e,t,n){if(n)return(0,r.Z)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=(0,r.Z)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,s){if("style"!==o.type)return i;var a,c,l=o,u=l.options.parent;for(var h in i){var d=-1!==h.indexOf("&"),f="@"===h[0];if(d||f){if(a=n(l,u,a),d){var p=t(h,l.selector);c||(c=e(u,s)),p=p.replace(qe,c),u.addRule(p,i[h],(0,r.Z)({},a,{selector:p}))}else f&&u.addRule(h,{},a).addRule(l.key,i[h],{selector:l.selector});delete i[h]}}return i}}};var Ke=/[A-Z]/g,He=/^ms-/,Ge={};function Qe(e){return"-"+e.toLowerCase()}const Ze=function(e){if(Ge.hasOwnProperty(e))return Ge[e];var t=e.replace(Ke,Qe);return Ge[e]=He.test(t)?"-"+t:t};function Ye(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ze(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ye):t.fallbacks=Ye(e.fallbacks)),t}const $e=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ye(e[t]);return e}return Ye(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ze(t);return t===r?e:(n.prop(r,e),null)}}};var Xe=_e&&CSS?CSS.px:"px",Je=_e&&CSS?CSS.ms:"ms",et=_e&&CSS?CSS.percent:"%";function tt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var nt=tt({"animation-delay":Je,"animation-duration":Je,"background-position":Xe,"background-position-x":Xe,"background-position-y":Xe,"background-size":Xe,border:Xe,"border-bottom":Xe,"border-bottom-left-radius":Xe,"border-bottom-right-radius":Xe,"border-bottom-width":Xe,"border-left":Xe,"border-left-width":Xe,"border-radius":Xe,"border-right":Xe,"border-right-width":Xe,"border-top":Xe,"border-top-left-radius":Xe,"border-top-right-radius":Xe,"border-top-width":Xe,"border-width":Xe,margin:Xe,"margin-bottom":Xe,"margin-left":Xe,"margin-right":Xe,"margin-top":Xe,padding:Xe,"padding-bottom":Xe,"padding-left":Xe,"padding-right":Xe,"padding-top":Xe,"mask-position-x":Xe,"mask-position-y":Xe,"mask-size":Xe,height:Xe,width:Xe,"min-height":Xe,"max-height":Xe,"min-width":Xe,"max-width":Xe,bottom:Xe,left:Xe,top:Xe,right:Xe,"box-shadow":Xe,"text-shadow":Xe,"column-gap":Xe,"column-rule":Xe,"column-rule-width":Xe,"column-width":Xe,"font-size":Xe,"font-size-delta":Xe,"letter-spacing":Xe,"text-indent":Xe,"text-stroke":Xe,"text-stroke-width":Xe,"word-spacing":Xe,motion:Xe,"motion-offset":Xe,outline:Xe,"outline-offset":Xe,"outline-width":Xe,perspective:Xe,"perspective-origin-x":et,"perspective-origin-y":et,"transform-origin":et,"transform-origin-x":et,"transform-origin-y":et,"transform-origin-z":et,"transition-delay":Je,"transition-duration":Je,"vertical-align":Xe,"flex-basis":Xe,"shape-margin":Xe,size:Xe,grid:Xe,"grid-gap":Xe,"grid-row-gap":Xe,"grid-column-gap":Xe,"grid-template-rows":Xe,"grid-template-columns":Xe,"grid-auto-rows":Xe,"grid-auto-columns":Xe,"box-shadow-x":Xe,"box-shadow-y":Xe,"box-shadow-blur":Xe,"box-shadow-spread":Xe,"font-line-height":Xe,"text-shadow-x":Xe,"text-shadow-y":Xe,"text-shadow-blur":Xe});function rt(e,t,n){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=rt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=rt(i,t[i],n);else for(var o in t)t[o]=rt(e+"-"+o,t[o],n);else if("number"===typeof t){var s=n[e]||nt[e];return s?"function"===typeof s?s(t).toString():""+t+s:t.toString()}return t}const it=function(e){void 0===e&&(e={});var t=tt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=rt(r,e[r],t);return e},onChangeValue:function(e,n){return rt(n,e,t)}}};var ot=n(2982),st="",at="",ct="",lt="",ut=l&&"ontouchstart"in document.documentElement;if(l){var ht={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dt=document.createElement("p").style;for(var ft in ht)if(ft+"Transform"in dt){st=ft,at=ht[ft];break}"Webkit"===st&&"msHyphens"in dt&&(st="ms",at=ht.ms,lt="edge"),"Webkit"===st&&"-apple-trailing-word"in dt&&(ct="apple")}var pt={js:st,css:at,vendor:ct,browser:lt,isTouch:ut};var mt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===pt.js?"-webkit-"+e:pt.css+e)}},gt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===pt.js?pt.css+"print-"+e:e)}},yt=/[-\s]+(.)?/g;function vt(e,t){return t?t.toUpperCase():""}function wt(e){return e.replace(yt,vt)}function bt(e){return wt("-"+e)}var _t,Tt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===pt.js){var n="mask-image";if(wt(n)in t)return e;if(pt.js+bt(n)in t)return pt.css+e}return e}},Et={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==pt.vendor||pt.isTouch?e:pt.css+e)}},It={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:pt.css+e)}},St={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:pt.css+e)}},kt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===pt.js||"ms"===pt.js&&"edge"!==pt.browser?pt.css+e:e)}},Ct={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===pt.js||"ms"===pt.js||"apple"===pt.vendor?pt.css+e:e)}},xt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===pt.js?"WebkitColumn"+bt(e)in t&&pt.css+"column-"+e:"Moz"===pt.js&&("page"+bt(e)in t&&"page-"+e))}},At={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===pt.js)return e;var n=e.replace("-inline","");return pt.js+bt(n)in t&&pt.css+n}},Nt={supportedProperty:function(e,t){return wt(e)in t&&e}},Pt={supportedProperty:function(e,t){var n=bt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:pt.js+n in t?pt.css+e:"Webkit"!==pt.js&&"Webkit"+n in t&&"-webkit-"+e}},Dt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===pt.js?""+pt.css+e:e)}},Rt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===pt.js?pt.css+"scroll-chaining":e)}},Ot={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Mt={supportedProperty:function(e,t){var n=Ot[e];return!!n&&(pt.js+bt(n)in t&&pt.css+n)}},Lt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ft=Object.keys(Lt),Vt=function(e){return pt.css+e},Ut={supportedProperty:function(e,t,n){var r=n.multiple;if(Ft.indexOf(e)>-1){var i=Lt[e];if(!Array.isArray(i))return pt.js+bt(i)in t&&pt.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(pt.js+bt(i[0])in t))return!1;return i.map(Vt)}return!1}},zt=[mt,gt,Tt,Et,It,St,kt,Ct,xt,At,Nt,Pt,Dt,Rt,Mt,Ut],jt=zt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Bt=zt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,ot.Z)(t.noPrefill)),e}),[]),qt={};if(l){_t=document.createElement("p");var Wt=window.getComputedStyle(document.documentElement,"");for(var Kt in Wt)isNaN(Kt)||(qt[Wt[Kt]]=Wt[Kt]);Bt.forEach((function(e){return delete qt[e]}))}function Ht(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=qt[e])return qt[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<jt.length&&(qt[e]=jt[n](e,_t.style,t),!qt[e]);n++);try{_t.style[e]=""}catch(r){return!1}return qt[e]}var Gt,Qt={},Zt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function $t(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ht(t):", "+Ht(n);return r||(t||n)}function Xt(e,t){var n=t;if(!Gt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Qt[r])return Qt[r];try{Gt.style[e]=n}catch(i){return Qt[r]=!1,!1}if(Zt[e])n=n.replace(Yt,$t);else if(""===Gt.style[e]&&("-ms-flex"===(n=pt.css+n)&&(Gt.style[e]="-ms-flexbox"),Gt.style[e]=n,""===Gt.style[e]))return Qt[r]=!1,!1;return Gt.style[e]="",Qt[r]=n,Qt[r]}l&&(Gt=document.createElement("p"));const Jt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Ht(n);o&&o!==n&&(i=!0);var s=!1,a=Xt(o,v(r));a&&a!==r&&(s=!0),(i||s)&&(i&&delete t[n],t[o||n]=a||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===pt.js?e:"@"+pt.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Xt(t,v(e))||e}}};const en=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var tn=Te({plugins:[Re(),ze(),We(),$e(),it(),"undefined"===typeof window?null:Jt(),en()]}),nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,s=void 0===o?"":o,a=""===s?"":"".concat(s,"-"),c=0,l=function(){return c+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ae.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(a).concat(r,"-").concat(e.key);return t.options.theme[xe]&&""===s?"".concat(o,"-").concat(l()):o}return"".concat(a).concat(i).concat(l())}}(),rn={disableGeneration:!1,generateClassName:nn,jss:tn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},on=o.createContext(rn);var sn=-1e9;var an=n(1002);function cn(e){return e&&"object"===(0,an.Z)(e)&&e.constructor===Object}function ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return cn(e)&&cn(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(cn(t[r])&&r in e?i[r]=ln(e[r],t[r],n):i[r]=t[r])})),i}const un={};function hn(e,t){var n=e.state,i=e.theme,o=e.stylesOptions,s=e.stylesCreator,a=e.name;if(!o.disableGeneration){var c=Se.get(o.sheetsManager,s,i);c||(c={refs:0,staticSheet:null,dynamicStyles:null},Se.set(o.sheetsManager,s,i,c));var l=(0,r.Z)((0,r.Z)((0,r.Z)({},s.options),o),{},{theme:i,flip:"boolean"===typeof o.flip?o.flip:"rtl"===i.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var u=o.sheetsRegistry;if(0===c.refs){var h;o.sheetsCache&&(h=Se.get(o.sheetsCache,s,i));var d=s.create(i,a);h||((h=o.jss.createStyleSheet(d,(0,r.Z)({link:!1},l))).attach(),o.sheetsCache&&Se.set(o.sheetsCache,s,i,h)),u&&u.add(h),c.staticSheet=h,c.dynamicStyles=be(d)}if(c.dynamicStyles){var f=o.jss.createStyleSheet(c.dynamicStyles,(0,r.Z)({link:!0},l));f.update(t),f.attach(),n.dynamicSheet=f,n.classes=Ee({baseClasses:c.staticSheet.classes,newClasses:f.classes}),u&&u.add(f)}else n.classes=c.staticSheet.classes;c.refs+=1}}function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,s=t.classNamePrefix,a=t.Component,c=t.defaultTheme,l=void 0===c?un:c,u=(0,i.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),h=function(e){var t="function"===typeof e;return{create:function(n,i){var o;try{o=t?e(n):e}catch(c){throw c}if(!i||!n.overrides||!n.overrides[i])return o;var s=n.overrides[i],a=(0,r.Z)({},o);return Object.keys(s).forEach((function(e){a[e]=ln(a[e],s[e])})),a},options:{}}}(e),d=n||s||"makeStyles";h.options={index:sn+=1,name:n,meta:d,classNamePrefix:d};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ce()||l,i=(0,r.Z)((0,r.Z)({},o.useContext(on)),u),s=o.useRef(),c=o.useRef();!function(e,t){var n,r=o.useRef([]),i=o.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var r={name:n,state:{},stylesCreator:h,stylesOptions:i,theme:t};return hn(r,e),c.current=!1,s.current=r,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Se.get(r.sheetsManager,i,n);o.refs-=1;var s=r.sheetsRegistry;0===o.refs&&(Se.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),s&&s.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),s&&s.remove(t.dynamicSheet))}}(r)}}),[t,h]),o.useEffect((function(){c.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(s.current,e),c.current=!0}));var d=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ee({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(s.current,e.classes,a);return d}}const fn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var s=t.defaultTheme,c=t.withTheme,l=void 0!==c&&c,u=t.name,h=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var d=u,f=dn(e,(0,r.Z)({defaultTheme:s,Component:n,name:u||n.displayName,classNamePrefix:d},h)),p=o.forwardRef((function(e,t){e.classes;var a,c=e.innerRef,h=(0,i.Z)(e,["classes","innerRef"]),d=f((0,r.Z)((0,r.Z)({},n.defaultProps),e)),p=h;return("string"===typeof u||l)&&(a=Ce()||s,u&&(p=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}({theme:a,name:u,props:h})),l&&!p.theme&&(p.theme=a)),o.createElement(n,(0,r.Z)({ref:c||t,classes:d},p))}));return a()(p,n),p}};var pn=["xs","sm","md","lg","xl"];var mn=n(4942);function gn(e,t,n){var i;return(0,r.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,mn.Z)({},e.up("sm"),(0,r.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,mn.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,mn.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var yn=n(7483);const vn={black:"#000",white:"#fff"};const wn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const bn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const _n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const Tn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const En={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const In={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const Sn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var kn=n(3108),Cn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vn.white,default:wn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},xn={text:{primary:vn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:wn[800],default:"#303030"},action:{active:vn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function An(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,kn.$n)(e.main,i):"dark"===t&&(e.dark=(0,kn._j)(e.main,o)))}function Nn(e){return Math.round(1e5*e)/1e5}var Pn={textTransform:"uppercase"},Dn='"Roboto", "Helvetica", "Arial", sans-serif';function Rn(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,s=void 0===o?Dn:o,a=n.fontSize,c=void 0===a?14:a,l=n.fontWeightLight,u=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,f=n.fontWeightMedium,p=void 0===f?500:f,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,v=void 0===y?16:y,w=n.allVariants,b=n.pxToRem,_=(0,i.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var T=c/14,E=b||function(e){return"".concat(e/v*T,"rem")},I=function(e,t,n,i,o){return(0,r.Z)({fontFamily:s,fontWeight:e,fontSize:E(t),lineHeight:n},s===Dn?{letterSpacing:"".concat(Nn(i/t),"em")}:{},o,w)},S={h1:I(u,96,1.167,-1.5),h2:I(u,60,1.2,-.5),h3:I(d,48,1.167,0),h4:I(d,34,1.235,.25),h5:I(d,24,1.334,0),h6:I(p,20,1.6,.15),subtitle1:I(d,16,1.75,.15),subtitle2:I(p,14,1.57,.1),body1:I(d,16,1.5,.15),body2:I(d,14,1.43,.15),button:I(p,14,1.75,.4,Pn),caption:I(d,12,1.66,.4),overline:I(d,12,2.66,1,Pn)};return ln((0,r.Z)({htmlFontSize:v,pxToRem:E,round:Nn,fontFamily:s,fontSize:c,fontWeightLight:u,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:g},S),_,{clone:!1})}function On(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Mn=["none",On(0,2,1,-1,0,1,1,0,0,1,3,0),On(0,3,1,-2,0,2,2,0,0,1,5,0),On(0,3,3,-2,0,3,4,0,0,1,8,0),On(0,2,4,-1,0,4,5,0,0,1,10,0),On(0,3,5,-1,0,5,8,0,0,1,14,0),On(0,3,5,-1,0,6,10,0,0,1,18,0),On(0,4,5,-2,0,7,10,1,0,2,16,1),On(0,5,5,-3,0,8,10,1,0,3,14,2),On(0,5,6,-3,0,9,12,1,0,3,16,2),On(0,6,6,-3,0,10,14,1,0,4,18,3),On(0,6,7,-4,0,11,15,1,0,4,20,3),On(0,7,8,-4,0,12,17,2,0,5,22,4),On(0,7,8,-4,0,13,19,2,0,5,24,4),On(0,7,9,-4,0,14,21,2,0,5,26,4),On(0,8,9,-5,0,15,22,2,0,6,28,5),On(0,8,10,-5,0,16,24,2,0,6,30,5),On(0,8,11,-5,0,17,26,2,0,6,32,5),On(0,9,11,-5,0,18,28,2,0,7,34,6),On(0,9,12,-6,0,19,29,2,0,7,36,6),On(0,10,13,-6,0,20,31,3,0,8,38,7),On(0,10,13,-6,0,21,33,3,0,8,40,7),On(0,10,14,-6,0,22,35,3,0,8,42,7),On(0,11,14,-7,0,23,36,3,0,9,44,8),On(0,11,15,-7,0,24,38,3,0,9,46,8)];const Ln={borderRadius:4};var Fn=n(181);function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||(0,Fn.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Un={xs:0,sm:600,md:960,lg:1280,xl:1920},zn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Un[e],"px)")}};const jn=function(e,t){return t?ln(e,t,{clone:!1}):e};var Bn={m:"margin",p:"padding"},qn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Wn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Kn=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Wn[e])return[e];e=Wn[e]}var t=Vn(e.split(""),2),n=t[0],r=t[1],i=Bn[n],o=qn[r]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),Hn=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Gn(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function Qn(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function Zn(e){var t=Gn(e.theme);return Object.keys(e).map((function(n){if(-1===Hn.indexOf(n))return null;var r=Qn(Kn(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||zn;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===(0,an.Z)(t)){var i=e.theme.breakpoints||zn;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(jn,{})}Zn.propTypes={},Zn.filterProps=Hn;var Yn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$n={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Xn(e){return"".concat(Math.round(e),"ms")}const Jn={easing:Yn,duration:$n,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?$n.standard:n,o=t.easing,s=void 0===o?Yn.easeInOut:o,a=t.delay,c=void 0===a?0:a;(0,i.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Xn(r)," ").concat(s," ").concat("string"===typeof c?c:Xn(c))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};const er={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const tr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.mixins,s=void 0===o?{}:o,a=e.palette,c=void 0===a?{}:a,l=e.spacing,u=e.typography,h=void 0===u?{}:u,d=(0,i.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),f=function(e){var t=e.primary,n=void 0===t?{light:bn[300],main:bn[500],dark:bn[700]}:t,o=e.secondary,s=void 0===o?{light:_n.A200,main:_n.A400,dark:_n.A700}:o,a=e.error,c=void 0===a?{light:Tn[300],main:Tn[500],dark:Tn[700]}:a,l=e.warning,u=void 0===l?{light:En[300],main:En[500],dark:En[700]}:l,h=e.info,d=void 0===h?{light:In[300],main:In[500],dark:In[700]}:h,f=e.success,p=void 0===f?{light:Sn[300],main:Sn[500],dark:Sn[700]}:f,m=e.type,g=void 0===m?"light":m,y=e.contrastThreshold,v=void 0===y?3:y,w=e.tonalOffset,b=void 0===w?.2:w,_=(0,i.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function T(e){return(0,kn.mi)(e,xn.text.primary)>=v?xn.text.primary:Cn.text.primary}var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,r.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,yn.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,yn.Z)(5,JSON.stringify(e.main)));return An(e,"light",n,b),An(e,"dark",i,b),e.contrastText||(e.contrastText=T(e.main)),e},I={dark:xn,light:Cn};return ln((0,r.Z)({common:vn,type:g,primary:E(n),secondary:E(s,"A400","A200","A700"),error:E(c),warning:E(u),info:E(d),success:E(p),grey:wn,contrastThreshold:v,getContrastText:T,augmentColor:E,tonalOffset:b},I[g]),_)}(c),p=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,s=void 0===o?"px":o,a=e.step,c=void 0===a?5:a,l=(0,i.Z)(e,["values","unit","step"]);function u(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function h(e,t){var r=pn.indexOf(t);return r===pn.length-1?u(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[pn[r+1]]?n[pn[r+1]]:t)-c/100).concat(s,")")}return(0,r.Z)({keys:pn,values:n,up:u,down:function(e){var t=pn.indexOf(e)+1,r=n[pn[t]];return t===pn.length?u("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(s,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},l)}(n),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Gn({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(l),g=ln({breakpoints:p,direction:"ltr",mixins:gn(p,m,s),overrides:{},palette:f,props:{},shadows:Mn,typography:Rn(f,h),spacing:m,shape:Ln,transitions:Jn,zIndex:er},d),y=arguments.length,v=new Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return g=v.reduce((function(e,t){return ln(e,t)}),g)};const nr=tr();const rr=function(e,t){return fn(e,(0,r.Z)({defaultTheme:nr},t))}},1122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},585:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"}),"BookmarkBorder");t.Z=o},6132:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"}),"ChatBubbleOutline");t.Z=o},6314:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=o},9112:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=o},7543:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=o},9225:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");t.Z=o},367:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.Z=o},2778:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}),"NotificationsNone");t.Z=o},3155:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentity");t.Z=o},320:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");t.Z=o},7582:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"}),"Repeat");t.Z=o},3880:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},8688:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");t.Z=o},8321:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(2791)),o=(0,r(n(4894)).default)(i.default.createElement("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}),"VerifiedUser");t.Z=o},4894:(e,t,n)=>{"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef((function(t,n){return o.default.createElement(s.default,(0,i.default)({ref:n},t),e)})));0;return n.muiName=s.default.muiName,n};var i=r(n(434)),o=r(n(2791)),s=r(n(9466))},7483:(e,t,n)=>{"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:()=>r})},8182:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:()=>i})},2618:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},2110:(e,t,n)=>{"use strict";var r=n(7441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=c(t),m=c(n),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=d(n,y);try{l(t,y,v)}catch(w){}}}}return t}},1725:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(a[l]=o[l]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},888:(e,t,n)=>{"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(1725),o=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var c=!1,l=null,u=!1,h=null,d={onError:function(e){c=!0,l=e}};function f(e,t,n,r,i,o,s,u,h){c=!1,l=null,a.apply(d,arguments)}var p=null,m=null,g=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,a,d,p){if(f.apply(this,arguments),c){if(!c)throw Error(s(198));var m=l;c=!1,l=null,u||(u=!0,h=m)}}(r,t,void 0,e),e.currentTarget=null}var v=null,w={};function b(){if(v)for(var e in w){var t=w[e],n=v.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!T[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in T[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,c=r;if(E.hasOwnProperty(c))throw Error(s(99,c));E[c]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],a,c);i=!0}else o.registrationName?(_(o.registrationName,a,c),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function _(e,t,n){if(I[e])throw Error(s(100,e));I[e]=t,S[e]=t.eventTypes[n].dependencies}var T=[],E={},I={},S={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!w.hasOwnProperty(t)||w[t]!==r){if(w[t])throw Error(s(102,t));w[t]=r,n=!0}}n&&b()}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),x=null,A=null,N=null;function P(e){if(e=m(e)){if("function"!==typeof x)throw Error(s(280));var t=e.stateNode;t&&(t=p(t),x(e.stateNode,e.type,t))}}function D(e){A?N?N.push(e):N=[e]:A=e}function R(){if(A){var e=A,t=N;if(N=A=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function O(e,t){return e(t)}function M(e,t,n,r,i){return e(t,n,r,i)}function L(){}var F=O,V=!1,U=!1;function z(){null===A&&null===N||(L(),R())}function j(e,t,n){if(U)return e(t,n);U=!0;try{return F(e,t,n)}finally{U=!1,z()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,W={},K={};function H(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new H(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new H(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new H(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new H(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new H(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new H(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new H(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new H(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new H(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,Z);G[t]=new H(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,Z);G[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,Z);G[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new H(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new H(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(K,e)||!q.call(W,e)&&(B.test(e)?K[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,se=J?Symbol.for("react.context"):60110,ae=J?Symbol.for("react.concurrent_mode"):60111,ce=J?Symbol.for("react.forward_ref"):60112,le=J?Symbol.for("react.suspense"):60113,ue=J?Symbol.for("react.suspense_list"):60120,he=J?Symbol.for("react.memo"):60115,de=J?Symbol.for("react.lazy"):60116,fe=J?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case oe:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case fe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(X,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=we(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ie(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Se(e,t){Ie(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function xe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function De(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Oe="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ve,Ue,ze=(Ue=function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Ve=Ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ue(e,t)}))}:Ue);function je(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},We={},Ke={};function He(e){if(We[e])return We[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return We[e]=n[t];return e}C&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=He("animationend"),Qe=He("animationiteration"),Ze=He("animationstart"),Ye=He("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(s(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var st=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ct(e){if(null!==e&&(st=it(st,e)),e=st,st=null,e){if(ot(e,at),st)throw Error(s(95));if(u)throw e=h,u=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ht=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ht.length&&ht.push(e)}function ft(e,t,n,r){if(ht.length){var i=ht.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Rn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,c=0;c<T.length;c++){var l=T[c];l&&(l=l.extractEvents(r,t,o,i,s))&&(a=it(a,l))}ct(a)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Zt(t,"scroll",!0);break;case"focus":case"blur":Zt(t,"focus",!0),Zt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Zt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var gt,yt,vt,wt=!1,bt=[],_t=null,Tt=null,Et=null,It=new Map,St=new Map,kt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),xt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Nt(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Pt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=At(t,n,r,i,o),null!==t&&(null!==(t=On(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Dt(e){var t=Rn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=On(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Ot(e,t,n){Rt(e)&&n.delete(t)}function Mt(){for(wt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=On(e.blockedOn))&&gt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&Rt(_t)&&(_t=null),null!==Tt&&Rt(Tt)&&(Tt=null),null!==Et&&Rt(Et)&&(Et=null),It.forEach(Ot),St.forEach(Ot)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,wt||(wt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Mt)))}function Ft(e){function t(t){return Lt(t,e)}if(0<bt.length){Lt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Lt(_t,e),null!==Tt&&Lt(Tt,e),null!==Et&&Lt(Et,e),It.forEach(t),St.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Dt(n),null===n.blockedOn&&kt.shift()}var Vt={},Ut=new Map,zt=new Map,jt=["abort","abort",Ge,"animationEnd",Qe,"animationIteration",Ze,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},zt.set(r,t),Ut.set(r,o),Vt[i]=o}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(jt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<qt.length;Wt++)zt.set(qt[Wt],0);var Kt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Gt=!0;function Qt(e,t){Zt(t,e,!1)}function Zt(e,t,n){var r=zt.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){V||L();var i=Xt,o=V;V=!0;try{M(i,e,t,n,r)}finally{(V=o)||z()}}function $t(e,t,n,r){Ht(Kt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Gt)if(0<bt.length&&-1<Ct.indexOf(e))e=At(null,e,t,n,r),bt.push(e);else{var i=Jt(e,t,n,r);if(null===i)Nt(e,r);else if(-1<Ct.indexOf(e))e=At(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Pt(_t,e,t,n,r,i),!0;case"dragenter":return Tt=Pt(Tt,e,t,n,r,i),!0;case"mouseover":return Et=Pt(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,Pt(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,St.set(o,Pt(St.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Nt(e,r),e=ft(e,r,null,t);try{j(pt,e)}finally{dt(e)}}}}function Jt(e,t,n,r){if(null!==(n=Rn(n=lt(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{j(pt,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=Oe;function ln(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function un(){}function hn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=hn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=hn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$",vn="/$",wn="$?",bn="$!",_n=null,Tn=null;function En(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function In(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sn="function"===typeof setTimeout?setTimeout:void 0,kn="function"===typeof clearTimeout?clearTimeout:void 0;function Cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn||n===bn||n===wn){if(0===t)return e;t--}else n===vn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),Nn="__reactInternalInstance$"+An,Pn="__reactEventHandlers$"+An,Dn="__reactContainere$"+An;function Rn(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[Nn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xn(e);null!==e;){if(n=e[Nn])return n;e=xn(e)}return t}n=(e=n).parentNode}return null}function On(e){return!(e=e[Nn]||e[Dn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Mn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ln(e){return e[Pn]||null}function Fn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Vn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}function Un(e,t,n){(t=Vn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function zn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Fn(t);for(t=n.length;0<t--;)Un(n[t],"captured",e);for(t=0;t<n.length;t++)Un(n[t],"bubbled",e)}}function jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Vn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){e&&e.dispatchConfig.registrationName&&jn(e._targetInst,null,e)}function qn(e){ot(e,zn)}var Wn=null,Kn=null,Hn=null;function Gn(){if(Hn)return Hn;var e,t,n=Kn,r=n.length,i="value"in Wn?Wn.value:Wn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Hn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Zn(){return!1}function Yn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Zn,this.isPropagationStopped=Zn,this}function $n(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Xn(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Jn(e){e.eventPool=[],e.getPooled=$n,e.release=Xn}i(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Zn,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Jn(n),n},Jn(Yn);var er=Yn.extend({data:null}),tr=Yn.extend({data:null}),nr=[9,13,27,32],rr=C&&"CompositionEvent"in window,ir=null;C&&"documentMode"in document&&(ir=document.documentMode);var or=C&&"TextEvent"in window&&!ir,sr=C&&(!rr||ir&&8<ir&&11>=ir),ar=String.fromCharCode(32),cr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},lr=!1;function ur(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var dr=!1;var fr={eventTypes:cr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var o=cr.compositionStart;break e;case"compositionend":o=cr.compositionEnd;break e;case"compositionupdate":o=cr.compositionUpdate;break e}o=void 0}else dr?ur(e,n)&&(o=cr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=cr.compositionStart);return o?(sr&&"ko"!==n.locale&&(dr||o!==cr.compositionStart?o===cr.compositionEnd&&dr&&(i=Gn()):(Kn="value"in(Wn=r)?Wn.value:Wn.textContent,dr=!0)),o=er.getPooled(o,t,n,r),i?o.data=i:null!==(i=hr(n))&&(o.data=i),qn(o),i=o):i=null,(e=or?function(e,t){switch(e){case"compositionend":return hr(t);case"keypress":return 32!==t.which?null:(lr=!0,ar);case"textInput":return(e=t.data)===ar&&lr?null:e;default:return null}}(e,n):function(e,t){if(dr)return"compositionend"===e||!rr&&ur(e,t)?(e=Gn(),Hn=Kn=Wn=null,dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sr&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(cr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var gr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yr(e,t,n){return(e=Yn.getPooled(gr.change,e,t,n)).type="change",D(n),qn(e),e}var vr=null,wr=null;function br(e){ct(e)}function _r(e){if(_e(Mn(e)))return e}function Tr(e,t){if("change"===e)return t}var Er=!1;function Ir(){vr&&(vr.detachEvent("onpropertychange",Sr),wr=vr=null)}function Sr(e){if("value"===e.propertyName&&_r(wr))if(e=yr(wr,e,lt(e)),V)ct(e);else{V=!0;try{O(br,e)}finally{V=!1,z()}}}function kr(e,t,n){"focus"===e?(Ir(),wr=n,(vr=t).attachEvent("onpropertychange",Sr)):"blur"===e&&Ir()}function Cr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(wr)}function xr(e,t){if("click"===e)return _r(t)}function Ar(e,t){if("input"===e||"change"===e)return _r(t)}C&&(Er=ut("input")&&(!document.documentMode||9<document.documentMode));var Nr={eventTypes:gr,_isInputEventSupported:Er,extractEvents:function(e,t,n,r){var i=t?Mn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=Tr;else if(mr(i))if(Er)s=Ar;else{s=Cr;var a=kr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=xr);if(s&&(s=s(e,t)))return yr(s,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},Pr=Yn.extend({view:null,detail:null}),Dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dr[e])&&!!t[e]}function Or(){return Rr}var Mr=0,Lr=0,Fr=!1,Vr=!1,Ur=Pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Or,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Mr;return Mr=e.screenX,Fr?"mousemove"===e.type?e.screenX-t:0:(Fr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Lr;return Lr=e.screenY,Vr?"mousemove"===e.type?e.screenY-t:0:(Vr=!0,0)}}),zr=Ur.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Br={eventTypes:jr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?Rn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=Ur,c=jr.mouseLeave,l=jr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=zr,c=jr.pointerLeave,l=jr.pointerEnter,u="pointer");if(e=null==s?o:Mn(s),o=null==t?o:Mn(t),(c=a.getPooled(c,s,n,r)).type=u+"leave",c.target=e,c.relatedTarget=o,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=s)&&u)e:{for(l=u,s=0,e=a=r;e;e=Fn(e))s++;for(e=0,t=l;t;t=Fn(t))e++;for(;0<s-e;)a=Fn(a),s--;for(;0<e-s;)l=Fn(l),e--;for(;s--;){if(a===l||a===l.alternate)break e;a=Fn(a),l=Fn(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(s=r.alternate)||s!==l);)a.push(r),r=Fn(r);for(r=[];u&&u!==l&&(null===(s=u.alternate)||s!==l);)r.push(u),u=Fn(u);for(u=0;u<a.length;u++)jn(a[u],"bubbled",c);for(u=r.length;0<u--;)jn(r[u],"captured",n);return 0===(64&i)?[c]:[c,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wr=Object.prototype.hasOwnProperty;function Kr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Hr=C&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Zr=null,Yr=null,$r=!1;function Xr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $r||null==Qr||Qr!==hn(n)?null:("selectionStart"in(n=Qr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&Kr(Yr,n)?null:(Yr=n,(e=Yn.getPooled(Gr.select,Zr,e,t)).type="select",e.target=Qr,qn(e),e))}var Jr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),o=S.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Mn(t):window,e){case"focus":(mr(i)||"true"===i.contentEditable)&&(Qr=i,Zr=t,Yr=null);break;case"blur":Yr=Zr=Qr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":return $r=!1,Xr(n,r);case"selectionchange":if(Hr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},ei=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Pr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},si=Pr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?oi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Or,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Ur.extend({dataTransfer:null}),ci=Pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Or}),li=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Ur.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),hi={eventTypes:Vt,extractEvents:function(e,t,n,r){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=si;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ci;break;case Ge:case Qe:case Ze:e=ei;break;case Ye:e=li;break;case"scroll":e=Pr;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=zr;break;default:e=Yn}return qn(t=e.getPooled(i,t,n,r)),t}};if(v)throw Error(s(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=Ln,m=On,g=Mn,k({SimpleEventPlugin:hi,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Nr,SelectEventPlugin:Jr,BeforeInputEventPlugin:fr});var di=[],fi=-1;function pi(e){0>fi||(e.current=di[fi],di[fi]=null,fi--)}function mi(e,t){fi++,di[fi]=e.current,e.current=t}var gi={},yi={current:gi},vi={current:!1},wi=gi;function bi(e,t){var n=e.type.contextTypes;if(!n)return gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ti(){pi(vi),pi(yi)}function Ei(e,t,n){if(yi.current!==gi)throw Error(s(168));mi(yi,t),mi(vi,n)}function Ii(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,ge(t)||"Unknown",o));return i({},n,{},r)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,wi=yi.current,mi(yi,e),mi(vi,vi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ii(e,t,wi),r.__reactInternalMemoizedMergedChildContext=e,pi(vi),pi(yi),mi(yi,e)):pi(vi),mi(vi,n)}var Ci=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,Ni=o.unstable_requestPaint,Pi=o.unstable_now,Di=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Fi=o.unstable_IdlePriority,Vi={},Ui=o.unstable_shouldYield,zi=void 0!==Ni?Ni:function(){},ji=null,Bi=null,qi=!1,Wi=Pi(),Ki=1e4>Wi?Pi:function(){return Pi()-Wi};function Hi(){switch(Di()){case Ri:return 99;case Oi:return 98;case Mi:return 97;case Li:return 96;case Fi:return 95;default:throw Error(s(332))}}function Gi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Mi;case 96:return Li;case 95:return Fi;default:throw Error(s(332))}}function Qi(e,t){return e=Gi(e),Ci(e,t)}function Zi(e,t,n){return e=Gi(e),xi(e,t,n)}function Yi(e){return null===ji?(ji=[e],Bi=xi(Ri,Xi)):ji.push(e),Vi}function $i(){if(null!==Bi){var e=Bi;Bi=null,Ai(e)}Xi()}function Xi(){if(!qi&&null!==ji){qi=!0;var e=0;try{var t=ji;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),xi(Ri,$i),n}finally{qi=!1}}}function Ji(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function eo(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var to={current:null},no=null,ro=null,io=null;function oo(){io=ro=no=null}function so(e){var t=to.current;pi(to),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function co(e,t){no=e,io=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ls=!0),e.firstContext=null)}function lo(e,t){if(io!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===no)throw Error(s(308));ro=t,no.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var uo=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function po(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function mo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function go(e,t){var n=e.alternate;null!==n&&fo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function yo(e,t,n,r){var o=e.updateQueue;uo=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var c=s.next;s.next=a.next,a.next=c}s=a,o.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=a))}if(null!==s){c=s.next;var l=o.baseState,u=0,h=null,d=null,f=null;if(null!==c)for(var p=c;;){if((a=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=m,h=l):f=f.next=m,a>u&&(u=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Tc(a,p.suspenseConfig);e:{var g=e,y=p;switch(a=t,m=n,y.tag){case 1:if("function"===typeof(g=y.payload)){l=g.call(m,l,a);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"===typeof(g=y.payload)?g.call(m,l,a):g)||void 0===a)break e;l=i({},l,a);break e;case 2:uo=!0}}null!==p.callback&&(e.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===c){if(null===(a=o.shared.pending))break;p=s.next=a.next,a.next=c,o.baseQueue=s=a,o.shared.pending=null}}null===f?h=l:f.next=d,o.baseState=h,o.baseQueue=f,Ec(u),e.expirationTime=u,e.memoizedState=l}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var wo=Y.ReactCurrentBatchConfig,bo=(new r.Component).refs;function _o(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var To={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=lc(),i=wo.suspense;(i=po(r=uc(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),hc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=lc(),i=wo.suspense;(i=po(r=uc(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),hc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=lc(),r=wo.suspense;(r=po(n=uc(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),mo(e,r),hc(e,n)}};function Eo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Kr(n,r)||!Kr(i,o))}function Io(e,t,n){var r=!1,i=gi,o=t.contextType;return"object"===typeof o&&null!==o?o=lo(o):(i=_i(t)?wi:yi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?bi(e,i):gi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=To,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=bo,ho(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=lo(o):(o=_i(t)?wi:yi.current,i.context=bi(e,o)),yo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(_o(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&To.enqueueReplaceState(i,i.state,null),yo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Co=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===bo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ao(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function No(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Wc(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Kc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Hc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Wc(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case te:return(t=Gc(t,e.mode,n)).return=e,t}if(Co(t)||me(t))return(t=Kc(t,e.mode,n,null)).return=e,t;Ao(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(Co(n)||me(n))return null!==i?null:h(e,t,n,r,null);Ao(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Co(r)||me(r))return h(t,e=e.get(n)||null,r,i,null);Ao(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?l=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(s=o(h,s,m),null===u?l=h:u.sibling=h,u=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,c,l){var u=me(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(i,v.value,l))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return u}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===ne){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=xo(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((r=Kc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Wc(o.type,o.key,o.props,null,e.mode,c)).ref=xo(e,r,o),c.return=e,e=c)}return a(e);case te:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gc(o,e.mode,c)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Hc(o,e.mode,c)).return=e,e=r),a(e);if(Co(o))return m(e,r,o,c);if(me(o))return g(e,r,o,c);if(u&&Ao(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Po=No(!0),Do=No(!1),Ro={},Oo={current:Ro},Mo={current:Ro},Lo={current:Ro};function Fo(e){if(e===Ro)throw Error(s(174));return e}function Vo(e,t){switch(mi(Lo,t),mi(Mo,e),mi(Oo,Ro),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Oo),mi(Oo,t)}function Uo(){pi(Oo),pi(Mo),pi(Lo)}function zo(e){Fo(Lo.current);var t=Fo(Oo.current),n=Fe(t,e.type);t!==n&&(mi(Mo,e),mi(Oo,n))}function jo(e){Mo.current===e&&(pi(Oo),pi(Mo))}var Bo={current:0};function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===wn||n.data===bn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Wo(e,t){return{responder:e,props:t}}var Ko=Y.ReactCurrentDispatcher,Ho=Y.ReactCurrentBatchConfig,Go=0,Qo=null,Zo=null,Yo=null,$o=!1;function Xo(){throw Error(s(321))}function Jo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function es(e,t,n,r,i,o){if(Go=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ko.current=null===e||null===e.memoizedState?Es:Is,e=n(r,i),t.expirationTime===Go){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Yo=Zo=null,t.updateQueue=null,Ko.current=Ss,e=n(r,i)}while(t.expirationTime===Go)}if(Ko.current=Ts,t=null!==Zo&&null!==Zo.next,Go=0,Yo=Zo=Qo=null,$o=!1,t)throw Error(s(300));return e}function ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Qo.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function ns(){if(null===Zo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Zo.next;var t=null===Yo?Qo.memoizedState:Yo.next;if(null!==t)Yo=t,Zo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Zo=e).memoizedState,baseState:Zo.baseState,baseQueue:Zo.baseQueue,queue:Zo.queue,next:null},null===Yo?Qo.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function rs(e,t){return"function"===typeof t?t(e):t}function is(e){var t=ns(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=a=o=null,l=i;do{var u=l.expirationTime;if(u<Go){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(a=c=h,o=r):c=c.next=h,u>Qo.expirationTime&&(Qo.expirationTime=u,Ec(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Tc(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=a,qr(r,t.memoizedState)||(Ls=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function os(e){var t=ns(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);qr(o,t.memoizedState)||(Ls=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ss(e){var t=ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e}).dispatch=_s.bind(null,Qo,e),[t.memoizedState,e]}function as(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function cs(){return ns().memoizedState}function ls(e,t,n,r){var i=ts();Qo.effectTag|=e,i.memoizedState=as(1|t,n,void 0,void 0===r?null:r)}function us(e,t,n,r){var i=ns();r=void 0===r?null:r;var o=void 0;if(null!==Zo){var s=Zo.memoizedState;if(o=s.destroy,null!==r&&Jo(r,s.deps))return void as(t,n,o,r)}Qo.effectTag|=e,i.memoizedState=as(1|t,n,o,r)}function hs(e,t){return ls(516,4,e,t)}function ds(e,t){return us(516,4,e,t)}function fs(e,t){return us(4,2,e,t)}function ps(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ms(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,us(4,2,ps.bind(null,t,e),n)}function gs(){}function ys(e,t){return ts().memoizedState=[e,void 0===t?null:t],e}function vs(e,t){var n=ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Jo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ws(e,t){var n=ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Jo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bs(e,t,n){var r=Hi();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Ho.suspense;Ho.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ho.suspense=r}}))}function _s(e,t,n){var r=lc(),i=wo.suspense;i={expirationTime:r=uc(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Qo||null!==o&&o===Qo)$o=!0,i.expirationTime=Go,Qo.expirationTime=Go;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,qr(a,s))return}catch(c){}hc(e,r)}}var Ts={readContext:lo,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo,useResponder:Xo,useDeferredValue:Xo,useTransition:Xo},Es={readContext:lo,useCallback:ys,useContext:lo,useEffect:hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ls(4,2,ps.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var n=ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_s.bind(null,Qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ts().memoizedState=e},useState:ss,useDebugValue:gs,useResponder:Wo,useDeferredValue:function(e,t){var n=ss(e),r=n[0],i=n[1];return hs((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ss(!1),n=t[0];return t=t[1],[ys(bs.bind(null,t,e),[t,e]),n]}},Is={readContext:lo,useCallback:vs,useContext:lo,useEffect:ds,useImperativeHandle:ms,useLayoutEffect:fs,useMemo:ws,useReducer:is,useRef:cs,useState:function(){return is(rs)},useDebugValue:gs,useResponder:Wo,useDeferredValue:function(e,t){var n=is(rs),r=n[0],i=n[1];return ds((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=is(rs),n=t[0];return t=t[1],[vs(bs.bind(null,t,e),[t,e]),n]}},Ss={readContext:lo,useCallback:vs,useContext:lo,useEffect:ds,useImperativeHandle:ms,useLayoutEffect:fs,useMemo:ws,useReducer:os,useRef:cs,useState:function(){return os(rs)},useDebugValue:gs,useResponder:Wo,useDeferredValue:function(e,t){var n=os(rs),r=n[0],i=n[1];return ds((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=os(rs),n=t[0];return t=t[1],[vs(bs.bind(null,t,e),[t,e]),n]}},ks=null,Cs=null,xs=!1;function As(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ns(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ps(e){if(xs){var t=Cs;if(t){var n=t;if(!Ns(e,t)){if(!(t=Cn(n.nextSibling))||!Ns(e,t))return e.effectTag=-1025&e.effectTag|2,xs=!1,void(ks=e);As(ks,n)}ks=e,Cs=Cn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,xs=!1,ks=e}}function Ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ks=e}function Rs(e){if(e!==ks)return!1;if(!xs)return Ds(e),xs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!In(t,e.memoizedProps))for(t=Cs;t;)As(e,t),t=Cn(t.nextSibling);if(Ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn){if(0===t){Cs=Cn(e.nextSibling);break e}t--}else n!==yn&&n!==bn&&n!==wn||t++}e=e.nextSibling}Cs=null}}else Cs=ks?Cn(e.stateNode.nextSibling):null;return!0}function Os(){Cs=ks=null,xs=!1}var Ms=Y.ReactCurrentOwner,Ls=!1;function Fs(e,t,n,r){t.child=null===e?Do(t,null,n,r):Po(t,e.child,n,r)}function Vs(e,t,n,r,i){n=n.render;var o=t.ref;return co(t,i),r=es(e,t,n,r,o,i),null===e||Ls?(t.effectTag|=1,Fs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function Us(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wc(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zs(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:Kr)(i,r)&&e.ref===t.ref)?ta(e,t,o):(t.effectTag|=1,(e=qc(s,r)).ref=t.ref,e.return=t,t.child=e)}function zs(e,t,n,r,i,o){return null!==e&&Kr(e.memoizedProps,r)&&e.ref===t.ref&&(Ls=!1,i<o)?(t.expirationTime=e.expirationTime,ta(e,t,o)):Bs(e,t,n,r,o)}function js(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Bs(e,t,n,r,i){var o=_i(n)?wi:yi.current;return o=bi(t,o),co(t,i),n=es(e,t,n,r,o,i),null===e||Ls?(t.effectTag|=1,Fs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function qs(e,t,n,r,i){if(_i(n)){var o=!0;Si(t)}else o=!1;if(co(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Io(t,n,r),ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=lo(l):l=bi(t,l=_i(n)?wi:yi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&So(t,s,r,l),uo=!1;var d=t.memoizedState;s.state=d,yo(t,r,s,i),c=t.memoizedState,a!==r||d!==c||vi.current||uo?("function"===typeof u&&(_o(t,n,u,r),c=t.memoizedState),(a=uo||Eo(t,n,a,r,d,c,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,fo(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:eo(t.type,a),c=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=lo(l):l=bi(t,l=_i(n)?wi:yi.current),(h="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&So(t,s,r,l),uo=!1,c=t.memoizedState,s.state=c,yo(t,r,s,i),d=t.memoizedState,a!==r||c!==d||vi.current||uo?("function"===typeof u&&(_o(t,n,u,r),d=t.memoizedState),(u=uo||Eo(t,n,a,r,c,d,l))?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Ws(e,t,n,r,o,i)}function Ws(e,t,n,r,i,o){js(e,t);var s=0!==(64&t.effectTag);if(!r&&!s)return i&&ki(t,n,!1),ta(e,t,o);r=t.stateNode,Ms.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Po(t,e.child,null,o),t.child=Po(t,null,a,o)):Fs(e,t,a,o),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Ks(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),Vo(e,t.containerInfo)}var Hs,Gs,Qs,Zs,Ys={dehydrated:null,retryTime:0};function $s(e,t,n){var r,i=t.mode,o=t.pendingProps,s=Bo.current,a=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),mi(Bo,1&s),null===e){if(void 0!==o.fallback&&Ps(t),a){if(a=o.fallback,(o=Kc(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Kc(a,i,n,null)).return=t,o.sibling=n,t.memoizedState=Ys,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Do(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(o=o.fallback,(n=qc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=qc(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ys,t.child=n,i}return n=Po(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Kc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Kc(a,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ys,t.child=o,n}return t.memoizedState=null,t.child=Po(t,e,o.children,n)}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ao(e.return,t)}function Js(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function ea(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fs(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xs(e,n);else if(19===e.tag)Xs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mi(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Js(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Js(t,!0,n,null,o,t.lastEffect);break;case"together":Js(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ta(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Ec(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function na(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ra(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&Ti(),null;case 3:return Uo(),pi(vi),pi(yi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Rs(t)||(t.effectTag|=4),Gs(t),null;case 5:jo(t),n=Fo(Lo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Qs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Fo(Oo.current),Rs(t)){r=t.stateNode,o=t.type;var a=t.memoizedProps;switch(r[Nn]=t,r[Pn]=a,o){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Qt($e[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":Ee(r,a),Qt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qt("invalid",r),ln(n,"onChange");break;case"textarea":Pe(r,a),Qt("invalid",r),ln(n,"onChange")}for(var c in sn(o,a),e=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):I.hasOwnProperty(c)&&null!=l&&ln(n,c)}switch(o){case"input":be(r),ke(r,a,!0);break;case"textarea":be(r),Re(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===cn&&(e=Le(o)),e===cn?"script"===o?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(o,{is:r.is}):(e=c.createElement(o),"select"===o&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,o),e[Nn]=t,e[Pn]=r,Hs(e,t,!1,!1),t.stateNode=e,c=an(o,r),o){case"iframe":case"object":case"embed":Qt("load",e),l=r;break;case"video":case"audio":for(l=0;l<$e.length;l++)Qt($e[l],e);l=r;break;case"source":Qt("error",e),l=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),l=r;break;case"form":Qt("reset",e),Qt("submit",e),l=r;break;case"details":Qt("toggle",e),l=r;break;case"input":Ee(e,r),l=Te(e,r),Qt("invalid",e),ln(n,"onChange");break;case"option":l=xe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Qt("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,r),l=Ne(e,r),Qt("invalid",e),ln(n,"onChange");break;default:l=r}sn(o,l);var u=l;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?rn(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ze(e,h):"children"===a?"string"===typeof h?("textarea"!==o||""!==h)&&je(e,h):"number"===typeof h&&je(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(I.hasOwnProperty(a)?null!=h&&ln(n,a):null!=h&&$(e,a,h,c))}switch(o){case"input":be(e),ke(e,r,!1);break;case"textarea":be(e),Re(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=un)}En(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Zs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Fo(Lo.current),Fo(Oo.current),Rs(t)?(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Nn]=t,t.stateNode=n)}return null;case 13:return pi(Bo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Rs(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?qa===Ra&&(qa=La):(qa!==Ra&&qa!==La||(qa=Fa),0!==Qa&&null!==za&&(Yc(za,Ba),$c(za,Qa)))),(n||r)&&(t.effectTag|=4),null);case 4:return Uo(),Gs(t),null;case 10:return so(t),null;case 19:if(pi(Bo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(a=r.rendering)){if(o)na(r,!1);else if(qa!==Ra||null!==e&&0!==(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=qo(a))){for(t.effectTag|=64,na(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return mi(Bo,1&Bo.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=qo(a))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),na(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,na(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ki()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ki(),n.sibling=null,t=Bo.current,mi(Bo,o?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function ia(e){switch(e.tag){case 1:_i(e.type)&&Ti();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Uo(),pi(vi),pi(yi),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return jo(e),null;case 13:return pi(Bo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(Bo),null;case 4:return Uo(),null;case 10:return so(e),null;default:return null}}function oa(e,t){return{value:e,source:t,stack:ye(t)}}Hs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(){},Qs=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a,c,l=t.stateNode;switch(Fo(Oo.current),e=null,n){case"input":s=Te(l,s),r=Te(l,r),e=[];break;case"option":s=xe(l,s),r=xe(l,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Ne(l,s),r=Ne(l,r),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(l.onclick=un)}for(a in sn(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(c in l=s[a])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(I.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var u=r[a];if(l=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(null!=u||null!=l))if("style"===a)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(a,n)),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(a,u)):"children"===a?l===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(I.hasOwnProperty(a)?(null!=u&&ln(o,a),e||l===u||(e=[])):(e=e||[]).push(a,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Zs=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var sa="function"===typeof WeakSet?WeakSet:Set;function aa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ca(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Mc(e,n)}else t.current=null}function la(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:eo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(s(163))}function ua(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function da(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ha(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:eo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&En(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))))}throw Error(s(163))}function fa(e,t,n){switch("function"===typeof Uc&&Uc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Mc(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ca(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Mc(e,n)}}(t,n);break;case 5:ca(t);break;case 4:wa(e,t,n)}}function pa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&pa(t)}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(je(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?ya(e,n,t):va(e,n,t)}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=un));else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function wa(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=n,h=l;;)if(fa(c,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(c=r,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(fa(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ua(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Pn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ie(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var a=o[i],c=o[i+1];"style"===a?rn(n,c):"dangerouslySetInnerHTML"===a?ze(n,c):"children"===a?je(n,c):$(n,a,c,t)}switch(e){case"input":Se(n,r);break;case"textarea":De(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ya=Ki()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void _a(t);case 19:return void _a(t)}throw Error(s(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sa),t.forEach((function(t){var r=Fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ta="function"===typeof WeakMap?WeakMap:Map;function Ea(e,t,n){(n=po(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ja||(Ja=!0,ec=r),aa(e,t)},n}function Ia(e,t,n){(n=po(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return aa(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this),aa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Sa,ka=Math.ceil,Ca=Y.ReactCurrentDispatcher,xa=Y.ReactCurrentOwner,Aa=0,Na=8,Pa=16,Da=32,Ra=0,Oa=1,Ma=2,La=3,Fa=4,Va=5,Ua=Aa,za=null,ja=null,Ba=0,qa=Ra,Wa=null,Ka=1073741823,Ha=1073741823,Ga=null,Qa=0,Za=!1,Ya=0,$a=500,Xa=null,Ja=!1,ec=null,tc=null,nc=!1,rc=null,ic=90,oc=null,sc=0,ac=null,cc=0;function lc(){return(Ua&(Pa|Da))!==Aa?1073741821-(Ki()/10|0):0!==cc?cc:cc=1073741821-(Ki()/10|0)}function uc(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Hi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Ua&Pa)!==Aa)return Ba;if(null!==n)e=Ji(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ji(e,150,100);break;case 97:case 96:e=Ji(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==za&&e===Ba&&--e,e}function hc(e,t){if(50<sc)throw sc=0,ac=null,Error(s(185));if(null!==(e=dc(e,t))){var n=Hi();1073741823===t?(Ua&Na)!==Aa&&(Ua&(Pa|Da))===Aa?gc(e):(pc(e),Ua===Aa&&$i()):pc(e),(4&Ua)===Aa||98!==n&&99!==n||(null===oc?oc=new Map([[e,t]]):(void 0===(n=oc.get(e))||n>t)&&oc.set(e,t))}}function dc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(za===i&&(Ec(t),qa===Fa&&Yc(i,Ba)),$c(i,t)),i}function fc(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Zc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function pc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(gc.bind(null,e));else{var t=fc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=lc();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Vi&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Yi(gc.bind(null,e)):Zi(r,mc.bind(null,e),{timeout:10*(1073741821-t)-Ki()}),e.callbackNode=t}}}function mc(e,t){if(cc=0,t)return Xc(e,t=lc()),pc(e),null;var n=fc(e);if(0!==n){if(t=e.callbackNode,(Ua&(Pa|Da))!==Aa)throw Error(s(327));if(Dc(),e===za&&n===Ba||wc(e,n),null!==ja){var r=Ua;Ua|=Pa;for(var i=_c();;)try{Sc();break}catch(c){bc(e,c)}if(oo(),Ua=r,Ca.current=i,qa===Oa)throw t=Wa,wc(e,n),Yc(e,n),pc(e),t;if(null===ja)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qa,za=null,r){case Ra:case Oa:throw Error(s(345));case Ma:Xc(e,2<n?2:n);break;case La:if(Yc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=xc(i)),1073741823===Ka&&10<(i=Ya+$a-Ki())){if(Za){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,wc(e,n);break}}if(0!==(o=fc(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Sn(Ac.bind(null,e),i);break}Ac(e);break;case Fa:if(Yc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=xc(i)),Za&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,wc(e,n);break}if(0!==(i=fc(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ha?r=10*(1073741821-Ha)-Ki():1073741823===Ka?r=0:(r=10*(1073741821-Ka)-5e3,0>(r=(i=Ki())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ka(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Sn(Ac.bind(null,e),r);break}Ac(e);break;case Va:if(1073741823!==Ka&&null!==Ga){o=Ka;var a=Ga;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Ki()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Yc(e,n),e.timeoutHandle=Sn(Ac.bind(null,e),r);break}}Ac(e);break;default:throw Error(s(329))}if(pc(e),e.callbackNode===t)return mc.bind(null,e)}}return null}function gc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Ua&(Pa|Da))!==Aa)throw Error(s(327));if(Dc(),e===za&&t===Ba||wc(e,t),null!==ja){var n=Ua;Ua|=Pa;for(var r=_c();;)try{Ic();break}catch(i){bc(e,i)}if(oo(),Ua=n,Ca.current=r,qa===Oa)throw n=Wa,wc(e,t),Yc(e,t),pc(e),n;if(null!==ja)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,za=null,Ac(e),pc(e)}return null}function yc(e,t){var n=Ua;Ua|=1;try{return e(t)}finally{(Ua=n)===Aa&&$i()}}function vc(e,t){var n=Ua;Ua&=-2,Ua|=Na;try{return e(t)}finally{(Ua=n)===Aa&&$i()}}function wc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,kn(n)),null!==ja)for(n=ja.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ti();break;case 3:Uo(),pi(vi),pi(yi);break;case 5:jo(r);break;case 4:Uo();break;case 13:case 19:pi(Bo);break;case 10:so(r)}n=n.return}za=e,ja=qc(e.current,null),Ba=t,qa=Ra,Wa=null,Ha=Ka=1073741823,Ga=null,Qa=0,Za=!1}function bc(e,t){for(;;){try{if(oo(),Ko.current=Ts,$o)for(var n=Qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Go=0,Yo=Zo=Qo=null,$o=!1,null===ja||null===ja.return)return qa=Oa,Wa=t,ja=null;e:{var i=e,o=ja.return,s=ja,a=t;if(t=Ba,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var c=a;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var u=0!==(1&Bo.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=po(1073741823,null);y.tag=2,mo(s,y)}s.expirationTime=1073741823;break e}a=void 0,s=t;var v=i.pingCache;if(null===v?(v=i.pingCache=new Ta,a=new Set,v.set(c,a)):void 0===(a=v.get(c))&&(a=new Set,v.set(c,a)),!a.has(s)){a.add(s);var w=Lc.bind(null,i,c,s);c.then(w,w)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);a=Error((ge(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(s))}qa!==Va&&(qa=Ma),a=oa(a,s),h=o;do{switch(h.tag){case 3:c=a,h.effectTag|=4096,h.expirationTime=t,go(h,Ea(h,c,t));break e;case 1:c=a;var b=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===tc||!tc.has(_)))){h.effectTag|=4096,h.expirationTime=t,go(h,Ia(h,c,t));break e}}h=h.return}while(null!==h)}ja=Cc(ja)}catch(T){t=T;continue}break}}function _c(){var e=Ca.current;return Ca.current=Ts,null===e?Ts:e}function Tc(e,t){e<Ka&&2<e&&(Ka=e),null!==t&&e<Ha&&2<e&&(Ha=e,Ga=t)}function Ec(e){e>Qa&&(Qa=e)}function Ic(){for(;null!==ja;)ja=kc(ja)}function Sc(){for(;null!==ja&&!Ui();)ja=kc(ja)}function kc(e){var t=Sa(e.alternate,e,Ba);return e.memoizedProps=e.pendingProps,null===t&&(t=Cc(e)),xa.current=null,t}function Cc(e){ja=e;do{var t=ja.alternate;if(e=ja.return,0===(2048&ja.effectTag)){if(t=ra(t,ja,Ba),1===Ba||1!==ja.childExpirationTime){for(var n=0,r=ja.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ja.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ja.firstEffect),null!==ja.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ja.firstEffect),e.lastEffect=ja.lastEffect),1<ja.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ja:e.firstEffect=ja,e.lastEffect=ja))}else{if(null!==(t=ia(ja)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ja.sibling))return t;ja=e}while(null!==ja);return qa===Ra&&(qa=Va),null}function xc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Ac(e){var t=Hi();return Qi(99,Nc.bind(null,e,t)),null}function Nc(e,t){do{Dc()}while(null!==rc);if((Ua&(Pa|Da))!==Aa)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=xc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===za&&(ja=za=null,Ba=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ua;Ua|=Da,xa.current=null,_n=Gt;var a=mn();if(gn(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{var l=(c=(c=a.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{c.nodeType,h.nodeType}catch(k){c=null;break e}var d=0,f=-1,p=-1,m=0,g=0,y=a,v=null;t:for(;;){for(var w;y!==c||0!==u&&3!==y.nodeType||(f=d+u),y!==h||0!==l&&3!==y.nodeType||(p=d+l),3===y.nodeType&&(d+=y.nodeValue.length),null!==(w=y.firstChild);)v=y,y=w;for(;;){if(y===a)break t;if(v===c&&++m===u&&(f=d),v===h&&++g===l&&(p=d),null!==(w=y.nextSibling))break;v=(y=v).parentNode}y=w}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;Tn={activeElementDetached:null,focusedElem:a,selectionRange:c},Gt=!1,Xa=i;do{try{Pc()}catch(k){if(null===Xa)throw Error(s(330));Mc(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);Xa=i;do{try{for(a=e,c=t;null!==Xa;){var b=Xa.effectTag;if(16&b&&je(Xa.stateNode,""),128&b){var _=Xa.alternate;if(null!==_){var T=_.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&b){case 2:ga(Xa),Xa.effectTag&=-3;break;case 6:ga(Xa),Xa.effectTag&=-3,ba(Xa.alternate,Xa);break;case 1024:Xa.effectTag&=-1025;break;case 1028:Xa.effectTag&=-1025,ba(Xa.alternate,Xa);break;case 4:ba(Xa.alternate,Xa);break;case 8:wa(a,u=Xa,c),pa(u)}Xa=Xa.nextEffect}}catch(k){if(null===Xa)throw Error(s(330));Mc(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);if(T=Tn,_=mn(),b=T.focusedElem,c=T.selectionRange,_!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==c&&gn(b)&&(_=c.start,void 0===(T=c.end)&&(T=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(T,b.value.length)):(T=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(T=T.getSelection(),u=b.textContent.length,a=Math.min(c.start,u),c=void 0===c.end?a:Math.min(c.end,u),!T.extend&&a>c&&(u=c,c=a,a=u),u=fn(b,a),h=fn(b,c),u&&h&&(1!==T.rangeCount||T.anchorNode!==u.node||T.anchorOffset!==u.offset||T.focusNode!==h.node||T.focusOffset!==h.offset)&&((_=_.createRange()).setStart(u.node,u.offset),T.removeAllRanges(),a>c?(T.addRange(_),T.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),T.addRange(_))))),_=[];for(T=b;T=T.parentNode;)1===T.nodeType&&_.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(T=_[b]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Gt=!!_n,Tn=_n=null,e.current=n,Xa=i;do{try{for(b=e;null!==Xa;){var E=Xa.effectTag;if(36&E&&da(b,Xa.alternate,Xa),128&E){_=void 0;var I=Xa.ref;if(null!==I){var S=Xa.stateNode;Xa.tag,_=S,"function"===typeof I?I(_):I.current=_}}Xa=Xa.nextEffect}}catch(k){if(null===Xa)throw Error(s(330));Mc(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);Xa=null,zi(),Ua=o}else e.current=n;if(nc)nc=!1,rc=e,ic=t;else for(Xa=i;null!==Xa;)t=Xa.nextEffect,Xa.nextEffect=null,Xa=t;if(0===(t=e.firstPendingTime)&&(tc=null),1073741823===t?e===ac?sc++:(sc=0,ac=e):sc=0,"function"===typeof Vc&&Vc(n.stateNode,r),pc(e),Ja)throw Ja=!1,e=ec,ec=null,e;return(Ua&Na)!==Aa||$i(),null}function Pc(){for(;null!==Xa;){var e=Xa.effectTag;0!==(256&e)&&la(Xa.alternate,Xa),0===(512&e)||nc||(nc=!0,Zi(97,(function(){return Dc(),null}))),Xa=Xa.nextEffect}}function Dc(){if(90!==ic){var e=97<ic?97:ic;return ic=90,Qi(e,Rc)}}function Rc(){if(null===rc)return!1;var e=rc;if(rc=null,(Ua&(Pa|Da))!==Aa)throw Error(s(331));var t=Ua;for(Ua|=Da,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ua(5,n),ha(5,n)}}catch(r){if(null===e)throw Error(s(330));Mc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ua=t,$i(),!0}function Oc(e,t,n){mo(e,t=Ea(e,t=oa(n,t),1073741823)),null!==(e=dc(e,1073741823))&&pc(e)}function Mc(e,t){if(3===e.tag)Oc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Oc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){mo(n,e=Ia(n,e=oa(t,e),1073741823)),null!==(n=dc(n,1073741823))&&pc(n);break}}n=n.return}}function Lc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),za===e&&Ba===n?qa===Fa||qa===La&&1073741823===Ka&&Ki()-Ya<$a?wc(e,Ba):Za=!0:Zc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,pc(e)))}function Fc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=uc(t=lc(),e,null)),null!==(e=dc(e,t))&&pc(e)}Sa=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)Ls=!0;else{if(r<n){switch(Ls=!1,t.tag){case 3:Ks(t),Os();break;case 5:if(zo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_i(t.type)&&Si(t);break;case 4:Vo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,mi(to,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?$s(e,t,n):(mi(Bo,1&Bo.current),null!==(t=ta(e,t,n))?t.sibling:null);mi(Bo,1&Bo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return ea(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),mi(Bo,Bo.current),!r)return null}return ta(e,t,n)}Ls=!1}}else Ls=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,yi.current),co(t,n),i=es(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var o=!0;Si(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ho(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&_o(t,r,a,e),i.updater=To,t.stateNode=i,i._reactInternalFiber=t,ko(t,r,e,n),t=Ws(null,t,r,!0,o,n)}else t.tag=0,Fs(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===he)return 14}return 2}(i),e=eo(i,e),o){case 0:t=Bs(null,t,i,e,n);break e;case 1:t=qs(null,t,i,e,n);break e;case 11:t=Vs(null,t,i,e,n);break e;case 14:t=Us(null,t,i,eo(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,qs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:if(Ks(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,fo(e,t),yo(t,r,null,n),(r=t.memoizedState.element)===i)Os(),t=ta(e,t,n);else{if((i=t.stateNode.hydrate)&&(Cs=Cn(t.stateNode.containerInfo.firstChild),ks=t,i=xs=!0),i)for(n=Do(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Fs(e,t,r,n),Os();t=t.child}return t;case 5:return zo(t),null===e&&Ps(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,In(r,i)?a=null:null!==o&&In(r,o)&&(t.effectTag|=16),js(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Fs(e,t,a,n),t=t.child),t;case 6:return null===e&&Ps(t),null;case 13:return $s(e,t,n);case 4:return Vo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Po(t,null,r,n):Fs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return Fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var c=t.type._context;if(mi(to,c._currentValue),c._currentValue=o,null!==a)if(c=a.value,0===(o=qr(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(a.children===i.children&&!vi.current){t=ta(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){a=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===c.tag&&((u=po(n,null)).tag=2,mo(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ao(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else a=10===c.tag&&c.type===t.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===t){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}Fs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,co(t,n),r=r(i=lo(i,o.unstable_observedBits)),t.effectTag|=1,Fs(e,t,r,n),t.child;case 14:return o=eo(i=t.type,t.pendingProps),Us(e,t,i,o=eo(i.type,o),r,n);case 15:return zs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_i(r)?(e=!0,Si(t)):e=!1,co(t,n),Io(t,r,i),ko(t,r,i,n),Ws(null,t,r,!0,e,n);case 19:return ea(e,t,n)}throw Error(s(156,t.tag))};var Vc=null,Uc=null;function zc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function jc(e,t,n,r){return new zc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Bc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case ne:return Kc(n.children,i,o,t);case ae:a=8,i|=7;break;case re:a=8,i|=1;break;case ie:return(e=jc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case le:return(e=jc(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=o,e;case ue:return(e=jc(19,n,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:a=10;break e;case se:a=9;break e;case ce:a=11;break e;case he:a=14;break e;case de:a=16,r=null;break e;case fe:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=jc(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Kc(e,t,n,r){return(e=jc(7,e,r,t)).expirationTime=n,e}function Hc(e,t,n){return(e=jc(6,e,null,t)).expirationTime=n,e}function Gc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Zc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Yc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function $c(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Xc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Jc(e,t,n,r){var i=t.current,o=lc(),a=wo.suspense;o=uc(o,i,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(_i(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(s(171))}if(1===n.tag){var l=n.type;if(_i(l)){n=Ii(n,l,c);break e}}n=c}else n=gi;return null===t.context?t.context=n:t.pendingContext=n,(t=po(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mo(i,t),hc(i,o),o}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=new Qc(e,t,n=null!=n&&!0===n.hydrate),i=jc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ho(i),e[Dn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);Ct.forEach((function(e){mt(e,t,n)})),xt.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=el(s);a.call(e)}}Jc(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var c=i;i=function(){var e=el(s);c.call(e)}}vc((function(){Jc(t,s,e,i)}))}return el(s)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rl.prototype.render=function(e){Jc(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jc(null,e,null,(function(){t[Dn]=null}))},gt=function(e){if(13===e.tag){var t=Ji(lc(),150,100);hc(e,t),nl(e,t)}},yt=function(e){13===e.tag&&(hc(e,3),nl(e,3))},vt=function(e){if(13===e.tag){var t=lc();hc(e,t=uc(t,e,null)),nl(e,t)}},x=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ln(r);if(!i)throw Error(s(90));_e(r),Se(r,i)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},O=yc,M=function(e,t,n,r,i){var o=Ua;Ua|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(Ua=o)===Aa&&$i()}},L=function(){(Ua&(1|Pa|Da))===Aa&&(function(){if(null!==oc){var e=oc;oc=null,e.forEach((function(e,t){Xc(t,e),pc(t)})),$i()}}(),Dc())},F=function(e,t){var n=Ua;Ua|=2;try{return e(t)}finally{(Ua=n)===Aa&&$i()}};var al={Events:[On,Mn,Ln,k,E,qn,function(e){ot(e,Bn)},D,R,Xt,ct,Dc,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Vc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Uc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Rn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Ua&(Pa|Da))!==Aa)throw Error(s(187));var n=Ua;Ua|=1;try{return Qi(99,e.bind(null,t))}finally{Ua=n,$i()}},t.hydrate=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!il(e))throw Error(s(40));return!!e._reactRootContainer&&(vc((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[Dn]=null}))})),!0)},t.unstable_batchedUpdates=yc,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return ol(e,t,n,!1,r)},t.version="16.13.1"},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function T(e){return _(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return T(e)||_(e)===u},t.isConcurrentMode=T,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},7441:(e,t,n)=>{"use strict";e.exports=n(1372)},7156:(e,t)=>{"use strict";t.Z=function(e,t,n){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,n),function(r,i,o){for(var s=arguments.length,a=Array(3<s?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return function(e,t,n,r){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,r):!(!0!==!!e)&&!!e}(t,r,i,o)?function(e,t){return Object.hasOwnProperty.call(e,t)}(r,i)?e.apply(void 0,[r,i,o].concat(a)):function(e,t,n,r){return r?new Error(r):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+n+"`.")}(r,i,o,n):e.apply(void 0,[r,i,o].concat(a))}}},9117:(e,t,n)=>{"use strict";var r=n(1725),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function b(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}function _(){}function T(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=b.prototype;var E=T.prototype=new _;E.constructor=T,r(E,b.prototype),E.isPureReactComponent=!0;var I={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:I.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,N=[];function P(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function R(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case o:case s:a=!0}}if(a)return n(r,e,""===t?"."+M(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=t+M(i=e[c],c);a+=R(i,l,n,r)}else if(null===e||"object"!==typeof e?l=null:l="function"===typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),c=0;!(i=e.next()).done;)a+=R(i=i.value,l=t+M(i,c++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function O(e,t,n){return null==e?0:R(e,"",t,n)}function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?V(e,r,n,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function V(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),O(e,F,t=P(t,o,r,i)),D(t)}var U={current:null};function z(){var e=U.current;if(null===e)throw Error(y(321));return e}var j={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return V(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;O(e,L,t=P(null,null,t,n)),D(t)},count:function(e){return O(e,(function(){return null}),null)},toArray:function(e){var t=[];return V(e,t,null,(function(e){return e})),t},only:function(e){if(!x(e))throw Error(y(143));return e}},t.Component=b,t.Fragment=a,t.Profiler=l,t.PureComponent=T,t.StrictMode=c,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),s=e.key,a=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,c=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:e.type,key:s,ref:a,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return z().useCallback(e,t)},t.useContext=function(e,t){return z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return z().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return z().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return z().useMemo(e,t)},t.useReducer=function(e,t,n){return z().useReducer(e,t,n)},t.useRef=function(e){return z().useRef(e)},t.useState=function(e){return z().useState(e)},t.version="16.13.1"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},6813:(e,t)=>{"use strict";var n,r,i,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,c=null,l=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(n){throw setTimeout(l,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==a?setTimeout(n,0,e):(a=e,setTimeout(l,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,v=null,w=-1,b=5,_=0;o=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+b;try{v(!0,e)?E.postMessage(null):(y=!1,v=null)}catch(n){throw E.postMessage(null),n}}else y=!1},n=function(e){v=e,y||(y=!0,E.postMessage(null))},r=function(e,n){w=f((function(){e(t.unstable_now())}),n)},i=function(){p(w),w=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,c=e[a];if(void 0!==s&&0>C(s,n))void 0!==c&&0>C(c,s)?(e[r]=c,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[a]=n,r=a}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],A=[],N=1,P=null,D=3,R=!1,O=!1,M=!1;function L(e){for(var t=S(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,I(x,t)}t=S(A)}}function F(e){if(M=!1,L(e),!O)if(null!==S(x))O=!0,n(V);else{var t=S(A);null!==t&&r(F,t.startTime-e)}}function V(e,n){O=!1,M&&(M=!1,i()),R=!0;var s=D;try{for(L(n),P=S(x);null!==P&&(!(P.expirationTime>n)||e&&!o());){var a=P.callback;if(null!==a){P.callback=null,D=P.priorityLevel;var c=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?P.callback=c:P===S(x)&&k(x),L(n)}else k(x);P=S(x)}if(null!==P)var l=!0;else{var u=S(A);null!==u&&r(F,u.startTime-n),l=!1}return l}finally{P=null,D=s,R=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(V))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return S(x)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();if("object"===typeof s&&null!==s){var c=s.delay;c="number"===typeof c&&0<c?a+c:a,s="number"===typeof s.timeout?s.timeout:U(e)}else s=U(e),c=a;return e={id:N++,callback:o,priorityLevel:e,startTime:c,expirationTime:s=c+s,sortIndex:-1},c>a?(e.sortIndex=c,I(A,e),null===S(x)&&e===S(A)&&(M?i():M=!0,r(F,c-a))):(e.sortIndex=s,I(x,e),O||R||(O=!0,n(V))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=S(x);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},8675:(e,t,n)=>{var r,i,o;o=function(){var e,t,n=document,r=n.getElementsByTagName("head")[0],i=!1,o="push",s="readyState",a="onreadystatechange",c={},l={},u={},h={};function d(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return i;return 1}function f(e,t){d(e,(function(e){return t(e),1}))}function p(t,n,r){t=t[o]?t:[t];var i=n&&n.call,s=i?n:r,a=i?t.join(""):n,g=t.length;function y(e){return e.call?e():c[e]}function v(){if(! --g)for(var e in c[a]=1,s&&s(),u)d(e.split("|"),y)&&!f(u[e],y)&&(u[e]=[])}return setTimeout((function(){f(t,(function t(n,r){return null===n?v():(r||/^https?:\/\//.test(n)||!e||(n=-1===n.indexOf(".js")?e+n+".js":e+n),h[n]?(a&&(l[a]=1),2==h[n]?v():setTimeout((function(){t(n,!0)}),0)):(h[n]=1,a&&(l[a]=1),void m(n,v)))}))}),0),p}function m(e,i){var o,c=n.createElement("script");c.onload=c.onerror=c[a]=function(){c[s]&&!/^c|loade/.test(c[s])||o||(c.onload=c[a]=null,o=1,h[e]=2,i())},c.async=1,c.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,r.insertBefore(c,r.lastChild)}return p.get=m,p.order=function(e,t,n){!function r(i){i=e.shift(),e.length?p(i,r):p(i,t,n)}()},p.path=function(t){e=t},p.urlArgs=function(e){t=e},p.ready=function(e,t,n){e=e[o]?e:[e];var r,i=[];return!f(e,(function(e){c[e]||i[o](e)}))&&d(e,(function(e){return c[e]}))?t():(r=e.join("|"),u[r]=u[r]||[],u[r][o](t),n&&n(i)),p},p.done=function(e){p([null],e)},p},e.exports?e.exports=o():void 0===(i="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},7326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},3144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},4578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},5987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},9611:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},2982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1002);function i(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:String(t)}},1002:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>be,SDK_VERSION:()=>Et,_DEFAULT_ENTRY_NAME:()=>ht,_addComponent:()=>mt,_addOrOverwriteComponent:()=>gt,_apps:()=>ft,_clearComponents:()=>bt,_components:()=>pt,_getProvider:()=>vt,_registerComponent:()=>yt,_removeServiceInstance:()=>wt,deleteApp:()=>Ct,getApp:()=>St,getApps:()=>kt,initializeApp:()=>It,onLog:()=>At,registerVersion:()=>xt,setLogLevel:()=>Nt});var t=n(2791),r=n(4164),i=n(8688);const o=function(e){let{active:n,text:r,Icon:i}=e;return t.createElement("div",{className:"sidebarOption ".concat(n&&"sidebarOption--active")},t.createElement(i,null),t.createElement("h2",null,r))};var s=n(9112),a=n(3880),c=n(2778),l=n(9225),u=n(585),h=n(7543),d=n(3155),f=n(367),p=n(5987),m=n(7462),g=n(8182),y=n(5186),v=n(3108);function w(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function b(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){w(e,t),w(n,t)}}),[e,n])}var _="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function T(e){var n=t.useRef(e);return _((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var E=!0,I=!1,S=null,k={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function C(e){e.metaKey||e.altKey||e.ctrlKey||(E=!0)}function x(){E=!1}function A(){"hidden"===this.visibilityState&&I&&(E=!0)}function N(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return E||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!k[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function P(){I=!0,window.clearTimeout(S),S=window.setTimeout((function(){I=!1}),100)}function D(){var e=t.useCallback((function(e){var t=r.findDOMNode(e);null!=t&&function(e){e.addEventListener("keydown",C,!0),e.addEventListener("mousedown",x,!0),e.addEventListener("pointerdown",x,!0),e.addEventListener("touchstart",x,!0),e.addEventListener("visibilitychange",A,!0)}(t.ownerDocument)}),[]);return{isFocusVisible:N,onBlurVisible:P,ref:e}}var R=n(2982),O=n(3366),M=n(7326),L=n(4578);const F=t.createContext(null);function V(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function U(e,t,n){return null!=n[t]?n[t]:e.props[t]}function z(e,n,r){var i=V(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];a[i[c][r]]=n(l)}a[c]=n(c)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var c=s in n,l=s in i,u=n[s],h=(0,t.isValidElement)(u)&&!u.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:U(a,"exit",e),enter:U(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:U(a,"exit",e),enter:U(a,"enter",e)})}})),o}var j=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},B=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,M.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,L.Z)(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,V(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:U(e,"appear",r),enter:U(e,"enter",r),exit:U(e,"exit",r)})}))):z(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=V(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,m.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,O.Z)(e,["component","childFactory"]),o=this.state.contextValue,s=j(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(F.Provider,{value:o},s):t.createElement(F.Provider,{value:o},t.createElement(n,i,s))},n}(t.Component);B.propTypes={},B.defaultProps={component:"div",childFactory:function(e){return e}};const q=B;var W="undefined"===typeof window?t.useEffect:t.useLayoutEffect;const K=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,o=e.rippleX,s=e.rippleY,a=e.rippleSize,c=e.in,l=e.onExited,u=void 0===l?function(){}:l,h=e.timeout,d=t.useState(!1),f=d[0],p=d[1],m=(0,g.Z)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:a,height:a,top:-a/2+s,left:-a/2+o},v=(0,g.Z)(n.child,f&&n.childLeaving,i&&n.childPulsate),w=T(u);return W((function(){if(!c){p(!0);var e=setTimeout(w,h);return function(){clearTimeout(e)}}}),[w,c,h]),t.createElement("span",{className:m,style:y},t.createElement("span",{className:v}))};var H=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,o=e.classes,s=e.className,a=(0,p.Z)(e,["center","classes","className"]),c=t.useState([]),l=c[0],u=c[1],h=t.useRef(0),d=t.useRef(null);t.useEffect((function(){d.current&&(d.current(),d.current=null)}),[l]);var f=t.useRef(!1),y=t.useRef(null),v=t.useRef(null),w=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,s=e.rippleSize,a=e.cb;u((function(e){return[].concat((0,R.Z)(e),[t.createElement(K,{key:h.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:s})])})),h.current+=1,d.current=a}),[o]),_=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,s=t.center,a=void 0===s?i||t.pulsate:s,c=t.fakeElement,l=void 0!==c&&c;if("mousedown"===e.type&&f.current)f.current=!1;else{"touchstart"===e.type&&(f.current=!0);var u,h,d,p=l?null:w.current,m=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(m.width/2),h=Math.round(m.height/2);else{var g=e.touches?e.touches[0]:e,_=g.clientX,T=g.clientY;u=Math.round(_-m.left),h=Math.round(T-m.top)}if(a)(d=Math.sqrt((2*Math.pow(m.width,2)+Math.pow(m.height,2))/3))%2===0&&(d+=1);else{var E=2*Math.max(Math.abs((p?p.clientWidth:0)-u),u)+2,I=2*Math.max(Math.abs((p?p.clientHeight:0)-h),h)+2;d=Math.sqrt(Math.pow(E,2)+Math.pow(I,2))}e.touches?null===v.current&&(v.current=function(){b({pulsate:o,rippleX:u,rippleY:h,rippleSize:d,cb:n})},y.current=setTimeout((function(){v.current&&(v.current(),v.current=null)}),80)):b({pulsate:o,rippleX:u,rippleY:h,rippleSize:d,cb:n})}}),[i,b]),T=t.useCallback((function(){_({},{pulsate:!0})}),[_]),E=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&v.current)return e.persist(),v.current(),v.current=null,void(y.current=setTimeout((function(){E(e,t)})));v.current=null,u((function(e){return e.length>0?e.slice(1):e})),d.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:T,start:_,stop:E}}),[T,_,E]),t.createElement("span",(0,m.Z)({className:(0,g.Z)(o.root,s),ref:w},a),t.createElement(q,{component:null,exit:!0},l))}));const G=(0,y.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(H));var Q=t.forwardRef((function(e,n){var i=e.action,o=e.buttonRef,s=e.centerRipple,a=void 0!==s&&s,c=e.children,l=e.classes,u=e.className,h=e.component,d=void 0===h?"button":h,f=e.disabled,y=void 0!==f&&f,v=e.disableRipple,w=void 0!==v&&v,_=e.disableTouchRipple,E=void 0!==_&&_,I=e.focusRipple,S=void 0!==I&&I,k=e.focusVisibleClassName,C=e.onBlur,x=e.onClick,A=e.onFocus,N=e.onFocusVisible,P=e.onKeyDown,R=e.onKeyUp,O=e.onMouseDown,M=e.onMouseLeave,L=e.onMouseUp,F=e.onTouchEnd,V=e.onTouchMove,U=e.onTouchStart,z=e.onDragLeave,j=e.tabIndex,B=void 0===j?0:j,q=e.TouchRippleProps,W=e.type,K=void 0===W?"button":W,H=(0,p.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Q=t.useRef(null);var Z=t.useRef(null),Y=t.useState(!1),$=Y[0],X=Y[1];y&&$&&X(!1);var J=D(),ee=J.isFocusVisible,te=J.onBlurVisible,ne=J.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return T((function(r){return t&&t(r),!n&&Z.current&&Z.current[e](r),!0}))}t.useImperativeHandle(i,(function(){return{focusVisible:function(){X(!0),Q.current.focus()}}}),[]),t.useEffect((function(){$&&S&&!w&&Z.current.pulsate()}),[w,S,$]);var ie=re("start",O),oe=re("stop",z),se=re("stop",L),ae=re("stop",(function(e){$&&e.preventDefault(),M&&M(e)})),ce=re("start",U),le=re("stop",F),ue=re("stop",V),he=re("stop",(function(e){$&&(te(e),X(!1)),C&&C(e)}),!1),de=T((function(e){Q.current||(Q.current=e.currentTarget),ee(e)&&(X(!0),N&&N(e)),A&&A(e)})),fe=function(){var e=r.findDOMNode(Q.current);return d&&"button"!==d&&!("A"===e.tagName&&e.href)},pe=t.useRef(!1),me=T((function(e){S&&!pe.current&&$&&Z.current&&" "===e.key&&(pe.current=!0,e.persist(),Z.current.stop(e,(function(){Z.current.start(e)}))),e.target===e.currentTarget&&fe()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&fe()&&"Enter"===e.key&&!y&&(e.preventDefault(),x&&x(e))})),ge=T((function(e){S&&" "===e.key&&Z.current&&$&&!e.defaultPrevented&&(pe.current=!1,e.persist(),Z.current.stop(e,(function(){Z.current.pulsate(e)}))),R&&R(e),x&&e.target===e.currentTarget&&fe()&&" "===e.key&&!e.defaultPrevented&&x(e)})),ye=d;"button"===ye&&H.href&&(ye="a");var ve={};"button"===ye?(ve.type=K,ve.disabled=y):("a"===ye&&H.href||(ve.role="button"),ve["aria-disabled"]=y);var we=b(o,n),be=b(ne,Q),_e=b(we,be),Te=t.useState(!1),Ee=Te[0],Ie=Te[1];t.useEffect((function(){Ie(!0)}),[]);var Se=Ee&&!w&&!y;return t.createElement(ye,(0,m.Z)({className:(0,g.Z)(l.root,u,$&&[l.focusVisible,k],y&&l.disabled),onBlur:he,onClick:x,onFocus:de,onKeyDown:me,onKeyUp:ge,onMouseDown:ie,onMouseLeave:ae,onMouseUp:se,onDragLeave:oe,onTouchEnd:le,onTouchMove:ue,onTouchStart:ce,ref:_e,tabIndex:y?-1:B},ve,H),c,Se?t.createElement(G,(0,m.Z)({ref:Z,center:a},q)):null)}));const Z=(0,y.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Q);var Y=n(1122),$=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=e.color,a=void 0===s?"default":s,c=e.component,l=void 0===c?"button":c,u=e.disabled,h=void 0!==u&&u,d=e.disableElevation,f=void 0!==d&&d,y=e.disableFocusRipple,v=void 0!==y&&y,w=e.endIcon,b=e.focusVisibleClassName,_=e.fullWidth,T=void 0!==_&&_,E=e.size,I=void 0===E?"medium":E,S=e.startIcon,k=e.type,C=void 0===k?"button":k,x=e.variant,A=void 0===x?"text":x,N=(0,p.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),P=S&&t.createElement("span",{className:(0,g.Z)(i.startIcon,i["iconSize".concat((0,Y.Z)(I))])},S),D=w&&t.createElement("span",{className:(0,g.Z)(i.endIcon,i["iconSize".concat((0,Y.Z)(I))])},w);return t.createElement(Z,(0,m.Z)({className:(0,g.Z)(i.root,i[A],o,"inherit"===a?i.colorInherit:"default"!==a&&i["".concat(A).concat((0,Y.Z)(a))],"medium"!==I&&[i["".concat(A,"Size").concat((0,Y.Z)(I))],i["size".concat((0,Y.Z)(I))]],f&&i.disableElevation,h&&i.disabled,T&&i.fullWidth),component:l,disabled:h,focusRipple:!v,focusVisibleClassName:(0,g.Z)(i.focusVisible,b),ref:n,type:C},N),t.createElement("span",{className:i.label},P,r,D))}));const X=(0,y.Z)((function(e){return{root:(0,m.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,v.U1)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,v.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,v.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,v.U1)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,v.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,v.U1)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,v.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})($);const J=function(){return t.createElement("div",{className:"sidebar"},t.createElement(i.Z,{className:"sidebar__twitterIcon"}),t.createElement(o,{active:!0,Icon:s.Z,text:"Home"}),t.createElement(o,{Icon:a.Z,text:"Explore"}),t.createElement(o,{Icon:c.Z,text:"Notifications"}),t.createElement(o,{Icon:l.Z,text:"Messages"}),t.createElement(o,{Icon:u.Z,text:"Bookmarks"}),t.createElement(o,{Icon:h.Z,text:"Lists"}),t.createElement(o,{Icon:d.Z,text:"Profile"}),t.createElement(o,{Icon:f.Z,text:"More"}),t.createElement(X,{variant:"outlined",className:"sidebar__tweet",fullWidth:!0},"Tweet"))};var ee=n(6608);const te=function(e,n){var r=function(n,r){return t.createElement(ee.Z,(0,m.Z)({ref:r},n),e)};return r.muiName=ee.Z.muiName,t.memo(t.forwardRef(r))}(t.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var ne=t.forwardRef((function(e,n){var r=e.alt,i=e.children,o=e.classes,s=e.className,a=e.component,c=void 0===a?"div":a,l=e.imgProps,u=e.sizes,h=e.src,d=e.srcSet,f=e.variant,y=void 0===f?"circle":f,v=(0,p.Z)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),w=null,b=function(e){var n=e.src,r=e.srcSet,i=t.useState(!1),o=i[0],s=i[1];return t.useEffect((function(){if(n||r){s(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&s("loaded")},t.onerror=function(){e&&s("error")},function(){e=!1}}}),[n,r]),o}({src:h,srcSet:d}),_=h||d,T=_&&"error"!==b;return w=T?t.createElement("img",(0,m.Z)({alt:r,src:h,srcSet:d,sizes:u,className:o.img},l)):null!=i?i:_&&r?r[0]:t.createElement(te,{className:o.fallback}),t.createElement(c,(0,m.Z)({className:(0,g.Z)(o.root,o.system,o[y],s,!T&&o.colorDefault),ref:n},v),w)}));const re=(0,y.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(ne),ie=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ie(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new se;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ae=function(e){return function(e){const t=ie(e);return oe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ce=function(e){try{return oe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function le(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=le(e[n],t[n]));return e}const ue=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,he=()=>{try{return ue()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/twitter-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ce(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},de=()=>{var e;return null===(e=he())||void 0===e?void 0:e.config};class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function pe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function me(){var e;const t=null===(e=he())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ge(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ye(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ve(){const e=pe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function we(){try{return"object"===typeof indexedDB}catch(e){return!1}}class be extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Te,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new be(n,o,t)}}const Te=/\{\$([^}]+)}/g;function Ee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ie(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Se(n)&&Se(o)){if(!Ie(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Se(e){return null!==e&&"object"===typeof e}function ke(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ce(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function xe(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ae(e,t){const n=new Ne(e,t);return n.subscribe.bind(n)}class Ne{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Pe),void 0===r.error&&(r.error=Pe),void 0===r.complete&&(r.complete=Pe);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Pe(){}function De(e){return e&&e._delegate?e._delegate:e}class Re{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Oe="[DEFAULT]";class Me{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new fe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Oe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;return this.component?this.component.multipleInstances?e:Oe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Me(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Fe=[];var Ve;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ve||(Ve={}));const Ue={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},ze=Ve.INFO,je={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Be=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=je[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class qe{constructor(e){this.name=e,this._logLevel=ze,this._logHandler=Be,this._userLogHandler=null,Fe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ue[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...t),this._logHandler(this,Ve.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...t),this._logHandler(this,Ve.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...t),this._logHandler(this,Ve.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...t),this._logHandler(this,Ve.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...t),this._logHandler(this,Ve.ERROR,...t)}}const We=(e,t)=>t.some((t=>e instanceof t));let Ke,He;const Ge=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,Ye=new WeakMap,$e=new WeakMap;let Xe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ze.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Je(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(He||(He=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nt(this),n),tt(Ge.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tt(e.apply(nt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(nt(this),t,...r);return Ze.set(o,t.sort?t.sort():[t]),tt(o)}}function et(e){return"function"===typeof e?Je(e):(e instanceof IDBTransaction&&function(e){if(Qe.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Qe.set(e,t)}(e),We(e,Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xe):e)}function tt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(tt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ge.set(t,e)})).catch((()=>{})),$e.set(t,e),t}(e);if(Ye.has(e))return Ye.get(e);const t=et(e);return t!==e&&(Ye.set(e,t),$e.set(t,e)),t}const nt=e=>$e.get(e);const rt=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],ot=new Map;function st(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ot.get(t))return ot.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=it.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ot.set(t,o),o}Xe=(e=>({...e,get:(t,n,r)=>st(t,n)||e.get(t,n,r),has:(t,n)=>!!st(t,n)||e.has(t,n)}))(Xe);class at{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ct="@firebase/app",lt="0.9.25",ut=new qe("@firebase/app"),ht="[DEFAULT]",dt={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ft=new Map,pt=new Map;function mt(e,t){try{e.container.addComponent(t)}catch(n){ut.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function gt(e,t){e.container.addOrOverwriteComponent(t)}function yt(e){const t=e.name;if(pt.has(t))return ut.debug("There were multiple attempts to register component ".concat(t,".")),!1;pt.set(t,e);for(const n of ft.values())mt(n,e);return!0}function vt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ht;vt(e,t).clearInstance(n)}function bt(){pt.clear()}const _t=new _e("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Re("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const Et="10.7.1";function It(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ht,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _t.create("bad-app-name",{appName:String(i)});if(n||(n=de()),!n)throw _t.create("no-options");const o=ft.get(i);if(o){if(Ie(n,o.options)&&Ie(r,o.config))return o;throw _t.create("duplicate-app",{appName:i})}const s=new Le(i);for(const c of pt.values())s.addComponent(c);const a=new Tt(n,r,s);return ft.set(i,a),a}function St(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;const t=ft.get(e);if(!t&&e===ht&&de())return It();if(!t)throw _t.create("no-app",{appName:e});return t}function kt(){return Array.from(ft.values())}async function Ct(e){const t=e.name;ft.has(t)&&(ft.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function xt(e,t,n){var r;let i=null!==(r=dt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ut.warn(e.join(" "))}yt(new Re("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function At(e,t){if(null!==e&&"function"!==typeof e)throw _t.create("invalid-log-argument");!function(e,t){for(const n of Fe){let r=null;t&&t.level&&(r=Ue[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Ve[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function Nt(e){var t;t=e,Fe.forEach((e=>{e.setLogLevel(t)}))}const Pt="firebase-heartbeat-database",Dt=1,Rt="firebase-heartbeat-store";let Ot=null;function Mt(){return Ot||(Ot=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=tt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(tt(s.result),e.oldVersion,e.newVersion,tt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Pt,Dt,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Rt)}}).catch((e=>{throw _t.create("idb-open",{originalErrorMessage:e.message})}))),Ot}async function Lt(e,t){try{const n=(await Mt()).transaction(Rt,"readwrite"),r=n.objectStore(Rt);await r.put(t,Ft(e)),await n.done}catch(n){if(n instanceof be)ut.warn(n.message);else{const e=_t.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ut.warn(e.message)}}}function Ft(e){return"".concat(e.name,"!").concat(e.options.appId)}class Vt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ut();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ut(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),jt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ae(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ut(){return(new Date).toISOString().substring(0,10)}class zt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!we()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Mt();return await t.transaction(Rt).objectStore(Rt).get(Ft(e))}catch(t){if(t instanceof be)ut.warn(t.message);else{const e=_t.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ut.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function jt(e){return ae(JSON.stringify({version:2,heartbeats:e})).length}var Bt;Bt="",yt(new Re("platform-logger",(e=>new at(e)),"PRIVATE")),yt(new Re("heartbeat",(e=>new Vt(e)),"PRIVATE")),xt(ct,lt,Bt),xt(ct,lt,"esm2017"),xt("fire-js","");class qt{constructor(e,t){this._delegate=e,this.firebase=t,mt(e,new Re("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ct(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ht;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ht;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){mt(this._delegate,e)}_addOrOverwriteComponent(e){gt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Wt=new _e("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Kt=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=It(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ee(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:xt,setLogLevel:Nt,onLog:At,apps:null,SDK_VERSION:Et,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(yt(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Wt.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&le(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ee(n,e=e||ht))throw Wt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(qt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){le(n,e)},createSubscribe:Ae,ErrorFactory:_e,deepExtend:le}),n}(),Ht=new qe("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ht.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ht.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Gt=Kt;!function(e){xt("@firebase/app-compat","0.2.25",e)}();Gt.registerVersion("firebase","10.7.1","app-compat");function Qt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Zt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Yt="EMAIL_SIGNIN",$t="PASSWORD_RESET",Xt="RECOVER_EMAIL",Jt="REVERT_SECOND_FACTOR_ADDITION",en="VERIFY_AND_CHANGE_EMAIL",tn="VERIFY_EMAIL";function nn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},on=nn,sn=new _e("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),an=new qe("@firebase/auth");function cn(e){if(an.logLevel<=Ve.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];an.error("Auth (".concat(Et,"): ").concat(e),...n)}}function ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw fn(e,...n)}function un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fn(e,...n)}function hn(e,t,n){const r=Object.assign(Object.assign({},on()),{[t]:n});return new _e("auth","Firebase",r).create(t,{appName:e.name})}function dn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ln(e,"argument-error"),hn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return sn.create(e,...n)}function pn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fn(t,...r)}}function mn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw cn(t),new Error(t)}function gn(e,t){e||mn(t)}function yn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function vn(){return"http:"===wn()||"https:"===wn()}function wn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class bn{constructor(e,t){this.shortDelay=e,this.longDelay=t,gn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())||ye()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(vn()||ge()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _n(e,t){gn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Tn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const En={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},In=new bn(3e4,6e4);function Sn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function kn(e,t,n,r){return Cn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=ke(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Tn.fetch()(An(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Cn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},En),t);try{const t=new Pn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Dn(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Dn(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Dn(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Dn(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw hn(e,a,s);ln(e,a)}}catch(i){if(i instanceof be)throw i;ln(e,"network-request-failed",{message:String(i)})}}async function xn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await kn(e,t,n,r,i);return"mfaPendingCredential"in o&&ln(e,"multi-factor-auth-required",{_serverResponse:o}),o}function An(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_n(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Nn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(un(this.auth,"network-request-failed"))),In.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=un(e,t,r);return i.customData._tokenResponse=n,i}function Rn(e){return void 0!==e&&void 0!==e.getResponse}function On(e){return void 0!==e&&void 0!==e.enterprise}class Mn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Nn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ln(e,t){return kn(e,"GET","/v2/recaptchaConfig",Sn(e,t))}function Fn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Vn(e){return 1e3*Number(e)}function Un(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return cn("JWT malformed, contained fewer than 3 sections"),null;try{const e=ce(n);return e?JSON.parse(e):(cn("Failed to decode base64 JWT payload"),null)}catch(i){return cn("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function zn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof be&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class jn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Bn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fn(this.lastLoginAt),this.creationTime=Fn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await zn(e,async function(e,t){return kn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));pn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Qt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bn(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Wn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pn(e.idToken,"internal-error"),pn("undefined"!==typeof e.idToken,"internal-error"),pn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Un(e);return pn(t,"internal-error"),pn("undefined"!==typeof t.exp,"internal-error"),pn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Cn(e,{},(async()=>{const n=ke({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=An(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Tn.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Wn;return n&&(pn("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(pn("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(pn("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wn,this.toJSON())}_performRefresh(){return mn("not implemented")}}function Kn(e,t){pn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Hn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Qt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await zn(this,this.stsTokenManager.getToken(this.auth,e));return pn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=De(e),r=await n.getIdToken(t),i=Un(r);pn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Fn(Vn(i.auth_time)),issuedAtTime:Fn(Vn(i.iat)),expirationTime:Fn(Vn(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=De(e);await qn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(pn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await qn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await zn(this,async function(e,t){return kn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:T}=t;pn(v&&T,e,"internal-error");const E=Wn.fromJSON(this.name,T);pn("string"===typeof v,e,"internal-error"),Kn(u,e.name),Kn(h,e.name),pn("boolean"===typeof w,e,"internal-error"),pn("boolean"===typeof b,e,"internal-error"),Kn(d,e.name),Kn(f,e.name),Kn(p,e.name),Kn(m,e.name),Kn(g,e.name),Kn(y,e.name);const I=new Hn({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Wn;r.updateFromServerResponse(t);const i=new Hn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await qn(i),i}}const Gn=new Map;function Qn(e){gn(e instanceof Function,"Expected a class definition");let t=Gn.get(e);return t?(gn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gn.set(e,t),t)}class Zn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Zn.type="NONE";const Yn=Zn;function $n(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Xn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=$n(this.userKey,r.apiKey,i),this.fullPersistenceKey=$n("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Xn(Qn(Yn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Qn(Yn);const o=$n(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Hn._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new Xn(i,e,n)):new Xn(i,e,n)}}function Jn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(er(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(or(t))return"Blackberry";if(sr(t))return"Webos";if(tr(t))return"Safari";if((t.includes("chrome/")||nr(t))&&!t.includes("edge/"))return"Chrome";if(ir(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/firefox\//i.test(e)}function tr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/crios\//i.test(e)}function rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/iemobile/i.test(e)}function ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/android/i.test(e)}function or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/blackberry/i.test(e)}function sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/webos/i.test(e)}function ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return ar(e)||ir(e)||sr(e)||or(e)||/windows phone/i.test(e)||rr(e)}function lr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Jn(pe());break;case"Worker":t="".concat(Jn(pe()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Et,"/").concat(r)}class ur{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class hr{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class dr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pr(this),this.idTokenSubscription=new pr(this),this.beforeStateQueue=new ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qn(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Xn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qn(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?De(e):null;return t&&pn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&pn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Qn(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return kn(e,"GET","/v2/passwordPolicy",Sn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new hr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _e("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return kn(e,"POST","/v2/accounts:revokeToken",Sn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qn(e)||this._popupRedirectResolver;pn(t,this,"argument-error"),this.redirectPersistenceManager=await Xn.create(this,[Qn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pn(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(an.logLevel<=Ve.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];an.warn("Auth (".concat(Et,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function fr(e){return De(e)}class pr{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ae((e=>this.observer=e))}get next(){return pn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=un("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function gr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class yr{constructor(e){this.type="recaptcha-enterprise",this.auth=fr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;On(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ln(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Mn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&On(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));mr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function vr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new yr(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function wr(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await vr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await vr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function br(e,t,n){const r=fr(e);pn(r._canInitEmulator,r,"emulator-config-failed"),pn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=_r(t),{host:s,port:a}=function(e){const t=_r(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Tr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Tr(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _r(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Tr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Er{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mn("not implemented")}_getIdTokenResponse(e){return mn("not implemented")}_linkToIdToken(e,t){return mn("not implemented")}_getReauthenticationResolver(e){return mn("not implemented")}}async function Ir(e,t){return kn(e,"POST","/v1/accounts:resetPassword",Sn(e,t))}async function Sr(e,t){return kn(e,"POST","/v1/accounts:signUp",t)}async function kr(e,t){return xn(e,"POST","/v1/accounts:signInWithPassword",Sn(e,t))}async function Cr(e,t){return kn(e,"POST","/v1/accounts:sendOobCode",Sn(e,t))}async function xr(e,t){return Cr(e,t)}async function Ar(e,t){return Cr(e,t)}class Nr extends Er{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Nr(e,t,"password")}static _fromEmailAndCode(e,t){return new Nr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return wr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",kr);case"emailLink":return async function(e,t){return xn(e,"POST","/v1/accounts:signInWithEmailLink",Sn(e,t))}(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return wr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sr);case"emailLink":return async function(e,t){return xn(e,"POST","/v1/accounts:signInWithEmailLink",Sn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pr(e,t){return xn(e,"POST","/v1/accounts:signInWithIdp",Sn(e,t))}class Dr extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ln("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Qt(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Dr(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Pr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ke(t)}return e}}const Rr={USER_NOT_FOUND:"user-not-found"};class Or extends Er{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Or({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Or({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return xn(e,"POST","/v1/accounts:signInWithPhoneNumber",Sn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await xn(e,"POST","/v1/accounts:signInWithPhoneNumber",Sn(e,t));if(n.temporaryProof)throw Dn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return xn(e,"POST","/v1/accounts:signInWithPhoneNumber",Sn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Rr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Or({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Mr{constructor(e){var t,n,r,i,o,s;const a=Ce(xe(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);pn(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Ce(xe(e)).link,n=t?Ce(xe(t)).deep_link_id:null,r=Ce(xe(e)).deep_link_id;return(r?Ce(xe(r)).link:null)||r||n||t||e}(e);try{return new Mr(t)}catch(n){return null}}}class Lr{constructor(){this.providerId=Lr.PROVIDER_ID}static credential(e,t){return Nr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Mr.parseLink(t);return pn(n,"argument-error"),Nr._fromEmailAndCode(e,n.code,n.tenantId)}}Lr.PROVIDER_ID="password",Lr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vr extends Fr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ur extends Vr{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return pn("providerId"in t&&"signInMethod"in t,"argument-error"),Dr._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return pn(e.idToken||e.accessToken,"argument-error"),Dr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ur.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ur.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new Ur(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(c){return null}}}class zr extends Vr{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch(n){return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com",zr.PROVIDER_ID="facebook.com";class jr extends Vr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Dr._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return jr.credential(n,r)}catch(i){return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com",jr.PROVIDER_ID="google.com";class Br extends Vr{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch(n){return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com",Br.PROVIDER_ID="github.com";class qr extends Er{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Pr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new qr(n,i):null}static _create(e,t){return new qr(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wr extends Fr{constructor(e){pn(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Wr.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Wr.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=qr.fromJSON(e);return pn(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return qr._create(r,n)}catch(i){return null}}}class Kr extends Vr{constructor(){super("twitter.com")}static credential(e,t){return Dr._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kr.credential(n,r)}catch(i){return null}}}async function Hr(e,t){return xn(e,"POST","/v1/accounts:signUp",Sn(e,t))}Kr.TWITTER_SIGN_IN_METHOD="twitter.com",Kr.PROVIDER_ID="twitter.com";class Gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Hn._fromIdTokenResponse(e,n,r),o=Qr(n);return new Gr({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qr(n);return new Gr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Zr extends be{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Zr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Zr(e,t,n,r)}}function Yr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zr._fromErrorAndOperation(e,n,t,r);throw n}))}function $r(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Xr(e,t){const n=De(e);await ei(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return kn(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=$r(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Jr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await zn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gr._forOperation(e,"link",r)}async function ei(e,t,n){await qn(t);const r=!1===e?"provider-already-linked":"no-such-provider";pn($r(t.providerData).has(n)===e,t.auth,r)}async function ti(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await zn(e,Yr(r,i,t,e),n);pn(o.idToken,r,"internal-error");const s=Un(o.idToken);pn(s,r,"internal-error");const{sub:a}=s;return pn(e.uid===a,r,"user-mismatch"),Gr._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&ln(r,"user-mismatch"),o}}async function ni(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Yr(e,r,t),o=await Gr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function ri(e,t){return ni(fr(e),t)}async function ii(e,t){const n=De(e);return await ei(!1,n,t.providerId),Jr(n,t)}async function oi(e,t){return ti(De(e),t)}async function si(e,t){const n=fr(e),r=await async function(e,t){return xn(e,"POST","/v1/accounts:signInWithCustomToken",Sn(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Gr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ai{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ci._fromServerResponse(e,t):"totpInfo"in t?li._fromServerResponse(e,t):ln(e,"internal-error")}}class ci extends ai{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ci(t)}}class li extends ai{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new li(t)}}function ui(e,t,n){var r;pn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),pn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(pn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function hi(e){const t=fr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function di(e,t){await async function(e,t){return kn(e,"POST","/v1/accounts:update",Sn(e,t))}(De(e),{oobCode:t})}async function fi(e,t){const n=De(e),r=await Ir(n,{oobCode:t}),i=r.requestType;switch(pn(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pn(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pn(r.mfaInfo,n,"internal-error");default:pn(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=ai._fromServerResponse(fr(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function pi(e,t){const n={identifier:t,continueUri:vn()?yn():"http://localhost"},{signinMethods:r}=await async function(e,t){return kn(e,"POST","/v1/accounts:createAuthUri",Sn(e,t))}(De(e),n);return r||[]}async function mi(e,t){const n=De(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ui(n.auth,r,t);const{email:i}=await async function(e,t){return Cr(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function gi(e,t,n){const r=De(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&ui(r.auth,i,n);const{email:o}=await async function(e,t){return Cr(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function yi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=De(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await zn(i,async function(e,t){return kn(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function vi(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await zn(e,async function(e,t){return kn(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class wi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class bi extends wi{constructor(e,t,n,r){super(e,t,n),this.username=r}}class _i extends wi{constructor(e,t){super(e,"facebook.com",t)}}class Ti extends bi{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Ei extends wi{constructor(e,t){super(e,"google.com",t)}}class Ii extends bi{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Si(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Un(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new wi(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new _i(o,i);case"github.com":return new Ti(o,i);case"google.com":return new Ei(o,i);case"twitter.com":return new Ii(o,i,e.screenName||null);case"custom":case"anonymous":return new wi(o,null);default:return new wi(o,r,i)}}(n)}class ki{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ki("enroll",e,t)}static _fromMfaPendingCredential(e){return new ki("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ki._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ki._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ci{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=fr(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>ai._fromServerResponse(n,e)));pn(r.mfaPendingCredential,n,"internal-error");const o=ki._fromMfaPendingCredential(r.mfaPendingCredential);return new Ci(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Gr._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return pn(t.user,n,"internal-error"),Gr._forOperation(t.user,t.operationType,s);default:ln(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class xi{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>ai._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new xi(e)}async getSession(){return ki._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await zn(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await zn(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},kn(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Sn(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var r,i}}const Ai=new WeakMap;const Ni="__sak";class Pi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ni,"1"),this.storage.removeItem(Ni),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Di extends Pi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=pe();return tr(e)||ar(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=cr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ve()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Di.type="LOCAL";const Ri=Di;class Oi extends Pi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Oi.type="SESSION";const Mi=Oi;class Li{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Li(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Li.receivers=[];class Vi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=Fi("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Ui(){return window}function zi(){return"undefined"!==typeof Ui().WorkerGlobalScope&&"function"===typeof Ui().importScripts}const ji="firebaseLocalStorageDb",Bi="firebaseLocalStorage",qi="fbase_key";class Wi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ki(e,t){return e.transaction([Bi],t?"readwrite":"readonly").objectStore(Bi)}function Hi(){const e=indexedDB.open(ji,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Bi,{keyPath:qi})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Bi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ji);return new Wi(e).toPromise()}(),t(await Hi()))}))}))}async function Gi(e,t,n){const r=Ki(e,!0).put({[qi]:t,value:n});return new Wi(r).toPromise()}function Qi(e,t){const n=Ki(e,!0).delete(t);return new Wi(n).toPromise()}class Zi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Hi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Li._getInstance(zi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Vi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hi();return await Gi(e,Ni,"1"),await Qi(e,Ni),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Gi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ki(e,!1).get(t),r=await new Wi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Qi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ki(e,!1).getAll();return new Wi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Zi.type="LOCAL";const Yi=Zi;const $i=1e12;class Xi{constructor(e){this.auth=e,this.counter=$i,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ji(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||$i;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||$i;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||$i;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ji{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;pn(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const eo=gr("rcb"),to=new bn(3e4,6e4);class no{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Ui().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pn(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Rn(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise(((n,r)=>{const i=Ui().setTimeout((()=>{r(un(e,"network-request-failed"))}),to.get());Ui()[eo]=()=>{Ui().clearTimeout(i),delete Ui()[eo];const o=Ui().grecaptcha;if(!o||!Rn(o))return void r(un(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};mr("".concat("https://www.google.com/recaptcha/api.js?","?").concat(ke({onload:eo,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(un(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Ui().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ro{async load(e){return new Xi(e)}clearedOneInstance(){}}const io="recaptcha",oo={theme:"light",type:"image"};class so{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},oo);this.parameters=n,this.type=io,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(e),this.isInvisible="invisible"===this.parameters.size,pn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;pn(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ro:new no,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){pn(!this.parameters.sitekey,this.auth,"argument-error"),pn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Ui()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){pn(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pn(vn()&&!zi(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await kn(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);pn(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ao{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Or._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function co(e,t,n){var r;const i=await n.verify();try{let o;if(pn("string"===typeof i,e,"argument-error"),pn(n.type===io,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){pn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return kn(e,"POST","/v2/accounts/mfaEnrollment:start",Sn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{pn("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;pn(n,e,"missing-multi-factor-info");const s=await function(e,t){return kn(e,"POST","/v2/accounts/mfaSignIn:start",Sn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return kn(e,"POST","/v1/accounts:sendVerificationCode",Sn(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class lo{constructor(e){this.providerId=lo.PROVIDER_ID,this.auth=fr(e)}verifyPhoneNumber(e,t){return co(this.auth,e,De(t))}static credential(e,t){return Or._fromVerification(e,t)}static credentialFromResult(e){const t=e;return lo.credentialFromTaggedObject(t)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Or._fromTokenResponse(n,r):null}}function uo(e,t){return t?Qn(t):(pn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lo.PROVIDER_ID="phone",lo.PHONE_SIGN_IN_METHOD="phone";class ho extends Er{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fo(e){return ni(e.auth,new ho(e),e.bypassAuthState)}function po(e){const{auth:t,user:n}=e;return pn(n,t,"internal-error"),ti(n,new ho(e),e.bypassAuthState)}async function mo(e){const{auth:t,user:n}=e;return pn(n,t,"internal-error"),Jr(n,new ho(e),e.bypassAuthState)}class go{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fo;case"linkViaPopup":case"linkViaRedirect":return mo;case"reauthViaPopup":case"reauthViaRedirect":return po;default:ln(this.auth,"internal-error")}}resolve(e){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yo=new bn(2e3,1e4);class vo extends go{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pn(e,this.auth,"internal-error"),e}async onExecution(){gn(1===this.filter.length,"Popup operations only handle one event");const e=Fi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(un(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,yo.get())};e()}}vo.currentPopupAction=null;const wo="pendingRedirect",bo=new Map;class _o extends go{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=bo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=So(t),r=Io(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}bo.set(this.auth._key(),e)}return this.bypassAuthState||bo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function To(e,t){return Io(e)._set(So(t),"true")}function Eo(e,t){bo.set(e._key(),t)}function Io(e){return Qn(e._redirectPersistence)}function So(e){return $n(wo,e.config.apiKey,e.name)}function ko(e,t,n){return async function(e,t,n){const r=fr(e);dn(e,t,Fr),await r._initializationPromise;const i=uo(r,n);return await To(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Co(e,t,n){return async function(e,t,n){const r=De(e);dn(r.auth,t,Fr),await r.auth._initializationPromise;const i=uo(r.auth,n);await To(i,r.auth);const o=await No(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function xo(e,t,n){return async function(e,t,n){const r=De(e);dn(r.auth,t,Fr),await r.auth._initializationPromise;const i=uo(r.auth,n);await ei(!1,r,t.providerId),await To(i,r.auth);const o=await No(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Ao(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=fr(e),i=uo(r,t),o=new _o(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function No(e){const t=Fi("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Po{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ro(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ro(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(un(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Do(e))}saveEventToCache(e){this.cachedEventUids.add(Do(e)),this.lastProcessedEventTime=Date.now()}}function Do(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ro(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Oo(e){return kn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Mo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lo=/^https?/;function Fo(e){const t=yn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Lo.test(n))return!1;if(Mo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Vo=new bn(3e4,6e4);function Uo(){const e=Ui().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let zo=null;function jo(e){return zo=zo||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Uo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uo(),n(un(e,"network-request-failed"))},timeout:Vo.get()})}if(null===(i=null===(r=Ui().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ui().gapi)||void 0===o?void 0:o.load)){const t=gr("iframefcb");return Ui()[t]=()=>{gapi.load?s():n(un(e,"network-request-failed"))},mr("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw zo=null,e}))}(e),zo}const Bo=new bn(5e3,15e3),qo="__/auth/iframe",Wo="emulator/auth/iframe",Ko={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ho=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Go(e){const t=e.config;pn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_n(t,Wo):"https://".concat(e.config.authDomain,"/").concat(qo),r={apiKey:t.apiKey,appName:e.name,v:Et},i=Ho.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(ke(r).slice(1))}const Qo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Yo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Qo),{width:r.toString(),height:i.toString(),top:o,left:s}),l=pe().toLowerCase();n&&(a=nr(l)?"_blank":n),er(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return ar(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Zo(null);const h=window.open(t||"",a,u);pn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Zo(h)}const $o="__/auth/handler",Xo="emulator/auth/handler",Jo=encodeURIComponent("fac");async function es(e,t,n,r,i,o){pn(e.config.authDomain,e,"auth-domain-config-required"),pn(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Et,eventId:i};if(t instanceof Fr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Vr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(Jo,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat($o);return _n(t,Xo)}(e),"?").concat(ke(a).slice(1)).concat(l)}const ts="webStorageSupport";const ns=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mi,this._completeRedirectFn=Ao,this._overrideRedirectResult=Eo}async _openPopup(e,t,n,r){var i;gn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Yo(e,await es(e,t,n,yn(),r),Fi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ui().location.href=e}(await es(e,t,n,yn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(gn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await jo(e),n=Ui().gapi;return pn(n,e,"internal-error"),t.open({where:document.body,url:Go(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ko,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=un(e,"network-request-failed"),o=Ui().setTimeout((()=>{r(i)}),Bo.get());function s(){Ui().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Po(e);return t.register("authEvent",(t=>{pn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ts,{type:ts},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ts];void 0!==i&&t(!!i),ln(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Oo(e);for(const r of t)try{if(Fo(r))return}catch(n){}ln(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cr()||tr()||ar()}};class rs{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return mn("unexpected MultiFactorSessionType")}}}class is extends rs{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new is(e)}_finalizeEnroll(e,t,n){return function(e,t){return kn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Sn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return kn(e,"POST","/v2/accounts/mfaSignIn:finalize",Sn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class os{constructor(){}static assertion(e){return is._fromCredential(e)}}os.FACTOR_ID="phone";var ss="@firebase/auth",as="1.5.1";class cs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=he())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var ls;function us(){return window}ls="Browser",yt(new Re("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;pn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:ls,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lr(ls)},l=new dr(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),yt(new Re("auth-internal",(e=>(e=>new cs(e))(fr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),xt(ss,as,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ls)),xt(ss,as,"esm2017");async function hs(e,t,n){var r;const{BuildInfo:i}=us();gn(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(gn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return ar()?s.ibi=i.packageName:ir()?s.apn=i.packageName:ln(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,es(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function ds(e){const{cordova:t}=us();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const fs=20;class ps extends Po{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ms(e){const t=await vs()._get(ws(e));return t&&await vs()._remove(ws(e)),t}function gs(e,t){var n,r;const i=function(e){const t=bs(e),n=t.link?decodeURIComponent(t.link):void 0,r=bs(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return bs(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=bs(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?un(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ys(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<fs;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function vs(){return Qn(Ri)}function ws(e){return $n("authEvent",e.config.apiKey,e.name)}function bs(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Ce(n.join("?"))}const _s=class{constructor(){this._redirectPersistence=Mi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ao,this._overrideRedirectResult=Eo}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new ps(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,l,u;const h=us();pn("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pn("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pn("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pn("function"===typeof(null===(c=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pn("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),bo.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ys(),postBody:null,tenantId:e.tenantId,error:un(e,"no-auth-event")}}(e,n,r);await function(e,t){return vs()._set(ws(e),t)}(e,o);const s=await hs(e,o,t);return async function(e,t,n){const{cordova:r}=us();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{s(un(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),ir()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await ds(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=us(),n={};ar()?n.iosBundleId=t.packageName:ir()?n.androidPackageName=t.packageName:ln(e,"operation-not-supported-in-this-environment"),await Oo(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=us(),o=setTimeout((async()=>{await ms(e),t.onEvent(Ts())}),500),s=async n=>{clearTimeout(o);const r=await ms(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=gs(r,n.url)),t.onEvent(i||Ts())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,c="".concat(i.packageName.toLowerCase(),"://");us().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Ts(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:un("no-auth-event")}}function Es(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return!("file:"!==Es()&&"ionic:"!==Es()&&"capacitor:"!==Es()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return ve()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/Edge\/\d+/.test(e)}(e)}function ks(){try{const e=self.localStorage,t=Fi();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ss()||we()}catch(e){return Cs()&&we()}return!1}function Cs(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function xs(){return("http:"===Es()||"https:"===Es()||ge()||Is())&&!(ye()||me())&&ks()&&!Cs()}function As(){return Is()&&"undefined"!==typeof document}const Ns={LOCAL:"local",NONE:"none",SESSION:"session"},Ps=pn,Ds="persistence";async function Rs(e){await e._initializationPromise;const t=Os(),n=$n(Ds,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Os(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Ms=pn;class Ls{constructor(){this.browserResolver=Qn(ns),this.cordovaResolver=Qn(_s),this.underlyingResolver=null,this._redirectPersistence=Mi,this._completeRedirectFn=Ao,this._overrideRedirectResult=Eo}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return As()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ms(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!As()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Fs(e){return e.unwrap()}function Vs(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Bs(e,function(e,t){var n;const r=De(e),i=t;return pn(t.customData.operationType,r,"argument-error"),pn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ci._fromError(r,i)}(e,t))}else if(r){const e=Us(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Us(e){const{_tokenResponse:t}=e instanceof be?e.customData:e;if(!t)return null;if(!(e instanceof be)&&"temporaryProof"in t&&"phoneNumber"in t)return lo.credentialFromResult(e);const n=t.providerId;if(!n||n===Zt.PASSWORD)return null;let r;switch(n){case Zt.GOOGLE:r=jr;break;case Zt.FACEBOOK:r=zr;break;case Zt.GITHUB:r=Br;break;case Zt.TWITTER:r=Kr;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?qr._create(n,s):Dr._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Ur(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof be?r.credentialFromError(e):r.credentialFromResult(e)}function zs(e,t){return t.catch((t=>{throw t instanceof be&&Vs(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Us(r)),additionalUserInfo:Si(e),user:qs.getOrCreate(n)};var r}))}async function js(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>zs(e,n.confirm(t))}}class Bs{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return zs(Fs(this.auth),this.resolver.resolveSignIn(e))}}class qs{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=De(e);return Ai.has(t)||Ai.set(t,xi._fromUser(t)),Ai.get(t)}(e)}static getOrCreate(e){return qs.USER_MAP.has(e)||qs.USER_MAP.set(e,new qs(e)),qs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return zs(this.auth,ii(this._delegate,e))}async linkWithPhoneNumber(e,t){return js(this.auth,async function(e,t,n){const r=De(e);await ei(!1,r,"phone");const i=await co(r.auth,t,De(n));return new ao(i,(e=>ii(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return zs(this.auth,async function(e,t,n){const r=De(e);dn(r.auth,t,Fr);const i=uo(r.auth,n);return new vo(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ls))}async linkWithRedirect(e){return await Rs(fr(this.auth)),xo(this._delegate,e,Ls)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return zs(this.auth,oi(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return js(this.auth,async function(e,t,n){const r=De(e),i=await co(r.auth,t,De(n));return new ao(i,(e=>oi(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return zs(this.auth,async function(e,t,n){const r=De(e);dn(r.auth,t,Fr);const i=uo(r.auth,n);return new vo(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ls))}async reauthenticateWithRedirect(e){return await Rs(fr(this.auth)),Co(this._delegate,e,Ls)}sendEmailVerification(e){return mi(this._delegate,e)}async unlink(e){return await Xr(this._delegate,e),this}updateEmail(e){return function(e,t){return vi(De(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return vi(De(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Jr(De(e),t)}(this._delegate,e)}updateProfile(e){return yi(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return gi(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qs.USER_MAP=new WeakMap;const Ws=pn;class Ks{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ws(n,"invalid-api-key",{appName:e.name}),Ws(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Ls:void 0;this._delegate=t.initialize({options:{persistence:Gs(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(rn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){br(this._delegate,e,t)}applyActionCode(e){return di(this._delegate,e)}checkActionCode(e){return fi(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ir(De(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&hi(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return zs(this._delegate,async function(e,t,n){const r=fr(e),i=wr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hr),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&hi(e),t})),s=await Gr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return pi(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Mr.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Ws(xs(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await fr(e)._initializationPromise,Ao(e,t,!1)}(this._delegate,Ls);return e?zs(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){fr(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Hs(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Hs(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=fr(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){pn(t.handleCodeInApp,r,"argument-error"),t&&ui(r,e,t)}(i,n),await wr(r,i,"getOobCode",Ar)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=fr(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ui(r,i,n),await wr(r,i,"getOobCode",xr)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Ps(Object.values(Ns).includes(t),e,"invalid-persistence-type"),ye()?Ps(t!==Ns.SESSION,e,"unsupported-persistence-type"):me()?Ps(t===Ns.NONE,e,"unsupported-persistence-type"):Cs()?Ps(t===Ns.NONE||t===Ns.LOCAL&&we(),e,"unsupported-persistence-type"):Ps(t===Ns.NONE||ks(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Ns.SESSION:t=Mi;break;case Ns.LOCAL:t=await Qn(Yi)._isAvailable()?Yi:Ri;break;case Ns.NONE:t=Yn;break;default:return ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return zs(this._delegate,async function(e){var t;const n=fr(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Gr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Hr(n,{returnSecureToken:!0}),i=await Gr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return zs(this._delegate,ri(this._delegate,e))}signInWithCustomToken(e){return zs(this._delegate,si(this._delegate,e))}signInWithEmailAndPassword(e,t){return zs(this._delegate,function(e,t,n){return ri(De(e),Lr.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&hi(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return zs(this._delegate,async function(e,t,n){const r=De(e),i=Lr.credentialWithLink(t,n||yn());return pn(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ri(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return js(this._delegate,async function(e,t,n){const r=fr(e),i=await co(r,t,De(n));return new ao(i,(e=>ri(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Ws(xs(),this._delegate,"operation-not-supported-in-this-environment"),zs(this._delegate,async function(e,t,n){const r=fr(e);dn(e,t,Fr);const i=uo(r,n);return new vo(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Ls))}async signInWithRedirect(e){return Ws(xs(),this._delegate,"operation-not-supported-in-this-environment"),await Rs(this._delegate),ko(this._delegate,e,Ls)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await fi(De(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Hs(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&qs.getOrCreate(e)),error:t,complete:n}}function Gs(e,t){const n=function(e,t){const n=Os();if(!n)return[];const r=$n(Ds,e,t);switch(n.getItem(r)){case Ns.NONE:return[Yn];case Ns.LOCAL:return[Yi,Mi];case Ns.SESSION:return[Mi];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Yi)||n.push(Yi),"undefined"!==typeof window)for(const r of[Ri,Mi])n.includes(r)||n.push(r);return n.includes(Yn)||n.push(Yn),n}Ks.Persistence=Ns;class Qs{constructor(){this.providerId="phone",this._delegate=new lo(Fs(Gt.auth()))}static credential(e,t){return lo.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Qs.PHONE_SIGN_IN_METHOD=lo.PHONE_SIGN_IN_METHOD,Qs.PROVIDER_ID=lo.PROVIDER_ID;const Zs=pn;class Ys{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gt.app();var r;Zs(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new so(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var $s;($s=Gt).INTERNAL.registerComponent(new Re("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ks(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yt,PASSWORD_RESET:$t,RECOVER_EMAIL:Xt,REVERT_SECOND_FACTOR_ADDITION:Jt,VERIFY_AND_CHANGE_EMAIL:en,VERIFY_EMAIL:tn}},EmailAuthProvider:Lr,FacebookAuthProvider:zr,GithubAuthProvider:Br,GoogleAuthProvider:jr,OAuthProvider:Ur,SAMLAuthProvider:Wr,PhoneAuthProvider:Qs,PhoneMultiFactorGenerator:os,RecaptchaVerifier:Ys,TwitterAuthProvider:Kr,Auth:Ks,AuthCredential:Er,Error:be}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$s.registerVersion("@firebase/auth-compat","0.5.1");var Xs,Js="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ea={},ta=ta||{},na=Js||self;function ra(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ia(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var oa="closure_uid_"+(1e9*Math.random()>>>0),sa=0;function aa(e,t,n){return e.call.apply(e.bind,arguments)}function ca(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function la(e,t,n){return(la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ca).apply(null,arguments)}function ua(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ha(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function da(){this.s=this.s,this.o=this.o}da.prototype.s=!1,da.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,oa)&&e[oa]||(e[oa]=++sa))},da.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pa(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ma(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ra(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ga(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ga.prototype.h=function(){this.defaultPrevented=!0};var ya=function(){if(!na.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};na.addEventListener("test",e,t),na.removeEventListener("test",e,t)}catch(n){}return e}();function va(e){return/^[\s\xa0]*$/.test(e)}function wa(){var e=na.navigator;return e&&(e=e.userAgent)?e:""}function ba(e){return-1!=wa().indexOf(e)}function _a(e){return _a[" "](e),e}_a[" "]=function(){};var Ta,Ea,Ia=ba("Opera"),Sa=ba("Trident")||ba("MSIE"),ka=ba("Edge"),Ca=ka||Sa,xa=ba("Gecko")&&!(-1!=wa().toLowerCase().indexOf("webkit")&&!ba("Edge"))&&!(ba("Trident")||ba("MSIE"))&&!ba("Edge"),Aa=-1!=wa().toLowerCase().indexOf("webkit")&&!ba("Edge");function Na(){var e=na.document;return e?e.documentMode:void 0}e:{var Pa="",Da=function(){var e=wa();return xa?/rv:([^\);]+)(\)|;)/.exec(e):ka?/Edge\/([\d\.]+)/.exec(e):Sa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Aa?/WebKit\/(\S+)/.exec(e):Ia?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Da&&(Pa=Da?Da[1]:""),Sa){var Ra=Na();if(null!=Ra&&Ra>parseFloat(Pa)){Ta=String(Ra);break e}}Ta=Pa}if(na.document&&Sa){var Oa=Na();Ea=Oa||(parseInt(Ta,10)||void 0)}else Ea=void 0;var Ma=Ea;function La(e,t){if(ga.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xa){e:{try{_a(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Fa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&La.$.h.call(this)}}ha(La,ga);var Fa={2:"touch",3:"pen",4:"mouse"};La.prototype.h=function(){La.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Va="closure_listenable_"+(1e6*Math.random()|0),Ua=0;function za(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ua,this.fa=this.ia=!1}function ja(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ba(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function qa(e){const t={};for(const n in e)t[n]=e[n];return t}const Wa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ka(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Wa.length;t++)n=Wa[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ha(e){this.src=e,this.g={},this.h=0}function Ga(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=fa(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ja(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Qa(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Ha.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Qa(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new za(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Za="closure_lm_"+(1e6*Math.random()|0),Ya={};function $a(e,t,n,r,i){if(r&&r.once)return Ja(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)$a(e,t[o],n,r,i);return null}return n=sc(n),e&&e[Va]?e.O(t,n,ia(r)?!!r.capture:!!r,i):Xa(e,t,n,!1,r,i)}function Xa(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=ia(i)?!!i.capture:!!i,a=ic(e);if(a||(e[Za]=a=new Ha(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=rc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ya||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(nc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ja(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ja(e,t[o],n,r,i);return null}return n=sc(n),e&&e[Va]?e.P(t,n,ia(r)?!!r.capture:!!r,i):Xa(e,t,n,!0,r,i)}function ec(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ec(e,t[o],n,r,i);else r=ia(r)?!!r.capture:!!r,n=sc(n),e&&e[Va]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Qa(o=e.g[t],n,r,i))&&(ja(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ic(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Qa(t,n,r,i)),(n=-1<e?t[e]:null)&&tc(n))}function tc(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Va])Ga(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(nc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ic(t))?(Ga(n,e),0==n.h&&(n.src=null,t[Za]=null)):ja(e)}}}function nc(e){return e in Ya?Ya[e]:Ya[e]="on"+e}function rc(e,t){if(e.fa)e=!0;else{t=new La(t,this);var n=e.listener,r=e.la||e.src;e.ia&&tc(e),e=n.call(r,t)}return e}function ic(e){return(e=e[Za])instanceof Ha?e:null}var oc="__closure_events_fn_"+(1e9*Math.random()>>>0);function sc(e){return"function"===typeof e?e:(e[oc]||(e[oc]=function(t){return e.handleEvent(t)}),e[oc])}function ac(){da.call(this),this.i=new Ha(this),this.S=this,this.J=null}function cc(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ga(t,e);else if(t instanceof ga)t.target=t.target||e;else{var i=t;Ka(t=new ga(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=lc(s,r,!0,t)&&i}if(i=lc(s=t.g=e,r,!0,t)&&i,i=lc(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=lc(s=t.g=n[o],r,!1,t)&&i}function lc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Ga(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}ha(ac,da),ac.prototype[Va]=!0,ac.prototype.removeEventListener=function(e,t,n,r){ec(this,e,t,n,r)},ac.prototype.N=function(){if(ac.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ja(n[r]);delete t.g[e],t.h--}}this.J=null},ac.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ac.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uc=na.JSON.stringify;function hc(){var e=vc;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var dc=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new fc),(e=>e.reset()));class fc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pc(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function mc(e){na.setTimeout((()=>{throw e}),0)}let gc,yc=!1,vc=new class{constructor(){this.h=this.g=null}add(e,t){const n=dc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},wc=()=>{const e=na.Promise.resolve(void 0);gc=()=>{e.then(bc)}};var bc=()=>{for(var e;e=hc();){try{e.h.call(e.g)}catch(n){mc(n)}var t=dc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yc=!1};function _c(e,t){ac.call(this),this.h=e||1,this.g=t||na,this.j=la(this.qb,this),this.l=Date.now()}function Tc(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ec(e,t,n){if("function"===typeof e)n&&(e=la(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=la(e.handleEvent,e)}return 2147483647<Number(t)?-1:na.setTimeout(e,t||0)}function Ic(e){e.g=Ec((()=>{e.g=null,e.i&&(e.i=!1,Ic(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ha(_c,ac),(Xs=_c.prototype).ga=!1,Xs.T=null,Xs.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cc(this,"tick"),this.ga&&(Tc(this),this.start()))}},Xs.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xs.N=function(){_c.$.N.call(this),Tc(this),delete this.g};class Sc extends da{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ic(this)}N(){super.N(),this.g&&(na.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kc(e){da.call(this),this.h=e,this.g={}}ha(kc,da);var Cc=[];function xc(e,t,n,r){Array.isArray(n)||(n&&(Cc[0]=n.toString()),n=Cc);for(var i=0;i<n.length;i++){var o=$a(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ac(e){Ba(e.g,(function(e,t){this.g.hasOwnProperty(t)&&tc(e)}),e),e.g={}}function Nc(){this.g=!0}function Pc(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return uc(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}kc.prototype.N=function(){kc.$.N.call(this),Ac(this)},kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nc.prototype.Ea=function(){this.g=!1},Nc.prototype.info=function(){};var Dc={},Rc=null;function Oc(){return Rc=Rc||new ac}function Mc(e){ga.call(this,Dc.Ta,e)}function Lc(e){const t=Oc();cc(t,new Mc(t))}function Fc(e,t){ga.call(this,Dc.STAT_EVENT,e),this.stat=t}function Vc(e){const t=Oc();cc(t,new Fc(t,e))}function Uc(e,t){ga.call(this,Dc.Ua,e),this.size=t}function zc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return na.setTimeout((function(){e()}),t)}Dc.Ta="serverreachability",ha(Mc,ga),Dc.STAT_EVENT="statevent",ha(Fc,ga),Dc.Ua="timingevent",ha(Uc,ga);var jc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qc(){}function Wc(e){return e.h||(e.h=e.i())}function Kc(){}qc.prototype.h=null;var Hc,Gc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qc(){ga.call(this,"d")}function Zc(){ga.call(this,"c")}function Yc(){}function $c(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new kc(this),this.P=Jc,e=Ca?125:void 0,this.V=new _c(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xc}function Xc(){this.i=null,this.g="",this.h=!1}ha(Qc,ga),ha(Zc,ga),ha(Yc,qc),Yc.prototype.g=function(){return new XMLHttpRequest},Yc.prototype.i=function(){return{}},Hc=new Yc;var Jc=45e3,el={},tl={};function nl(e,t,n){e.L=1,e.A=_l(gl(t)),e.u=n,e.S=!0,rl(e,null)}function rl(e,t){e.G=Date.now(),al(e),e.B=gl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Ol(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Xc,e.g=Mu(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Sc(la(e.Pa,e,e.g),e.O)),xc(e.U,e.g,"readystatechange",e.nb),t=e.I?qa(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Lc(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function il(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function ol(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=sl(e,n),r==tl){4==t&&(e.s=4,Vc(14),i=!1),Pc(e.j,e.m,null,"[Incomplete Response]");break}if(r==el){e.s=4,Vc(15),Pc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Pc(e.j,e.m,r,null),dl(e,r)}il(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Vc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cu(t),t.M=!0,Vc(11))):(Pc(e.j,e.m,n,"[Invalid Chunked Response]"),hl(e),ul(e))}function sl(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?tl:(n=Number(t.substring(n,r)),isNaN(n)?el:(r+=1)+n>t.length?tl:(t=t.slice(r,r+n),e.o=r+n,t))}function al(e){e.Y=Date.now()+e.P,cl(e,e.P)}function cl(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=zc(la(e.lb,e),t)}function ll(e){e.C&&(na.clearTimeout(e.C),e.C=null)}function ul(e){0==e.l.H||e.J||Nu(e.l,e)}function hl(e){ll(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Tc(e.V),Ac(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function dl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||jl(n.i,e)))if(!e.K&&jl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Au(n),wu(n)}ku(n),Vc(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=zc(la(n.ib,n),6e3));if(1>=zl(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else Du(n,11)}else if((e.K||n.g==e)&&Au(n),!va(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Bl(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,bl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Ou(r,r.J?r.pa:null,r.Y),s.K){ql(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(ll(a),al(a)),r.g=s}else Su(r);0<n.j.length&&_u(n)}else"stop"!=l[0]&&"close"!=l[0]||Du(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Du(n,7):vu(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Lc()}catch(l){}}function fl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ra(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ra(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ra(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Xs=$c.prototype).setTimeout=function(e){this.P=e},Xs.nb=function(e){e=e.target;const t=this.M;t&&3==du(e)?t.l():this.Pa(e)},Xs.Pa=function(e){try{if(e==this.g)e:{const u=du(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ca||this.g&&(this.h.h||this.g.ja()||fu(this.g)))){this.J||4!=u||7==t||Lc(),ll(this);var n=this.g.da();this.ca=n;t:if(il(this)){var r=fu(this.g);e="";var i=r.length,o=4==du(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){hl(this),ul(this);var s="";break t}this.h.i=new na.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!va(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,Vc(12),hl(this),ul(this);break e}Pc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dl(this,n)}this.S?(ol(this,u,s),Ca&&this.i&&3==u&&(xc(this.U,this.V,"tick",this.mb),this.V.start())):(Pc(this.j,this.m,s,null),dl(this,s)),4==u&&hl(this),this.i&&!this.J&&(4==u?Nu(this.l,this):(this.i=!1,al(this)))}else(function(e){const t={};e=(e.g&&2<=du(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(va(e[r]))continue;var n=pc(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Vc(12)):(this.s=0,Vc(13)),hl(this),ul(this)}}}catch(u){}},Xs.mb=function(){if(this.g){var e=du(this.g),t=this.g.ja();this.o<t.length&&(ll(this),ol(this,e,t),this.i&&4!=e&&al(this))}},Xs.cancel=function(){this.J=!0,hl(this)},Xs.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Lc(),Vc(17)),hl(this),this.s=2,ul(this)):cl(this,this.Y-e)};var pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ml(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ml){this.h=e.h,yl(this,e.j),this.s=e.s,this.g=e.g,vl(this,e.m),this.l=e.l;var t=e.i,n=new Nl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),wl(this,n),this.o=e.o}else e&&(t=String(e).match(pl))?(this.h=!1,yl(this,t[1]||"",!0),this.s=Tl(t[2]||""),this.g=Tl(t[3]||"",!0),vl(this,t[4]),this.l=Tl(t[5]||"",!0),wl(this,t[6]||"",!0),this.o=Tl(t[7]||"")):(this.h=!1,this.i=new Nl(null,this.h))}function gl(e){return new ml(e)}function yl(e,t,n){e.j=n?Tl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wl(e,t,n){t instanceof Nl?(e.i=t,function(e,t){t&&!e.j&&(Pl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dl(this,t),Ol(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=El(t,xl)),e.i=new Nl(t,e.h))}function bl(e,t,n){e.i.set(t,n)}function _l(e){return bl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Tl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function El(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Il),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Il(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ml.prototype.toString=function(){var e=[],t=this.j;t&&e.push(El(t,Sl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(El(t,Sl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(El(n,"/"==n.charAt(0)?Cl:kl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",El(n,Al)),e.join("")};var Sl=/[#\/\?@]/g,kl=/[#\?:]/g,Cl=/[#\?]/g,xl=/[#\?@]/g,Al=/#/g;function Nl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dl(e,t){Pl(e),t=Ml(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Rl(e,t){return Pl(e),t=Ml(e,t),e.g.has(t)}function Ol(e,t,n){Dl(e,t),0<n.length&&(e.i=null,e.g.set(Ml(e,t),pa(n)),e.h+=n.length)}function Ml(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xs=Nl.prototype).add=function(e,t){Pl(this),this.i=null,e=Ml(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xs.forEach=function(e,t){Pl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Xs.ta=function(){Pl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Xs.Z=function(e){Pl(this);let t=[];if("string"===typeof e)Rl(this,e)&&(t=t.concat(this.g.get(Ml(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Xs.set=function(e,t){return Pl(this),this.i=null,Rl(this,e=Ml(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xs.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Xs.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Ll=class{constructor(e,t){this.g=e,this.map=t}};function Fl(e){this.l=e||Vl,na.PerformanceNavigationTiming?e=0<(e=na.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(na.g&&na.g.Ka&&na.g.Ka()&&na.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vl=10;function Ul(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zl(e){return e.h?1:e.g?e.g.size:0}function jl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Bl(e,t){e.g?e.g.add(t):e.h=t}function ql(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Wl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return pa(e.i)}Fl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Kl,Hl=class{stringify(e){return na.JSON.stringify(e,void 0)}parse(e){return na.JSON.parse(e,void 0)}};function Gl(){this.g=new Hl}function Ql(e,t,n){const r=n||"";try{fl(e,(function(e,n){let i=e;ia(e)&&(i=uc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Yl(e){this.l=e.ec||null,this.j=e.ob||!1}function $l(e,t){ac.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Xl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ha(Yl,qc),Yl.prototype.g=function(){return new $l(this.l,this.j)},Yl.prototype.i=(Kl={},function(){return Kl}),ha($l,ac);var Xl=0;function Jl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function eu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tu(e)}function tu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xs=$l.prototype).open=function(e,t){if(this.readyState!=Xl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tu(this)},Xs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||na).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Xs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eu(this)),this.readyState=Xl},Xs.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tu(this)),this.g&&(this.readyState=3,tu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof na.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Xs.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?eu(this):tu(this),3==this.readyState&&Jl(this)}},Xs.Za=function(e){this.g&&(this.response=this.responseText=e,eu(this))},Xs.Ya=function(e){this.g&&(this.response=e,eu(this))},Xs.ka=function(){this.g&&eu(this)},Xs.setRequestHeader=function(e,t){this.v.append(e,t)},Xs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xs.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($l.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var nu=na.JSON.parse;function ru(e){ac.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iu,this.L=this.M=!1}ha(ru,ac);var iu="",ou=/^https?$/i,su=["POST","PUT"];function au(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cu(e),uu(e)}function cu(e){e.F||(e.F=!0,cc(e,"complete"),cc(e,"error"))}function lu(e){if(e.h&&"undefined"!=typeof ta&&(!e.C[1]||4!=du(e)||2!=e.da()))if(e.v&&4==du(e))Ec(e.La,0,e);else if(cc(e,"readystatechange"),4==du(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(pl)[1]||null;!i&&na.self&&na.self.location&&(i=na.self.location.protocol.slice(0,-1)),r=!ou.test(i?i.toLowerCase():"")}n=r}if(n)cc(e,"complete"),cc(e,"success");else{e.m=6;try{var o=2<du(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",cu(e)}}finally{uu(e)}}}function uu(e,t){if(e.g){hu(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||cc(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function hu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(na.clearTimeout(e.A),e.A=null)}function du(e){return e.g?e.g.readyState:0}function fu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case iu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(bh){return null}}function pu(e){let t="";return Ba(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function mu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bl(e,t,n))}function gu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yu(e){this.Ga=0,this.j=[],this.l=new Nc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gu("baseRetryDelayMs",5e3,e),this.hb=gu("retryDelaySeedMs",1e4,e),this.eb=gu("forwardChannelMaxRetries",2,e),this.xa=gu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Fl(e&&e.concurrentRequestLimit),this.Ja=new Gl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vu(e){if(bu(e),3==e.H){var t=e.W++,n=gl(e.I);if(bl(n,"SID",e.K),bl(n,"RID",t),bl(n,"TYPE","terminate"),Eu(e,n),(t=new $c(e,e.l,t)).L=2,t.A=_l(gl(n)),n=!1,na.navigator&&na.navigator.sendBeacon)try{n=na.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&na.Image&&((new Image).src=t.A,n=!0),n||(t.g=Mu(t.l,null),t.g.ha(t.A)),t.G=Date.now(),al(t)}Ru(e)}function wu(e){e.g&&(Cu(e),e.g.cancel(),e.g=null)}function bu(e){wu(e),e.u&&(na.clearTimeout(e.u),e.u=null),Au(e),e.i.cancel(),e.m&&("number"===typeof e.m&&na.clearTimeout(e.m),e.m=null)}function _u(e){if(!Ul(e.i)&&!e.m){e.m=!0;var t=e.Na;gc||wc(),yc||(gc(),yc=!0),vc.add(t,e),e.C=0}}function Tu(e,t){var n;n=t?t.m:e.W++;const r=gl(e.I);bl(r,"SID",e.K),bl(r,"RID",n),bl(r,"AID",e.V),Eu(e,r),e.o&&e.s&&mu(r,e.o,e.s),n=new $c(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Iu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Bl(e.i,n),nl(n,r,t)}function Eu(e,t){e.na&&Ba(e.na,(function(e,n){bl(t,n,e)})),e.h&&fl({},(function(e,n){bl(t,n,e)}))}function Iu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?la(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Ql(a,e,"req"+n+"_")}catch(Fd){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Su(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;gc||wc(),yc||(gc(),yc=!0),vc.add(t,e),e.A=0}}function ku(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=zc(la(e.Ma,e),Pu(e,e.A)),e.A++,!0)}function Cu(e){null!=e.B&&(na.clearTimeout(e.B),e.B=null)}function xu(e){e.g=new $c(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=gl(e.wa);bl(t,"RID","rpc"),bl(t,"SID",e.K),bl(t,"AID",e.V),bl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&bl(t,"TO",e.qa),bl(t,"TYPE","xmlhttp"),Eu(e,t),e.o&&e.s&&mu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=_l(gl(t)),n.u=null,n.S=!0,rl(n,e)}function Au(e){null!=e.v&&(na.clearTimeout(e.v),e.v=null)}function Nu(e,t){var n=null;if(e.g==t){Au(e),Cu(e),e.g=null;var r=2}else{if(!jl(e.i,t))return;n=t.F,ql(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;cc(r=Oc(),new Uc(r,n)),_u(e)}else Su(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(zl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=zc(la(e.Na,e,t),Pu(e,e.C)),e.C++,!0))}(e,t)||2==r&&ku(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Du(e,5);break;case 4:Du(e,10);break;case 3:Du(e,6);break;default:Du(e,2)}}function Pu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Du(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=la(e.pb,e);n||(n=new ml("//www.google.com/images/cleardot.gif"),na.location&&"http"==na.location.protocol||yl(n,"https"),_l(n)),function(e,t){const n=new Nc;if(na.Image){const r=new Image;r.onload=ua(Zl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ua(Zl,n,r,"TestLoadImage: error",!1,t),r.onabort=ua(Zl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ua(Zl,n,r,"TestLoadImage: timeout",!1,t),na.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Vc(2);e.H=0,e.h&&e.h.za(t),Ru(e),bu(e)}function Ru(e){if(e.H=0,e.ma=[],e.h){const t=Wl(e.i);0==t.length&&0==e.j.length||(ma(e.ma,t),ma(e.ma,e.j),e.i.i.length=0,pa(e.j),e.j.length=0),e.h.ya()}}function Ou(e,t,n){var r=n instanceof ml?gl(n):new ml(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vl(r,r.m);else{var i=na.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ml(null);r&&yl(o,r),t&&(o.g=t),i&&vl(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&bl(r,n,t),bl(r,"VER",e.ra),Eu(e,r),r}function Mu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new ru(new Yl({ob:n})):new ru(e.va)).Oa(e.J),t}function Lu(){}function Fu(){if(Sa&&!(10<=Number(Ma)))throw Error("Environmental error: no available transport.")}function Vu(e,t){ac.call(this),this.g=new yu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!va(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!va(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ju(this)}function Uu(e){Qc.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zu(){Zc.call(this),this.status=1}function ju(e){this.g=e}function Bu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Wu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Xs=ru.prototype).Oa=function(e){this.M=e},Xs.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hc.g(),this.C=this.u?Wc(this.u):Wc(Hc),this.g.onreadystatechange=la(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void au(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=na.FormData&&e instanceof na.FormData,!(0<=fa(su,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hu(this),0<this.B&&((this.L=function(e){return Sa&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=la(this.ua,this)):this.A=Ec(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){au(this,o)}},Xs.ua=function(){"undefined"!=typeof ta&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cc(this,"timeout"),this.abort(8))},Xs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cc(this,"complete"),cc(this,"abort"),uu(this))},Xs.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uu(this,!0)),ru.$.N.call(this)},Xs.La=function(){this.s||(this.G||this.v||this.l?lu(this):this.kb())},Xs.kb=function(){lu(this)},Xs.isActive=function(){return!!this.g},Xs.da=function(){try{return 2<du(this)?this.g.status:-1}catch(Kl){return-1}},Xs.ja=function(){try{return this.g?this.g.responseText:""}catch(Kl){return""}},Xs.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),nu(t)}},Xs.Ia=function(){return this.m},Xs.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xs=yu.prototype).ra=8,Xs.H=1,Xs.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new $c(this,this.l,e);let o=this.s;if(this.U&&(o?(o=qa(o),Ka(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Iu(this,i,t),bl(n=gl(this.I),"RID",e),bl(n,"CVER",22),this.F&&bl(n,"X-HTTP-Session-Id",this.F),Eu(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(pu(o)))+"&"+t:this.o&&mu(n,this.o,o)),Bl(this.i,i),this.bb&&bl(n,"TYPE","init"),this.P?(bl(n,"$req",t),bl(n,"SID","null"),i.aa=!0,nl(i,n,null)):nl(i,n,t),this.H=2}}else 3==this.H&&(e?Tu(this,e):0==this.j.length||Ul(this.i)||Tu(this))},Xs.Ma=function(){if(this.u=null,xu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=zc(la(this.jb,this),e)}},Xs.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vc(10),wu(this),xu(this))},Xs.ib=function(){null!=this.v&&(this.v=null,wu(this),ku(this),Vc(19))},Xs.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Vc(2)):(this.l.info("Failed to ping google.com"),Vc(1))},Xs.isActive=function(){return!!this.h&&this.h.isActive(this)},(Xs=Lu.prototype).Ba=function(){},Xs.Aa=function(){},Xs.za=function(){},Xs.ya=function(){},Xs.isActive=function(){return!0},Xs.Va=function(){},Fu.prototype.g=function(e,t){return new Vu(e,t)},ha(Vu,ac),Vu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Vc(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ou(e,null,e.Y),_u(e)},Vu.prototype.close=function(){vu(this.g)},Vu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=uc(e),e=n);t.j.push(new Ll(t.fb++,e)),3==t.H&&_u(t)},Vu.prototype.N=function(){this.g.h=null,delete this.j,vu(this.g),delete this.g,Vu.$.N.call(this)},ha(Uu,Qc),ha(zu,Zc),ha(ju,Lu),ju.prototype.Ba=function(){cc(this.g,"a")},ju.prototype.Aa=function(e){cc(this.g,new Uu(e))},ju.prototype.za=function(e){cc(this.g,new zu)},ju.prototype.ya=function(){cc(this.g,"b")},ha(Bu,(function(){this.blockSize=-1})),Bu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)qu(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){qu(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){qu(this,r),i=0;break}}this.h=i,this.i+=t},Bu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ku={};function Hu(e){return-128<=e&&128>e?function(e,t){var n=Ku;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Wu([0|e],0>e?-1:0)})):new Wu([0|e],0>e?-1:0)}function Gu(e){if(isNaN(e)||!isFinite(e))return Zu;if(0>e)return eh(Gu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Qu;return new Wu(t,0)}var Qu=4294967296,Zu=Hu(0),Yu=Hu(1),$u=Hu(16777216);function Xu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ju(e){return-1==e.h}function eh(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Wu(n,~e.h).add(Yu)}function th(e,t){return e.add(eh(t))}function nh(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function rh(e,t){this.g=e,this.h=t}function ih(e,t){if(Xu(t))throw Error("division by zero");if(Xu(e))return new rh(Zu,Zu);if(Ju(e))return t=ih(eh(e),t),new rh(eh(t.g),eh(t.h));if(Ju(t))return t=ih(e,eh(t)),new rh(eh(t.g),t.h);if(30<e.g.length){if(Ju(e)||Ju(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Yu,r=t;0>=r.X(e);)n=oh(n),r=oh(r);var i=sh(n,1),o=sh(r,1);for(r=sh(r,2),n=sh(n,2);!Xu(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=sh(r,1),n=sh(n,1)}return t=th(e,i.R(t)),new rh(i,t)}for(i=Zu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Gu(n)).R(t);Ju(s)||0<s.X(e);)s=(o=Gu(n-=r)).R(t);Xu(o)&&(o=Yu),i=i.add(o),e=th(e,s)}return new rh(i,e)}function oh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Wu(n,e.h)}function sh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Wu(i,e.h)}(Xs=Wu.prototype).ea=function(){if(Ju(this))return-eh(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Qu+r)*t,t*=Qu}return e},Xs.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Xu(this))return"0";if(Ju(this))return"-"+eh(this).toString(e);for(var t=Gu(Math.pow(e,6)),n=this,r="";;){var i=ih(n,t).g,o=((0<(n=th(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Xu(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Xs.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Xs.X=function(e){return Ju(e=th(this,e))?-1:Xu(e)?0:1},Xs.abs=function(){return Ju(this)?eh(this):this},Xs.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Wu(n,-2147483648&n[n.length-1]?-1:0)},Xs.R=function(e){if(Xu(this)||Xu(e))return Zu;if(Ju(this))return Ju(e)?eh(this).R(eh(e)):eh(eh(this).R(e));if(Ju(e))return eh(this.R(eh(e)));if(0>this.X($u)&&0>e.X($u))return Gu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=s*c,nh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,nh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,nh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,nh(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Wu(n,0)},Xs.gb=function(e){return ih(this,e).h},Xs.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Wu(n,this.h&e.h)},Xs.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Wu(n,this.h|e.h)},Xs.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Wu(n,this.h^e.h)},Fu.prototype.createWebChannel=Fu.prototype.g,Vu.prototype.send=Vu.prototype.u,Vu.prototype.open=Vu.prototype.m,Vu.prototype.close=Vu.prototype.close,jc.NO_ERROR=0,jc.TIMEOUT=8,jc.HTTP_ERROR=6,Bc.COMPLETE="complete",Kc.EventType=Gc,Gc.OPEN="a",Gc.CLOSE="b",Gc.ERROR="c",Gc.MESSAGE="d",ac.prototype.listen=ac.prototype.O,ru.prototype.listenOnce=ru.prototype.P,ru.prototype.getLastError=ru.prototype.Sa,ru.prototype.getLastErrorCode=ru.prototype.Ia,ru.prototype.getStatus=ru.prototype.da,ru.prototype.getResponseJson=ru.prototype.Wa,ru.prototype.getResponseText=ru.prototype.ja,ru.prototype.send=ru.prototype.ha,ru.prototype.setWithCredentials=ru.prototype.Oa,Bu.prototype.digest=Bu.prototype.l,Bu.prototype.reset=Bu.prototype.reset,Bu.prototype.update=Bu.prototype.j,Wu.prototype.add=Wu.prototype.add,Wu.prototype.multiply=Wu.prototype.R,Wu.prototype.modulo=Wu.prototype.gb,Wu.prototype.compare=Wu.prototype.X,Wu.prototype.toNumber=Wu.prototype.ea,Wu.prototype.toString=Wu.prototype.toString,Wu.prototype.getBits=Wu.prototype.D,Wu.fromNumber=Gu,Wu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return eh(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Gu(Math.pow(n,8)),i=Zu,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Gu(Math.pow(n,s)),i=i.R(s).add(Gu(a))):i=(i=i.R(r)).add(Gu(a))}return i};var ah=ea.createWebChannelTransport=function(){return new Fu},ch=ea.getStatEventTarget=function(){return Oc()},lh=ea.ErrorCode=jc,uh=ea.EventType=Bc,hh=ea.Event=Dc,dh=ea.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fh=(ea.FetchXmlHttpFactory=Yl,ea.WebChannel=Kc),ph=ea.XhrIo=ru,mh=ea.Md5=Bu,gh=ea.Integer=Wu;const yh="@firebase/firestore";class vh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vh.UNAUTHENTICATED=new vh(null),vh.GOOGLE_CREDENTIALS=new vh("google-credentials-uid"),vh.FIRST_PARTY=new vh("first-party-uid"),vh.MOCK_USER=new vh("mock-user");let wh="10.7.0";const bh=new qe("@firebase/firestore");function _h(){return bh.logLevel}function Th(e){if(bh.logLevel<=Ve.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Sh);bh.debug("Firestore (".concat(wh,"): ").concat(e),...i)}}function Eh(e){if(bh.logLevel<=Ve.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Sh);bh.error("Firestore (".concat(wh,"): ").concat(e),...i)}}function Ih(e){if(bh.logLevel<=Ve.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Sh);bh.warn("Firestore (".concat(wh,"): ").concat(e),...i)}}function Sh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function kh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(wh,") INTERNAL ASSERTION FAILED: ")+e;throw Eh(t),new Error(t)}function Ch(e,t){e||kh()}function xh(e,t){return e}const Ah={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nh extends be{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ph{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Dh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Rh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vh.UNAUTHENTICATED)))}shutdown(){}}class Oh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Mh{constructor(e){this.t=e,this.currentUser=vh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ph;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ph,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Th("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Th("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ph)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Th("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ch("string"==typeof t.accessToken),new Dh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ch(null===e||"string"==typeof e),new vh(e)}}class Lh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=vh.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Lh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(vh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uh{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Th("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Th("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Th("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Th("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ch("string"==typeof e.token),this.R=e.token,new Vh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class jh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=zh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Bh(e,t){return e<t?-1:e>t?1:0}function qh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Wh(e){return e+"\0"}class Kh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nh(Ah.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nh(Ah.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nh(Ah.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nh(Ah.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kh.fromMillis(Date.now())}static fromDate(e){return Kh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Kh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bh(this.nanoseconds,e.nanoseconds):Bh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Hh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Hh(e)}static min(){return new Hh(new Kh(0,0))}static max(){return new Hh(new Kh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gh{constructor(e,t,n){void 0===t?t=0:t>e.length&&kh(),void 0===n?n=e.length-t:n>e.length-t&&kh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Gh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qh extends Gh{construct(e,t,n){return new Qh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Qh(e)}static emptyPath(){return new Qh([])}}const Zh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yh extends Gh{construct(e,t,n){return new Yh(e,t,n)}static isValidIdentifier(e){return Zh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Nh(Ah.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nh(Ah.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Nh(Ah.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yh(t)}static emptyPath(){return new Yh([])}}class $h{constructor(e){this.path=e}static fromPath(e){return new $h(Qh.fromString(e))}static fromName(e){return new $h(Qh.fromString(e).popFirst(5))}static empty(){return new $h(Qh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $h(new Qh(e.slice()))}}class Xh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Jh(e){return e.fields.find((e=>2===e.kind))}function ed(e){return e.fields.filter((e=>2!==e.kind))}Xh.UNKNOWN_ID=-1;class td{constructor(e,t){this.fieldPath=e,this.kind=t}}class nd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nd(0,od.min())}}function rd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Hh.fromTimestamp(1e9===r?new Kh(n+1,0):new Kh(n,r));return new od(i,$h.empty(),t)}function id(e){return new od(e.readTime,e.key,-1)}class od{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new od(Hh.min(),$h.empty(),-1)}static max(){return new od(Hh.max(),$h.empty(),-1)}}function sd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$h.comparator(e.documentKey,t.documentKey),0!==n?n:Bh(e.largestBatchId,t.largestBatchId))}const ad="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ld(e){if(e.code!==Ah.FAILED_PRECONDITION||e.message!==ad)throw e;Th("LocalStore","Unexpectedly lost primary lease")}class ud{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&kh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ud(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ud?t:ud.resolve(t)}catch(e){return ud.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ud.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ud.reject(t)}static resolve(e){return new ud(((t,n)=>{t(e)}))}static reject(e){return new ud(((t,n)=>{n(e)}))}static waitFor(e){return new ud(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=ud.resolve(!1);for(const n of e)t=t.next((e=>e?ud.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ud(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new ud(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class hd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ph,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new pd(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=wd(t.target.error);this.V.reject(new pd(e,n))}}static open(e,t,n,r){try{return new hd(t,e.transaction(r,n))}catch(e){throw new pd(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Th("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gd(t)}}class dd{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===dd.S(pe())&&Eh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Th("SimpleDb","Removing database:",e),yd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!we())return!1;if(dd.C())return!0;const e=pe(),t=dd.S(e),n=0<t&&t<10,r=dd.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/twitter-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Th("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new pd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Nh(Ah.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Nh(Ah.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new pd(e,r))},r.onupgradeneeded=e=>{Th("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Th("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=hd.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ud.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Th("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class fd{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return yd(this.k.delete())}}class pd extends Nh{constructor(e,t){super(Ah.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function md(e){return"IndexedDbTransactionError"===e.name}class gd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Th("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Th("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),yd(n)}add(e){return Th("SimpleDb","ADD",this.store.name,e,e),yd(this.store.add(e))}get(e){return yd(this.store.get(e)).next((t=>(void 0===t&&(t=null),Th("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Th("SimpleDb","DELETE",this.store.name,e),yd(this.store.delete(e))}count(){return Th("SimpleDb","COUNT",this.store.name),yd(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new ud(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ud(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Th("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new ud(((n,r)=>{t.onerror=e=>{const t=wd(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new ud(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new fd(i),s=t(i.primaryKey,i.value,o);if(s instanceof ud){const e=s.catch((e=>(o.done(),ud.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>ud.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yd(e){return new ud(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=wd(e.target.error);n(t)}}))}let vd=!1;function wd(e){const t=dd.S(pe());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Nh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return vd||(vd=!0,setTimeout((()=>{throw e}),0)),e}}return e}class bd{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Th("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Th("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){md(e)?Th("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ld(e)}await this.ee(6e4)}))}}class _d{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return ud.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Th("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Th("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=id(t);sd(r,n)>0&&(n=r)})),new od(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Ed(e){return null==e}function Id(e){return 0===e&&1/e==-1/0}function Sd(e){return"number"==typeof e&&Number.isInteger(e)&&!Id(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function kd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xd(t)),t=Cd(e.get(n),t);return xd(t)}function Cd(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function xd(e){return e+"\x01\x01"}function Ad(e){const t=e.length;if(Ch(t>=2),2===t)return Ch("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qh.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&kh(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:kh()}o=t+2}return new Qh(r)}Td._e=-1;const Nd=["userId","batchId"];function Pd(e,t){return[e,kd(t)]}function Dd(e,t,n){return[e,kd(t),n]}const Rd={},Od=["prefixPath","collectionGroup","readTime","documentId"],Md=["prefixPath","collectionGroup","documentId"],Ld=["collectionGroup","readTime","prefixPath","documentId"],Fd=["canonicalId","targetId"],Vd=["targetId","path"],Ud=["path","targetId"],zd=["collectionId","parent"],jd=["indexId","uid"],Bd=["uid","sequenceNumber"],qd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wd=["indexId","uid","orderedDocumentKey"],Kd=["userId","collectionPath","documentId"],Hd=["userId","collectionPath","largestBatchId"],Gd=["userId","collectionGroup","largestBatchId"],Qd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zd=[...Qd,"documentOverlays"],Yd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$d=Yd,Xd=[...$d,"indexConfiguration","indexState","indexEntries"];class Jd extends cd{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function ef(e,t){const n=xh(e);return dd.M(n.ae,t)}function tf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class of{constructor(e,t){this.comparator=e,this.root=t||af.EMPTY}insert(e,t){return new of(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,af.BLACK,null,null))}remove(e){return new of(this.comparator,this.root.remove(e,this.comparator).copy(null,null,af.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class af{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:af.RED,this.left=null!=r?r:af.EMPTY,this.right=null!=i?i:af.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new af(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return af.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return af.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,af.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,af.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kh();if(this.right.isRed())throw kh();const e=this.left.check();if(e!==this.right.check())throw kh();return e+(this.isRed()?0:1)}}af.EMPTY=null,af.RED=!0,af.BLACK=!1,af.EMPTY=new class{constructor(){this.size=0}get key(){throw kh()}get value(){throw kh()}get color(){throw kh()}get left(){throw kh()}get right(){throw kh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new af(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cf{constructor(e){this.comparator=e,this.data=new of(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lf(this.data.getIterator())}getIteratorFrom(e){return new lf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof cf))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new cf(this.comparator);return t.data=e,t}}class lf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uf(e){return e.hasNext()?e.getNext():void 0}class hf{constructor(e){this.fields=e,e.sort(Yh.comparator)}static empty(){return new hf([])}unionWith(e){let t=new cf(Yh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new hf(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class df extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ff{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new df("Invalid base64 string: "+e):e}}(e);return new ff(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ff(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ff.EMPTY_BYTE_STRING=new ff("");const pf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mf(e){if(Ch(!!e),"string"==typeof e){let t=0;const n=pf.exec(e);if(Ch(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gf(e.seconds),nanos:gf(e.nanos)}}function gf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yf(e){return"string"==typeof e?ff.fromBase64String(e):ff.fromUint8Array(e)}function vf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wf(e){const t=e.mapValue.fields.__previous_value__;return vf(t)?wf(t):t}function bf(e){const t=mf(e.mapValue.fields.__local_write_time__.timestampValue);return new Kh(t.seconds,t.nanos)}class _f{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class Tf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tf&&e.projectId===this.projectId&&e.database===this.database}}const Ef={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},If={nullValue:"NULL_VALUE"};function Sf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vf(e)?4:Uf(e)?9007199254740991:10:kh()}function kf(e,t){if(e===t)return!0;const n=Sf(e);if(n!==Sf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bf(e).isEqual(bf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=mf(e.timestampValue),r=mf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yf(e.bytesValue).isEqual(yf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gf(e.geoPointValue.latitude)===gf(t.geoPointValue.latitude)&&gf(e.geoPointValue.longitude)===gf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gf(e.integerValue)===gf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gf(e.doubleValue),r=gf(t.doubleValue);return n===r?Id(n)===Id(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qh(e.arrayValue.values||[],t.arrayValue.values||[],kf);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tf(n)!==tf(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kf(n[i],r[i])))return!1;return!0}(e,t);default:return kh()}}function Cf(e,t){return void 0!==(e.values||[]).find((e=>kf(e,t)))}function xf(e,t){if(e===t)return 0;const n=Sf(e),r=Sf(t);if(n!==r)return Bh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gf(e.integerValue||e.doubleValue),r=gf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Af(e.timestampValue,t.timestampValue);case 4:return Af(bf(e),bf(t));case 5:return Bh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yf(e),r=yf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Bh(n[i],r[i]);if(0!==e)return e}return Bh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Bh(gf(e.latitude),gf(t.latitude));return 0!==n?n:Bh(gf(e.longitude),gf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=xf(n[i],r[i]);if(e)return e}return Bh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ef.mapValue&&t===Ef.mapValue)return 0;if(e===Ef.mapValue)return 1;if(t===Ef.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Bh(r[s],o[s]);if(0!==e)return e;const t=xf(n[r[s]],i[o[s]]);if(0!==t)return t}return Bh(r.length,o.length)}(e.mapValue,t.mapValue);default:throw kh()}}function Af(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bh(e,t);const n=mf(e),r=mf(t),i=Bh(n.seconds,r.seconds);return 0!==i?i:Bh(n.nanos,r.nanos)}function Nf(e){return Pf(e)}function Pf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=mf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return $h.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Pf(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Pf(e.fields[i]));return n+"}"}(e.mapValue):kh()}function Df(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Rf(e){return!!e&&"integerValue"in e}function Of(e){return!!e&&"arrayValue"in e}function Mf(e){return!!e&&"nullValue"in e}function Lf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ff(e){return!!e&&"mapValue"in e}function Vf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nf(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Vf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Uf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function zf(e){return"nullValue"in e?If:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Df(Tf.empty(),$h.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:kh()}function jf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Df(Tf.empty(),$h.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ef:kh()}function Bf(e,t){const n=xf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function qf(e,t){const n=xf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Wf{constructor(e){this.value=e}static empty(){return new Wf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(t)}setAll(e){let t=Yh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Vf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ff(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){nf(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Wf(Vf(this.value))}}function Kf(e){const t=[];return nf(e.fields,((e,n)=>{const r=new Yh([e]);if(Ff(n)){const e=Kf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new hf(t)}class Hf{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Hf(e,0,Hh.min(),Hh.min(),Hh.min(),Wf.empty(),0)}static newFoundDocument(e,t,n,r){return new Hf(e,1,t,Hh.min(),n,r,0)}static newNoDocument(e,t){return new Hf(e,2,t,Hh.min(),Hh.min(),Wf.empty(),0)}static newUnknownDocument(e,t){return new Hf(e,3,t,Hh.min(),Hh.min(),Wf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Hh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Gf{constructor(e,t){this.position=e,this.inclusive=t}}function Qf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?$h.comparator($h.fromName(s.referenceValue),n.key):xf(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Zf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kf(e.position[n],t.position[n]))return!1;return!0}class Yf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $f(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Xf{}class Jf extends Xf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new lp(e,t,n):"array-contains"===t?new fp(e,n):"in"===t?new pp(e,n):"not-in"===t?new mp(e,n):"array-contains-any"===t?new gp(e,n):new Jf(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new up(e,n):new hp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xf(t,this.value)):null!==t&&Sf(this.value)===Sf(t)&&this.matchesComparison(xf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ep extends Xf{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new ep(e,t)}matches(e){return tp(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function tp(e){return"and"===e.op}function np(e){return"or"===e.op}function rp(e){return ip(e)&&tp(e)}function ip(e){for(const t of e.filters)if(t instanceof ep)return!1;return!0}function op(e){if(e instanceof Jf)return e.field.canonicalString()+e.op.toString()+Nf(e.value);if(rp(e))return e.filters.map((e=>op(e))).join(",");{const t=e.filters.map((e=>op(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function sp(e,t){return e instanceof Jf?function(e,t){return t instanceof Jf&&e.op===t.op&&e.field.isEqual(t.field)&&kf(e.value,t.value)}(e,t):e instanceof ep?function(e,t){return t instanceof ep&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&sp(n,t.filters[r])),!0)}(e,t):void kh()}function ap(e,t){const n=e.filters.concat(t);return ep.create(n,e.op)}function cp(e){return e instanceof Jf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Nf(e.value))}(e):e instanceof ep?function(e){return e.op.toString()+" {"+e.getFilters().map(cp).join(" ,")+"}"}(e):"Filter"}class lp extends Jf{constructor(e,t,n){super(e,t,n),this.key=$h.fromName(n.referenceValue)}matches(e){const t=$h.comparator(e.key,this.key);return this.matchesComparison(t)}}class up extends Jf{constructor(e,t){super(e,"in",t),this.keys=dp("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hp extends Jf{constructor(e,t){super(e,"not-in",t),this.keys=dp("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>$h.fromName(e.referenceValue)))}class fp extends Jf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Of(t)&&Cf(t.arrayValue,this.value)}}class pp extends Jf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cf(this.value.arrayValue,t)}}class mp extends Jf{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cf(this.value.arrayValue,t)}}class gp extends Jf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Of(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cf(this.value.arrayValue,e)))}}class yp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function vp(e){return new yp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function wp(e){const t=xh(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>op(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ed(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Nf(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Nf(e))).join(",")),t.ce=e}return t.ce}function bp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$f(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zf(e.startAt,t.startAt)&&Zf(e.endAt,t.endAt)}function _p(e){return $h.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Tp(e,t){return e.filters.filter((e=>e instanceof Jf&&e.field.isEqual(t)))}function Ep(e,t,n){let r=If,i=!0;for(const o of Tp(e,t)){let e=If,t=!0;switch(o.op){case"<":case"<=":e=zf(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=If}Bf({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Bf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ip(e,t,n){let r=Ef,i=!0;for(const o of Tp(e,t)){let e=Ef,t=!0;switch(o.op){case">=":case">":e=jf(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Ef}qf({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];qf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Sp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kp(e,t,n,r,i,o,s,a){return new Sp(e,t,n,r,i,o,s,a)}function Cp(e){return new Sp(e)}function xp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ap(e){return null!==e.collectionGroup}function Np(e){const t=xh(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new cf(Yh.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Yf(r,n))})),e.has(Yh.keyField().canonicalString())||t.le.push(new Yf(Yh.keyField(),n))}return t.le}function Pp(e){const t=xh(e);return t.he||(t.he=Dp(t,Np(e))),t.he}function Dp(e,t){if("F"===e.limitType)return vp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Yf(e.field,t)}));const n=e.endAt?new Gf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gf(e.startAt.position,e.startAt.inclusive):null;return vp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Rp(e,t){const n=e.filters.concat([t]);return new Sp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Op(e,t,n){return new Sp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mp(e,t){return bp(Pp(e),Pp(t))&&e.limitType===t.limitType}function Lp(e){return"".concat(wp(Pp(e)),"|lt:").concat(e.limitType)}function Fp(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>cp(e))).join(", "),"]")),Ed(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Nf(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Nf(e))).join(",")),"Target(".concat(t,")")}(Pp(e)),"; limitType=").concat(e.limitType,")")}function Vp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$h.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Np(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Qf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Np(e),t))&&!(e.endAt&&!function(e,t,n){const r=Qf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Np(e),t))}(e,t)}function Up(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zp(e){return(t,n)=>{let r=!1;for(const i of Np(e)){const e=jp(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jp(e,t,n){const r=e.field.isKeyField()?$h.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xf(r,i):kh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return kh()}}class Bp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nf(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return rf(this.inner)}size(){return this.innerSize}}const qp=new of($h.comparator);function Wp(){return qp}const Kp=new of($h.comparator);function Hp(){let e=Kp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Gp(e){let t=Kp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Qp(){return Yp()}function Zp(){return Yp()}function Yp(){return new Bp((e=>e.toString()),((e,t)=>e.isEqual(t)))}const $p=new of($h.comparator),Xp=new cf($h.comparator);function Jp(){let e=Xp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const em=new cf(Bh);function tm(){return em}function nm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(t)?"-0":t}}function rm(e){return{integerValue:""+e}}function im(e,t){return Sd(t)?rm(t):nm(e,t)}class om{constructor(){this._=void 0}}function sm(e,t,n){return e instanceof lm?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vf(t)&&(t=wf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof um?hm(e,t):e instanceof dm?fm(e,t):function(e,t){const n=cm(e,t),r=mm(n)+mm(e.Ie);return Rf(n)&&Rf(e.Ie)?rm(r):nm(e.serializer,r)}(e,t)}function am(e,t,n){return e instanceof um?hm(e,t):e instanceof dm?fm(e,t):n}function cm(e,t){return e instanceof pm?function(e){return Rf(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class lm extends om{}class um extends om{constructor(e){super(),this.elements=e}}function hm(e,t){const n=gm(t);for(const r of e.elements)n.some((e=>kf(e,r)))||n.push(r);return{arrayValue:{values:n}}}class dm extends om{constructor(e){super(),this.elements=e}}function fm(e,t){let n=gm(t);for(const r of e.elements)n=n.filter((e=>!kf(e,r)));return{arrayValue:{values:n}}}class pm extends om{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function mm(e){return gf(e.integerValue||e.doubleValue)}function gm(e){return Of(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ym{constructor(e,t){this.field=e,this.transform=t}}class vm{constructor(e,t){this.version=e,this.transformResults=t}}class wm{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wm}static exists(e){return new wm(void 0,e)}static updateTime(e){return new wm(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class _m{}function Tm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dm(e.key,wm.none()):new Cm(e.key,e.data,wm.none());{const n=e.data,r=Wf.empty();let i=new cf(Yh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new xm(e.key,r,new hf(i.toArray()),wm.none())}}function Em(e,t,n){e instanceof Cm?function(e,t,n){const r=e.value.clone(),i=Nm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xm?function(e,t,n){if(!bm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Nm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Am(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Im(e,t,n,r){return e instanceof Cm?function(e,t,n,r){if(!bm(e.precondition,t))return n;const i=e.value.clone(),o=Pm(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xm?function(e,t,n,r){if(!bm(e.precondition,t))return n;const i=Pm(e.fieldTransforms,r,t),o=t.data;return o.setAll(Am(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return bm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Sm(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=cm(r.transform,e||null);null!=i&&(null===n&&(n=Wf.empty()),n.set(r.field,i))}return n||null}function km(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof um&&t instanceof um||e instanceof dm&&t instanceof dm?qh(e.elements,t.elements,kf):e instanceof pm&&t instanceof pm?kf(e.Ie,t.Ie):e instanceof lm&&t instanceof lm}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cm extends _m{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xm extends _m{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Am(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Nm(e,t,n){const r=new Map;Ch(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,am(s,a,n[i]))}return r}function Pm(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,sm(e,o,t))}return r}class Dm extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rm extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Om{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Em(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Im(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Im(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Zp();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Tm(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Hh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Jp())}isEqual(e){return this.batchId===e.batchId&&qh(this.mutations,e.mutations,((e,t)=>km(e,t)))&&qh(this.baseMutations,e.baseMutations,((e,t)=>km(e,t)))}}class Mm{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ch(e.mutations.length===n.length);let r=$p;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Mm(e,t,n,r)}}class Lm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Fm{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vm,Um;function zm(e){switch(e){default:return kh();case Ah.CANCELLED:case Ah.UNKNOWN:case Ah.DEADLINE_EXCEEDED:case Ah.RESOURCE_EXHAUSTED:case Ah.INTERNAL:case Ah.UNAVAILABLE:case Ah.UNAUTHENTICATED:return!1;case Ah.INVALID_ARGUMENT:case Ah.NOT_FOUND:case Ah.ALREADY_EXISTS:case Ah.PERMISSION_DENIED:case Ah.FAILED_PRECONDITION:case Ah.ABORTED:case Ah.OUT_OF_RANGE:case Ah.UNIMPLEMENTED:case Ah.DATA_LOSS:return!0}}function jm(e){if(void 0===e)return Eh("GRPC error has no .code"),Ah.UNKNOWN;switch(e){case Vm.OK:return Ah.OK;case Vm.CANCELLED:return Ah.CANCELLED;case Vm.UNKNOWN:return Ah.UNKNOWN;case Vm.DEADLINE_EXCEEDED:return Ah.DEADLINE_EXCEEDED;case Vm.RESOURCE_EXHAUSTED:return Ah.RESOURCE_EXHAUSTED;case Vm.INTERNAL:return Ah.INTERNAL;case Vm.UNAVAILABLE:return Ah.UNAVAILABLE;case Vm.UNAUTHENTICATED:return Ah.UNAUTHENTICATED;case Vm.INVALID_ARGUMENT:return Ah.INVALID_ARGUMENT;case Vm.NOT_FOUND:return Ah.NOT_FOUND;case Vm.ALREADY_EXISTS:return Ah.ALREADY_EXISTS;case Vm.PERMISSION_DENIED:return Ah.PERMISSION_DENIED;case Vm.FAILED_PRECONDITION:return Ah.FAILED_PRECONDITION;case Vm.ABORTED:return Ah.ABORTED;case Vm.OUT_OF_RANGE:return Ah.OUT_OF_RANGE;case Vm.UNIMPLEMENTED:return Ah.UNIMPLEMENTED;case Vm.DATA_LOSS:return Ah.DATA_LOSS;default:return kh()}}(Um=Vm||(Vm={}))[Um.OK=0]="OK",Um[Um.CANCELLED=1]="CANCELLED",Um[Um.UNKNOWN=2]="UNKNOWN",Um[Um.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Um[Um.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Um[Um.NOT_FOUND=5]="NOT_FOUND",Um[Um.ALREADY_EXISTS=6]="ALREADY_EXISTS",Um[Um.PERMISSION_DENIED=7]="PERMISSION_DENIED",Um[Um.UNAUTHENTICATED=16]="UNAUTHENTICATED",Um[Um.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Um[Um.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Um[Um.ABORTED=10]="ABORTED",Um[Um.OUT_OF_RANGE=11]="OUT_OF_RANGE",Um[Um.UNIMPLEMENTED=12]="UNIMPLEMENTED",Um[Um.INTERNAL=13]="INTERNAL",Um[Um.UNAVAILABLE=14]="UNAVAILABLE",Um[Um.DATA_LOSS=15]="DATA_LOSS";let Bm=null;function qm(){return new TextEncoder}const Wm=new gh([4294967295,4294967295],0);function Km(e){const t=qm().encode(e),n=new mh;return n.update(t),new Uint8Array(n.digest())}function Hm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new gh([n,r],0),new gh([i,o],0)]}class Gm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Qm("Invalid padding: ".concat(t));if(n<0)throw new Qm("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Qm("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Qm("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=gh.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(gh.fromNumber(n)));return 1===r.compare(Wm)&&(r=new gh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Km(e),[n,r]=Hm(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gm(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Km(e),[n,r]=Hm(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Qm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ym.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Zm(Hh.min(),r,new of(Bh),Wp(),Jp())}}class Ym{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ym(n,t,Jp(),Jp(),Jp())}}class $m{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Xm{constructor(e,t){this.targetId=e,this.fe=t}}class Jm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ff.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class eg{constructor(){this.ge=0,this.pe=rg(),this.ye=ff.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Jp(),t=Jp(),n=Jp();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:kh()}})),new Ym(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=rg()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ch(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class tg{constructor(e){this.Le=e,this.ke=new Map,this.qe=Wp(),this.Qe=ng(),this.Ke=new of(Bh)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:kh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(_p(i))if(0===n){const e=new $h(i.path);this.We(t,e,Hf.newNoDocument(e,Hh.min()))}else Ch(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Bm||Bm.tt(function(e,t,n,r,i){var o,s,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=yf(n).toUint8Array()}catch(e){if(e instanceof df)return Ih("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Gm(o,r,i)}catch(e){return Ih(e instanceof Qm?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&_p(i.target)){const t=new $h(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Hf.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Jp();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Zm(e,t,this.Ke,this.qe,n);return this.qe=Wp(),this.Qe=ng(),this.Ke=new of(Bh),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new eg,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new cf(Bh),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Th("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new eg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ng(){return new of($h.comparator)}function rg(){return new of($h.comparator)}const ig={asc:"ASCENDING",desc:"DESCENDING"},og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sg={and:"AND",or:"OR"};class ag{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cg(e,t){return e.useProto3Json||Ed(t)?t:{value:t}}function lg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ug(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hg(e,t){return lg(e,t.toTimestamp())}function dg(e){return Ch(!!e),Hh.fromTimestamp(function(e){const t=mf(e);return new Kh(t.seconds,t.nanos)}(e))}function fg(e,t){return function(e){return new Qh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function pg(e){const t=Qh.fromString(e);return Ch(Lg(t)),t}function mg(e,t){return fg(e.databaseId,t.path)}function gg(e,t){const n=pg(t);if(n.get(1)!==e.databaseId.projectId)throw new Nh(Ah.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nh(Ah.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $h(bg(n))}function yg(e,t){return fg(e.databaseId,t)}function vg(e){const t=pg(e);return 4===t.length?Qh.emptyPath():bg(t)}function wg(e){return new Qh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bg(e){return Ch(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _g(e,t,n){return{name:mg(e,t),fields:n.value.mapValue.fields}}function Tg(e,t,n){const r=gg(e,t.name),i=dg(t.updateTime),o=t.createTime?dg(t.createTime):Hh.min(),s=new Wf({mapValue:{fields:t.fields}}),a=Hf.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Eg(e,t){let n;if(t instanceof Cm)n={update:_g(e,t.key,t.value)};else if(t instanceof Dm)n={delete:mg(e,t.key)};else if(t instanceof xm)n={update:_g(e,t.key,t.data),updateMask:Mg(t.fieldMask)};else{if(!(t instanceof Rm))return kh();n={verify:mg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof lm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof um)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pm)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw kh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:kh()}(e,t.precondition)),n}function Ig(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?wm.updateTime(dg(e.updateTime)):void 0!==e.exists?wm.exists(e.exists):wm.none()}(t.currentDocument):wm.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Ch("REQUEST_TIME"===t.setToServerValue),n=new lm;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new um(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new dm(e)}else"increment"in t?n=new pm(e,t.increment):kh();const r=Yh.fromServerFormat(t.fieldPath);return new ym(r,n)}(e,t))):[];if(t.update){t.update.name;const i=gg(e,t.update.name),o=new Wf({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new hf(t.map((e=>Yh.fromServerFormat(e))))}(t.updateMask);return new xm(i,o,e,n,r)}return new Cm(i,o,n,r)}if(t.delete){const r=gg(e,t.delete);return new Dm(r,n)}if(t.verify){const r=gg(e,t.verify);return new Rm(r,n)}return kh()}function Sg(e,t){return{documents:[yg(e,t.path)]}}function kg(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Og(ep.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Dg(e.field),direction:Ag(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=cg(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Cg(e){let t=vg(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ch(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=xg(e);return t instanceof ep&&rp(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Yf(Rg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ed(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Gf(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Gf(n,t)}(n.endAt)),kp(t,i,s,o,a,"F",c,l)}function xg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rg(e.unaryFilter.field);return Jf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rg(e.unaryFilter.field);return Jf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rg(e.unaryFilter.field);return Jf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rg(e.unaryFilter.field);return Jf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return kh()}}(e):void 0!==e.fieldFilter?function(e){return Jf.create(Rg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ep.create(e.compositeFilter.filters.map((e=>xg(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return kh()}}(e.compositeFilter.op))}(e):kh()}function Ag(e){return ig[e]}function Ng(e){return og[e]}function Pg(e){return sg[e]}function Dg(e){return{fieldPath:e.canonicalString()}}function Rg(e){return Yh.fromServerFormat(e.fieldPath)}function Og(e){return e instanceof Jf?function(e){if("=="===e.op){if(Lf(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NAN"}};if(Mf(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lf(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NOT_NAN"}};if(Mf(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dg(e.field),op:Ng(e.op),value:e.value}}}(e):e instanceof ep?function(e){const t=e.getFilters().map((e=>Og(e)));return 1===t.length?t[0]:{compositeFilter:{op:Pg(e.op),filters:t}}}(e):kh()}function Mg(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Lg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Fg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hh.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ff.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Fg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Vg{constructor(e){this.ut=e}}function Ug(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:lg(e,t.version.toTimestamp()),createTime:lg(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jg(t.version)};else{if(!t.isUnknownDocument())return kh();r.unknownDocument={path:n.path.toArray(),version:jg(t.version)}}return r}function zg(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jg(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bg(e){const t=new Kh(e.seconds,e.nanoseconds);return Hh.fromTimestamp(t)}function qg(e,t){const n=(t.baseMutations||[]).map((t=>Ig(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Ig(e.ut,t))),i=Kh.fromMillis(t.localWriteTimeMs);return new Om(t.batchId,i,n,r)}function Wg(e){const t=Bg(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Bg(e.lastLimboFreeSnapshotVersion):Hh.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Ch(1===e.documents.length),Pp(Cp(vg(e.documents[0])))}(e.query):function(e){return Pp(Cg(e))}(e.query),new Fg(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ff.fromBase64String(e.resumeToken))}function Kg(e,t){const n=jg(t.snapshotVersion),r=jg(t.lastLimboFreeSnapshotVersion);let i;i=_p(t.target)?Sg(e.ut,t.target):kg(e.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wp(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Hg(e){const t=Cg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Op(t,t.limit,"L"):t}function Gg(e,t){return new Lm(t.largestBatchId,Ig(e.ut,t.overlayMutation))}function Qg(e,t){const n=t.path.lastSegment();return[e,kd(t.path.popLast()),n]}function Zg(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jg(r.readTime),documentKey:kd(r.documentKey.path),largestBatchId:r.largestBatchId}}class Yg{getBundleMetadata(e,t){return $g(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Bg(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return $g(e).put(function(e){return{bundleId:e.id,createTime:jg(dg(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Xg(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Hg(e.bundledQuery),readTime:Bg(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Xg(e).put(function(e){return{name:e.name,readTime:jg(dg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function $g(e){return ef(e,"bundles")}function Xg(e){return ef(e,"namedQueries")}class Jg{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new Jg(e,n)}getOverlay(e,t){return ey(e).get(Qg(this.userId,t)).next((e=>e?Gg(this.serializer,e):null))}getOverlays(e,t){const n=Qp();return ud.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Lm(t,i);r.push(this.lt(e,o))})),ud.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(kd(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ey(e).H("collectionPathOverlayIndex",r))})),ud.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Qp(),i=kd(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ey(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Gg(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Qp();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ey(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=Gg(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return ey(e).put(function(e,t,n){const[r,i,o]=Qg(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Eg(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function ey(e){return ef(e,"documentOverlays")}class ty{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(gf(e.integerValue));else if("doubleValue"in e){const n=gf(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Id(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(yf(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Uf(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):kh()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),$h.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function ny(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ry(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=ny(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ty.St=new ty;class iy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=ry(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=ry(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class oy{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class sy{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class ay{constructor(){this.Wt=new iy,this.Gt=new oy(this.Wt),this.zt=new sy(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class cy{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new cy(this.indexId,this.documentKey,this.arrayValue,n)}}function ly(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=uy(e.arrayValue,t.arrayValue),0!==n?n:(n=uy(e.directionalValue,t.directionalValue),0!==n?n:$h.comparator(e.documentKey,t.documentKey)))}function uy(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class hy{constructor(e){this.Jt=new cf(((e,t)=>Yh.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(Ch(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Jh(e);if(void 0!==t&&!this.tn(t))return!1;const n=ed(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new cf(Yh.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new td(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new td(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new td(n.field,"asc"===n.dir?0:1)));return new Xh(Xh.UNKNOWN_ID,this.collectionId,t,nd.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function dy(e){var t,n;if(Ch(e instanceof Jf||e instanceof ep),e instanceof Jf){if(e instanceof pp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Jf.create(e.field,"==",t))))||[];return ep.create(r,"or")}return e}const r=e.filters.map((e=>dy(e)));return ep.create(r,e.op)}function fy(e){if(0===e.getFilters().length)return[];const t=yy(dy(e));return Ch(gy(t)),py(t)||my(t)?[t]:t.getFilters()}function py(e){return e instanceof Jf}function my(e){return e instanceof ep&&rp(e)}function gy(e){return py(e)||my(e)||function(e){if(e instanceof ep&&np(e)){for(const t of e.getFilters())if(!py(t)&&!my(t))return!1;return!0}return!1}(e)}function yy(e){if(Ch(e instanceof Jf||e instanceof ep),e instanceof Jf)return e;if(1===e.filters.length)return yy(e.filters[0]);const t=e.filters.map((e=>yy(e)));let n=ep.create(t,e.op);return n=by(n),gy(n)?n:(Ch(n instanceof ep),Ch(tp(n)),Ch(n.filters.length>1),n.filters.reduce(((e,t)=>vy(e,t))))}function vy(e,t){let n;return Ch(e instanceof Jf||e instanceof ep),Ch(t instanceof Jf||t instanceof ep),n=e instanceof Jf?t instanceof Jf?function(e,t){return ep.create([e,t],"and")}(e,t):wy(e,t):t instanceof Jf?wy(t,e):function(e,t){if(Ch(e.filters.length>0&&t.filters.length>0),tp(e)&&tp(t))return ap(e,t.getFilters());const n=np(e)?e:t,r=np(e)?t:e,i=n.filters.map((e=>vy(e,r)));return ep.create(i,"or")}(e,t),by(n)}function wy(e,t){if(tp(t))return ap(t,e.getFilters());{const n=t.filters.map((t=>vy(e,t)));return ep.create(n,"or")}}function by(e){if(Ch(e instanceof Jf||e instanceof ep),e instanceof Jf)return e;const t=e.getFilters();if(1===t.length)return by(t[0]);if(ip(e))return e;const n=t.map((e=>by(e))),r=[];return n.forEach((t=>{t instanceof Jf?r.push(t):t instanceof ep&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:ep.create(r,e.op)}class _y{constructor(){this.on=new Ty}addToCollectionParentIndex(e,t){return this.on.add(t),ud.resolve()}getCollectionParents(e,t){return ud.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return ud.resolve()}deleteFieldIndex(e,t){return ud.resolve()}deleteAllFieldIndexes(e){return ud.resolve()}createTargetIndexes(e,t){return ud.resolve()}getDocumentsMatchingTarget(e,t){return ud.resolve(null)}getIndexType(e,t){return ud.resolve(0)}getFieldIndexes(e,t){return ud.resolve([])}getNextCollectionGroupToUpdate(e){return ud.resolve(null)}getMinOffset(e,t){return ud.resolve(od.min())}getMinOffsetFromCollectionGroup(e,t){return ud.resolve(od.min())}updateCollectionGroup(e,t,n){return ud.resolve()}updateIndexEntries(e,t){return ud.resolve()}}class Ty{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cf(Qh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cf(Qh.comparator)).toArray()}}const Ey=new Uint8Array(0);class Iy{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Ty,this.an=new Bp((e=>wp(e)),((e,t)=>bp(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:kd(r)};return Sy(e).put(i)}return ud.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Wh(t),""],!1,!0);return Sy(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ad(r.parent))}return n}))}addFieldIndex(e,t){const n=Cy(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=xy(e);return i.next((e=>{n.put(Zg(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Cy(e),r=xy(e),i=ky(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Cy(e),n=ky(e),r=xy(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return ud.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new hy(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=ky(e);let r=!0;const i=new Map;return ud.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Jp();const r=[];return ud.forEach(i,((i,o)=>{Th("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(wp(t)));const s=function(e,t){const n=Jh(t);if(void 0===n)return null;for(const r of Tp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of ed(t))for(const t of Tp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of ed(t)){const t=0===i.kind?Ep(e,i.fieldPath,e.startAt):Ip(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Gf(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of ed(t)){const t=0===i.kind?Ip(e,i.fieldPath,e.endAt):Ep(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Gf(n,r)}(o,i),u=this.ln(i,o,c),h=this.ln(i,o,l),d=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,c.inclusive,h,l.inclusive,d);return ud.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=$h.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return ud.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:fy(ep.create(e.filters,"and")).map((t=>vp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/c]):Ey,h=this.Tn(e,a,n[u%c],r),d=this.En(e,a,i[u%c],o),f=s.map((t=>this.Tn(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}Tn(e,t,n,r){const i=new cy(e,$h.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new cy(e,$h.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new hy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return ud.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new cf(Yh.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new ay;for(const r of ed(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);ty.St.ht(e,i)}return n.Ut()}In(e){const t=new ay;return ty.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new ay;return ty.St.ht(Df(this.databaseId,t),n.jt(function(e){const t=ed(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new ay);let i=0;for(const o of ed(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&Of(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);ty.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new ay;n.seed(e.Ut()),ty.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof Jf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Cy(e),r=xy(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return ud.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new nd(t.sequenceNumber,new od(Bg(t.readTime),new $h(Ad(t.documentKey)),t.largestBatchId)):nd.empty(),r=e.fields.map((e=>{let[t,n]=e;return new td(Yh.fromServerFormat(t),n)}));return new Xh(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Cy(e),i=xy(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ud.forEach(t,(t=>i.put(Zg(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ud.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?ud.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ud.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?ud.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return ky(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return ky(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=ky(e);let i=new cf(ly);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new cy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new cf(ly);const r=this.dn(t,e);if(null==r)return n;const i=Jh(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Of(o))for(const i of o.arrayValue.values||[])n=n.add(new cy(t.indexId,e.key,this.In(i),r))}else n=n.add(new cy(t.indexId,e.key,Ey,r));return n}yn(e,t,n,r,i){Th("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=uf(o),c=uf(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=uf(s)):t?(i(a),a=uf(o)):(a=uf(o),c=uf(s))}}(r,i,ly,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),ud.waitFor(o)}fn(e){let t=1;return xy(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>ly(e,t))).filter(((e,t,n)=>!t||0!==ly(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=ly(o,e),i=ly(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Ey,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Ey,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return ly(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ay)}getMinOffset(e,t){return ud.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||kh())))).next(Ay)}}function Sy(e){return ef(e,"collectionParents")}function ky(e){return ef(e,"indexEntries")}function Cy(e){return ef(e,"indexConfiguration")}function xy(e){return ef(e,"indexState")}function Ay(e){Ch(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;sd(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new od(t.readTime,t.documentKey,n)}const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Py{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Py(e,Py.DEFAULT_COLLECTION_PERCENTILE,Py.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dy(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(c.next((()=>{Ch(1===a)})));const l=[];for(const u of n.mutations){const e=Dd(t,u.key.path,n.batchId);o.push(i.delete(e)),l.push(u.key)}return ud.waitFor(o).next((()=>l))}function Ry(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw kh();t=e.noDocument}return JSON.stringify(t).length}Py.DEFAULT_COLLECTION_PERCENTILE=10,Py.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Py.DEFAULT=new Py(41943040,Py.DEFAULT_COLLECTION_PERCENTILE,Py.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Py.DISABLED=new Py(-1,0,0);class Oy{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){Ch(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Oy(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ly(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Fy(e),o=Ly(e);return o.add({}).next((s=>{Ch("number"==typeof s);const a=new Om(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Eg(e.ut,t))),i=n.mutations.map((t=>Eg(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new cf(((e,t)=>Bh(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Dd(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,Rd))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),ud.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return Ly(e).get(t).next((e=>e?(Ch(e.userId===this.userId),qg(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?ud.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Ly(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Ch(t.batchId>=n),i=qg(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Ly(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ly(e).W("userMutationsIndex",t).next((e=>e.map((e=>qg(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Pd(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Fy(e).Y({range:r},((n,r,o)=>{const[s,a,c]=n,l=Ad(a);if(s===this.userId&&t.path.isEqual(l))return Ly(e).get(c).next((e=>{if(!e)throw kh();Ch(e.userId===this.userId),i.push(qg(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cf(Bh);const r=[];return t.forEach((t=>{const i=Pd(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Fy(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,c=Ad(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),ud.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Pd(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new cf(Bh);return Fy(e).Y({range:o},((e,t,i)=>{const[o,a,c]=e,l=Ad(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Ly(e).get(t).next((e=>{if(null===e)throw kh();Ch(e.userId===this.userId),n.push(qg(this.serializer,e))})))})),ud.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Dy(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),ud.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ud.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Fy(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ad(e[1]);r.push(t)}else n.done()})).next((()=>{Ch(0===r.length)}))}))}containsKey(e,t){return My(e,this.userId,t)}Mn(e){return Vy(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function My(e,t,n){const r=Pd(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Fy(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Ly(e){return ef(e,"mutations")}function Fy(e){return ef(e,"documentMutations")}function Vy(e){return ef(e,"mutationQueues")}class Uy{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Uy(0)}static Nn(){return new Uy(-1)}}class zy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Uy(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Hh.fromTimestamp(new Kh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>jy(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Ch(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return jy(e).Y(((o,s)=>{const a=Wg(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>ud.waitFor(i))).next((()=>r))}forEachTarget(e,t){return jy(e).Y(((e,n)=>{const r=Wg(n);t(r)}))}Bn(e){return By(e).get("targetGlobalKey").next((e=>(Ch(null!==e),e)))}Ln(e,t){return By(e).put("targetGlobalKey",t)}kn(e,t){return jy(e).put(Kg(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=wp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return jy(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Wg(n);bp(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=qy(e);return t.forEach((t=>{const o=kd(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),ud.waitFor(r)}removeMatchingKeys(e,t,n){const r=qy(e);return ud.forEach(t,(t=>{const i=kd(t.path);return ud.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=qy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qy(e);let i=Jp();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Ad(e[1]),o=new $h(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=kd(t.path),r=IDBKeyRange.bound([n],[Wh(n)],!1,!0);let i=0;return qy(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return jy(e).get(t).next((e=>e?Wg(e):null))}}function jy(e){return ef(e,"targets")}function By(e){return ef(e,"targetGlobal")}function qy(e){return ef(e,"targetDocuments")}function Wy(e,t){let[n,r]=e,[i,o]=t;const s=Bh(n,i);return 0===s?Bh(r,o):s}class Ky{constructor(e){this.Qn=e,this.buffer=new cf(Wy),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Wy(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hy{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Th("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){md(e)?Th("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ld(e)}await this.Gn(3e5)}))}}class Gy{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ud.resolve(Td._e);const n=new Ky(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Th("LruGarbageCollector","Garbage collection skipped; disabled"),ud.resolve(Ny)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Th("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ny):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Th("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),_h()<=Ve.DEBUG&&Th("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),ud.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Qy(e,t){return new Gy(e,t)}class Zy{constructor(e,t){this.db=e,this.garbageCollector=Qy(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return Yy(e,n)}removeReference(e,t,n){return Yy(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Yy(e,t)}Xn(e,t){return function(e,t){let n=!1;return Vy(e).Z((r=>My(e,r,t).next((e=>(e&&(n=!0),ud.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Hh.min()),qy(e).delete(function(e){return[0,kd(e.path)]}(o)))))}));r.push(t)}})).next((()=>ud.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Yy(e,t)}Zn(e,t){const n=qy(e);let r,i=Td._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:c}=n;0===o?(i!==Td._e&&t(new $h(Ad(r)),i),i=c,r=a):i=Td._e})).next((()=>{i!==Td._e&&t(new $h(Ad(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yy(e,t){return qy(e).put(function(e,t){return{targetId:0,path:kd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class $y{constructor(){this.changes=new Bp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ud.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return nv(e).put(n)}removeEntry(e,t,n){return nv(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],zg(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=Hf.newInvalidDocument(t);return nv(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(rv(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:Hf.newInvalidDocument(t)};return nv(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(rv(t))},((e,r)=>{n={document:this.tr(t,r),size:Ry(r)}})).next((()=>n))}getEntries(e,t){let n=Wp();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=Wp(),r=new of($h.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,Ry(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return ud.resolve();let r=new cf(ov);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(rv(r.first()),rv(r.last())),o=r.getIterator();let s=o.getNext();return nv(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=$h.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&ov(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(rv(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),zg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nv(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Wp();for(const i of e){const e=this.tr($h.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Vp(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Wp();const o=iv(t,n),s=iv(t,od.max());return nv(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr($h.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ev(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return tv(e).get("remoteDocumentGlobalKey").next((e=>(Ch(!!e),e)))}er(e,t){return tv(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Tg(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=$h.fromSegments(t.noDocument.path),r=Bg(t.noDocument.readTime);n=Hf.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return kh();{const e=$h.fromSegments(t.unknownDocument.path),r=Bg(t.unknownDocument.version);n=Hf.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Kh(e[0],e[1]);return Hh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Hh.min()))return e}return Hf.newInvalidDocument(e)}}function Jy(e){return new Xy(e)}class ev extends $y{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Bp((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new cf(((e,t)=>Bh(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Ug(this._r.serializer,o);r=r.add(i.path.popLast());const c=Ry(a);n+=c-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Ug(this._r.serializer,o.convertToNoDocument(Hh.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),ud.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function tv(e){return ef(e,"remoteDocumentGlobal")}function nv(e){return ef(e,"remoteDocumentsV14")}function rv(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function iv(e,t){const n=t.documentKey.path.toArray();return[e,zg(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ov(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Bh(n[o],r[o]),i)return i;return i=Bh(n.length,r.length),i||(i=Bh(n[n.length-2],r[r.length-2]),i||Bh(n[n.length-1],r[r.length-1]))}class sv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class av{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Im(n.mutation,e,hf.empty(),Kh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Jp()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jp();const r=Qp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Hp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Qp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Jp())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Wp();const o=Yp(),s=Yp();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof xm)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Im(s.mutation,t,s.mutation.getFieldMask(),Kh.now())):o.set(t.key,hf.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new sv(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Yp();let r=new of(((e,t)=>e-t)),i=Jp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||hf.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Jp()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=Zp();c.forEach((e=>{if(!i.has(e)){const r=Tm(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return ud.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return $h.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ap(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ud.resolve(Qp());let s=-1,a=i;return o.next((t=>ud.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ud.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Jp()))).next((e=>({batchId:s,changes:Gp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $h(t)).next((e=>{let t=Hp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Hp();return this.indexManager.getCollectionParents(e,i).next((s=>ud.forEach(s,(s=>{const a=function(e,t){return new Sp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Hf.newInvalidDocument(r)))}));let n=Hp();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Im(o.mutation,r,hf.empty(),Kh.now()),Vp(t,r)&&(n=n.insert(e,r))})),n}))}}class cv{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return ud.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:dg(e.createTime)}}(t)),ud.resolve()}getNamedQuery(e,t){return ud.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Hg(e.bundledQuery),readTime:dg(e.readTime)}}(t)),ud.resolve()}}class lv{constructor(){this.overlays=new of($h.comparator),this.lr=new Map}getOverlay(e,t){return ud.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qp();return ud.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),ud.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),ud.resolve()}getOverlaysForCollection(e,t,n){const r=Qp(),i=t.length+1,o=new $h(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ud.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new of(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Qp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Qp(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return ud.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Lm(t,n));let i=this.lr.get(t);void 0===i&&(i=Jp(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class uv{constructor(){this.hr=new cf(hv.Pr),this.Ir=new cf(hv.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new hv(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new hv(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new $h(new Qh([])),n=new hv(t,e),r=new hv(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new $h(new Qh([])),n=new hv(t,e),r=new hv(t,e+1);let i=Jp();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new hv(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class hv{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return $h.comparator(e.key,t.key)||Bh(e.gr,t.gr)}static Tr(e,t){return Bh(e.gr,t.gr)||$h.comparator(e.key,t.key)}}class dv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new cf(hv.Pr)}checkEmpty(e){return ud.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Om(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new hv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ud.resolve(o)}lookupMutationBatch(e,t){return ud.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return ud.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ud.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return ud.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new hv(t,0),r=new hv(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),ud.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cf(Bh);return t.forEach((e=>{const t=new hv(e,0),r=new hv(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),ud.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;$h.isDocumentKey(i)||(i=i.child(""));const o=new hv(new $h(i),0);let s=new cf(Bh);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),ud.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ch(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return ud.forEach(t.mutations,(r=>{const i=new hv(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new hv(t,0),r=this.yr.firstAfterOrEqual(n);return ud.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ud.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fv{constructor(e){this.Cr=e,this.docs=new of($h.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ud.resolve(n?n.document.mutableCopy():Hf.newInvalidDocument(t))}getEntries(e,t){let n=Wp();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hf.newInvalidDocument(e))})),ud.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Wp();const o=t.path,s=new $h(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||sd(id(s),n)<=0||(r.has(s.key)||Vp(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return ud.resolve(i)}getAllFromCollectionGroup(e,t,n,r){kh()}vr(e,t){return ud.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new pv(this)}getSize(e){return ud.resolve(this.size)}}class pv extends $y{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),ud.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class mv{constructor(e){this.persistence=e,this.Fr=new Bp((e=>wp(e)),bp),this.lastRemoteSnapshotVersion=Hh.min(),this.highestTargetId=0,this.Mr=0,this.Or=new uv,this.targetCount=0,this.Nr=Uy.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),ud.resolve()}getLastRemoteSnapshotVersion(e){return ud.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ud.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ud.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),ud.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Uy(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,ud.resolve()}updateTargetData(e,t){return this.kn(t),ud.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,ud.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),ud.waitFor(i).next((()=>r))}getTargetCount(e){return ud.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return ud.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),ud.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ud.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),ud.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return ud.resolve(n)}containsKey(e,t){return ud.resolve(this.Or.containsKey(t))}}class gv{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Td(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new mv(this),this.indexManager=new _y,this.remoteDocumentCache=function(e){return new fv(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new Vg(t),this.Kr=new cv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new dv(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Th("MemoryPersistence","Starting transaction:",e);const r=new yv(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return ud.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class yv extends cd{constructor(e){super(),this.currentSequenceNumber=e}}class vv{constructor(e){this.persistence=e,this.Gr=new uv,this.zr=null}static jr(e){return new vv(e)}get Hr(){if(this.zr)return this.zr;throw kh()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),ud.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),ud.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),ud.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ud.forEach(this.Hr,(n=>{const r=$h.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Hh.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return ud.or([()=>ud.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class wv{constructor(e){this.serializer=e}N(e,t,n,r){const i=new hd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nd,{unique:!0}),e.createObjectStore("documentMutations")}(e),bv(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=ud.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),bv(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Hh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nd,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return ud.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Kd});t.createIndex("collectionPathOverlayIndex",Hd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Gd,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Od});t.createIndex("documentKeyIndex",Md),t.createIndex("collectionGroupIndex",Ld)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:jd}).createIndex("sequenceNumberIndex",Bd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:qd}).createIndex("documentKeyIndex",Wd,{unique:!1})}(e)))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Ry(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>ud.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>ud.forEach(n,(n=>{Ch(n.userId===t.userId);const r=qg(this.serializer,n);return Dy(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Qh(n),s=function(e){return[0,kd(e)]}(o);r.push(t.get(s).next((n=>n?ud.resolve():(n=>t.put({targetId:0,path:kd(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>ud.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:zd});const n=t.store("collectionParents"),r=new Ty,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:kd(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Qh(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=Ad(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Wg(n),i=Kg(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new $h(Qh.fromString(e.document.name).popFirst(5)):e.noDocument?$h.fromSegments(e.noDocument.path):e.unknownDocument?$h.fromSegments(e.unknownDocument.path):kh()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>ud.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=Jy(this.serializer),i=new gv(vv.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Jp();qg(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),ud.forEach(n,((e,n)=>{const o=new vh(n),s=Jg.ct(this.serializer,o),a=i.getIndexManager(o),c=Oy.ct(o,this.serializer,a,i.referenceDelegate);return new av(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Jd(t,Td._e),e).next()}))}))}}function bv(e){e.createObjectStore("targetDocuments",{keyPath:Vd}).createIndex("documentTargetsIndex",Ud,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fd,{unique:!0}),e.createObjectStore("targetGlobal")}const _v="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tv{constructor(e,t,n,r,i,o,s,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!Tv.D())throw new Nh(Ah.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zy(this,r),this.Ii=t+"main",this.serializer=new Vg(a),this.Ti=new dd(this.Ii,this.ai,new wv(this.serializer)),this.qr=new zy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Jy(this.serializer),this.Kr=new Yg,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Eh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nh(Ah.FAILED_PRECONDITION,_v);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Td(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Iv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(md(e))return Th("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Th("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Ev(e).get("owner").next((e=>ud.resolve(this.wi(e))))}Si(e){return Iv(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ef(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return ud.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?ud.resolve(!0):Ev(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Nh(Ah.FAILED_PRECONDITION,_v);return!1}}return!(!this.networkEnabled||!this.inForeground)||Iv(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Th("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Jd(e,Td._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Iv(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return Oy.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Iy(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Jg.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Th("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Xd:14===e?$d:13===e?Yd:12===e?Zd:11===e?Qd:void kh()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new Jd(r,this.Lr?this.Lr.next():Td._e),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw Eh("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Nh(Ah.FAILED_PRECONDITION,ad);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Li(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Li(e){return Ev(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Nh(Ah.FAILED_PRECONDITION,_v)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ev(e).put("owner",t)}static D(){return dd.D()}pi(e){const t=Ev(e);return t.get("owner").next((e=>this.wi(e)?(Th("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ud.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Eh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Th("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Eh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Eh("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Ev(e){return ef(e,"owner")}function Iv(e){return ef(e,"clientMetadata")}function Sv(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class kv{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Jp(),r=Jp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new kv(e,t.fromCache,n,r)}}class Cv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xv{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Cv;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(_h()<=Ve.DEBUG&&Th("QueryEngine","SDK will not create cache indexes for query:",Fp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ud.resolve()):(_h()<=Ve.DEBUG&&Th("QueryEngine","Query:",Fp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(_h()<=Ve.DEBUG&&Th("QueryEngine","The SDK decides to create cache indexes for query:",Fp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pp(t))):ud.resolve())}zi(e,t){if(xp(t))return ud.resolve(null);let n=Pp(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Op(t,null,"F"),n=Pp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Jp(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,Op(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return xp(t)||r.isEqual(Hh.min())?ud.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?ud.resolve(null):(_h()<=Ve.DEBUG&&Th("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fp(t)),this.Xi(e,o,t,rd(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new cf(zp(e));return t.forEach(((t,r)=>{Vp(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return _h()<=Ve.DEBUG&&Th("QueryEngine","Using full collection scan to execute query:",Fp(t)),this.Gi.getDocumentsMatchingQuery(e,t,od.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Av{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new of(Bh),this.ns=new Bp((e=>wp(e)),bp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new av(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Nv(e,t,n,r){return new Av(e,t,n,r)}async function Pv(e,t){const n=xh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Jp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Dv(e){const t=xh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Rv(e,t,n){let r=Jp(),i=Jp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Wp();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Hh.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Th("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function Ov(e,t){const n=xh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Mv(e,t){const n=xh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,ud.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new Fg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function Lv(e,t,n){const r=xh(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!md(e))throw e;Th("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Fv(e,t,n){const r=xh(e);let i=Hh.min(),o=Jp();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=xh(e),i=r.ns.get(n);return void 0!==i?ud.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Pp(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Hh.min(),n?o:Jp()))).next((e=>(zv(r,Up(t),e),{documents:e,ls:o})))))}function Vv(e,t){const n=xh(e),r=xh(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Uv(e,t){const n=xh(e),r=n.rs.get(t)||Hh.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,rd(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(zv(n,t,e),e)))}function zv(e,t,n){let r=e.rs.get(t)||Hh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function jv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jp();const r=await Mv(e,Pp(Hg(t.bundledQuery))),i=xh(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=dg(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(ff.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function Bv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function qv(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Wv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Kv{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Nh(r.error.code,r.error.message))),o?new Kv(e,t,r.state,i):(Eh("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hv{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Nh(n.error.code,n.error.message))),i?new Hv(e,n.state,r):(Eh("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=tm();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Sd(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Gv(e,i):(Eh("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Qv{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qv(t.clientId,t.onlineState):(Eh("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Zv{constructor(){this.activeTargetIds=tm()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yv{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new of(Bh),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=Bv(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Zv),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(Bv(this.persistenceKey,n));if(e){const t=Gv.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Wv(this.persistenceKey,e));if(n){const r=Hv.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wv(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Th("SharedClientState","READ",e,t),t}setItem(e,t){Th("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Th("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Th("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Eh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Td._e;if(null!=e)try{const n=JSON.parse(e);Ch("number"==typeof n),t=n}catch(e){Eh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Td._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new Kv(this.currentUser,e,t,n),i=qv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=qv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=Wv(this.persistenceKey,e),i=new Hv(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return Gv.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kv.Ts(new vh(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return Hv.Ts(r,t)}Ms(e){return Qv.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Th("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=tm();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class $v{constructor(){this.eo=new Zv,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Zv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xv{ro(e){}shutdown(){}}class Jv{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Th("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Th("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ew=null;function tw(){return null===ew?ew=268435456+Math.round(2147483648*Math.random()):ew++,"0x"+ew.toString(16)}const nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rw{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const iw="WebChannelConnection";class ow extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=tw(),s=this.So(e,t);Th("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,s,a,n).then((t=>(Th("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Ih("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=nw[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=tw();return new Promise(((o,s)=>{const a=new ph;a.setWithCredentials(!0),a.listenOnce(uh.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case lh.NO_ERROR:const t=a.getResponseJson();Th(iw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case lh.TIMEOUT:Th(iw,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Nh(Ah.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const n=a.getStatus();if(Th(iw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ah).indexOf(t)>=0?t:Ah.UNKNOWN}(t.status);s(new Nh(e,t.message))}else s(new Nh(Ah.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Nh(Ah.UNAVAILABLE,"Connection failed."));break;default:kh()}}finally{Th(iw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Th(iw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}vo(e,t,n){const r=tw(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ah(),s=ch(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Th(iw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=o.createWebChannel(l,a);let h=!1,d=!1;const f=new rw({co:t=>{d?Th(iw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Th(iw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Th(iw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,fh.EventType.OPEN,(()=>{d||Th(iw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,fh.EventType.CLOSE,(()=>{d||(d=!0,Th(iw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,fh.EventType.ERROR,(t=>{d||(d=!0,Ih(iw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Nh(Ah.UNAVAILABLE,"The operation could not be completed")))})),p(u,fh.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Ch(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Th(iw,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Vm[e];if(void 0!==t)return jm(t)}(t),i=s.message;void 0===n&&(n=Ah.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Ro(new Nh(n,i)),u.close()}else Th(iw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(s,hh.STAT_EVENT,(t=>{t.stat===dh.PROXY?Th(iw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===dh.NOPROXY&&Th(iw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function sw(){return"undefined"!=typeof window?window:null}function aw(){return"undefined"!=typeof document?document:null}function cw(e){return new ag(e,!0)}class lw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Th("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class uw{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new lw(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Ah.RESOURCE_EXHAUSTED?(Eh(t.toString()),Eh("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Ah.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new Nh(Ah.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Th("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Th("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hw extends uw{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:kh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ch(void 0===t||"string"==typeof t),ff.fromBase64String(t||"")):(Ch(void 0===t||t instanceof Uint8Array),ff.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ah.UNKNOWN:jm(e.code);return new Nh(t,e.message||"")}(s);n=new Jm(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gg(e,r.document.name),o=dg(r.document.updateTime),s=r.document.createTime?dg(r.document.createTime):Hh.min(),a=new Wf({mapValue:{fields:r.document.fields}}),c=Hf.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new $m(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gg(e,r.document),o=r.readTime?dg(r.readTime):Hh.min(),s=Hf.newNoDocument(i,o),a=r.removedTargetIds||[];n=new $m([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gg(e,r.document),o=r.removedTargetIds||[];n=new $m([],o,i,null)}else{if(!("filter"in t))return kh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Fm(r,i),s=e.targetId;n=new Xm(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Hh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Hh.min():t.readTime?dg(t.readTime):Hh.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=wg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=_p(r)?{documents:Sg(e,r)}:{query:kg(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ug(e,t.resumeToken);const r=cg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Hh.min())>0){n.readTime=lg(e,t.snapshotVersion.toTimestamp());const r=cg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=wg(this.serializer),t.removeTarget=e,this.e_(t)}}class dw extends uw{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ch(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(Ch(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?dg(e.updateTime):dg(t);return n.isEqual(Hh.min())&&(n=dg(t)),new vm(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=dg(e.commitTime);return this.listener.I_(n,t)}return Ch(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=wg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Eg(this.serializer,e)))};this.e_(t)}}class fw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Nh(Ah.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ah.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nh(Ah.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ah.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nh(Ah.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class pw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Eh(t),this.f_=!1):Th("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class mw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{Iw(this)&&(Th("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=xh(e);t.C_.add(4),await yw(t),t.M_.set("Unknown"),t.C_.delete(4),await gw(t)}(this))}))})),this.M_=new pw(n,r)}}async function gw(e){if(Iw(e))for(const t of e.v_)await t(!0)}async function yw(e){for(const t of e.v_)await t(!1)}function vw(e,t){const n=xh(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Ew(n)?Tw(n):Bw(n).Ho()&&bw(n,t))}function ww(e,t){const n=xh(e),r=Bw(n);n.D_.delete(t),r.Ho()&&_w(n,t),0===n.D_.size&&(r.Ho()?r.Zo():Iw(n)&&n.M_.set("Unknown"))}function bw(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Hh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bw(e).u_(t)}function _w(e,t){e.x_.Oe(t),Bw(e).c_(t)}function Tw(e){e.x_=new tg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Bw(e).start(),e.M_.g_()}function Ew(e){return Iw(e)&&!Bw(e).jo()&&e.D_.size>0}function Iw(e){return 0===xh(e).C_.size}function Sw(e){e.x_=void 0}async function kw(e){e.D_.forEach(((t,n)=>{bw(e,t)}))}async function Cw(e,t){Sw(e),Ew(e)?(e.M_.w_(t),Tw(e)):e.M_.set("Unknown")}async function xw(e,t,n){if(e.M_.set("Online"),t instanceof Jm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Th("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Aw(e,n)}else if(t instanceof $m?e.x_.$e(t):t instanceof Xm?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Hh.min()))try{const t=await Dv(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(ff.EMPTY_BYTE_STRING,r.snapshotVersion)),_w(e,t);const i=new Fg(r.target,t,n,r.sequenceNumber);bw(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Th("RemoteStore","Failed to raise snapshot:",t),await Aw(e,t)}}async function Aw(e,t,n){if(!md(t))throw t;e.C_.add(1),await yw(e),e.M_.set("Offline"),n||(n=()=>Dv(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Th("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await gw(e)}))}function Nw(e,t){return t().catch((n=>Aw(e,n,t)))}async function Pw(e){const t=xh(e),n=qw(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Dw(t);)try{const e=await Ov(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,Rw(t,e)}catch(e){await Aw(t,e)}Ow(t)&&Mw(t)}function Dw(e){return Iw(e)&&e.b_.length<10}function Rw(e,t){e.b_.push(t);const n=qw(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Ow(e){return Iw(e)&&!qw(e).jo()&&e.b_.length>0}function Mw(e){qw(e).start()}async function Lw(e){qw(e).E_()}async function Fw(e){const t=qw(e);for(const n of e.b_)t.P_(n.mutations)}async function Vw(e,t,n){const r=e.b_.shift(),i=Mm.from(r,t,n);await Nw(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Pw(e)}async function Uw(e,t){t&&qw(e).h_&&await async function(e,t){if(function(e){return zm(e)&&e!==Ah.ABORTED}(t.code)){const n=e.b_.shift();qw(e).Yo(),await Nw(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Pw(e)}}(e,t),Ow(e)&&Mw(e)}async function zw(e,t){const n=xh(e);n.asyncQueue.verifyOperationInProgress(),Th("RemoteStore","RemoteStore received new credentials");const r=Iw(n);n.C_.add(3),await yw(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await gw(n)}async function jw(e,t){const n=xh(e);t?(n.C_.delete(2),await gw(n)):t||(n.C_.add(2),await yw(n),n.M_.set("Unknown"))}function Bw(e){return e.O_||(e.O_=function(e,t,n){const r=xh(e);return r.A_(),new hw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:kw.bind(null,e),Io:Cw.bind(null,e),a_:xw.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Ew(e)?Tw(e):e.M_.set("Unknown")):(await e.O_.stop(),Sw(e))}))),e.O_}function qw(e){return e.N_||(e.N_=function(e,t,n){const r=xh(e);return r.A_(),new dw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Lw.bind(null,e),Io:Uw.bind(null,e),T_:Fw.bind(null,e),I_:Vw.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await Pw(e)):(await e.N_.stop(),e.b_.length>0&&(Th("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class Ww{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ph,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Ww(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nh(Ah.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kw(e,t){if(Eh("AsyncQueue","".concat(t,": ").concat(e)),md(e))return new Nh(Ah.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Hw{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$h.comparator(t.key,n.key):(e,t)=>$h.comparator(e.key,t.key),this.keyedMap=Hp(),this.sortedSet=new of(this.comparator)}static emptySet(e){return new Hw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hw))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Hw;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gw{constructor(){this.B_=new of($h.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):kh():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qw{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Qw(e,t,Hw.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Zw{constructor(){this.k_=void 0,this.listeners=[]}}class Yw{constructor(){this.queries=new Bp((e=>Lp(e)),Mp),this.onlineState="Unknown",this.q_=new Set}}async function $w(e,t){const n=xh(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Zw),i)try{o.k_=await n.onListen(r)}catch(e){const n=Kw(e,"Initialization of query '".concat(Fp(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&tb(n)}async function Xw(e,t){const n=xh(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Jw(e,t){const n=xh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&tb(n)}function eb(e,t,n){const r=xh(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function tb(e){e.q_.forEach((e=>{e.next()}))}class nb{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=Qw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class rb{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class ib{constructor(e){this.serializer=e}hs(e){return gg(this.serializer,e)}Ps(e){return e.metadata.exists?Tg(this.serializer,e.document,!1):Hf.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return dg(e)}}class ob{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sb(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=Qh.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new ib(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Jp()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=xh(e);let o=Jp(),s=Wp();for(const l of n){const e=t.hs(l.metadata.name);l.document&&(o=o.add(e));const n=t.Ps(l);n.setReadTime(t.Is(l.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=await Mv(i,function(e){return Pp(Cp(Qh.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Rv(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.qr.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new ib(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await jv(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function sb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ab{constructor(e){this.key=e}}class cb{constructor(e){this.key=e}}class lb{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Jp(),this.mutatedKeys=Jp(),this._a=zp(e),this.aa=new Hw(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new Gw,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Vp(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||c&&this._a(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:s,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kh()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const s=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Qw(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Gw,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Jp(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new cb(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new ab(n))})),t}da(e){this.ia=e.ls,this.oa=Jp();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Qw.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ub{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hb{constructor(e){this.key=e,this.Ra=!1}}class db{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Bp((e=>Lp(e)),Mp),this.fa=new Map,this.ga=new Set,this.pa=new of($h.comparator),this.ya=new Map,this.wa=new uv,this.Sa={},this.ba=new Map,this.Da=Uy.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function fb(e,t){const n=Ub(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await Mv(n.localStore,Pp(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await pb(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&vw(n.remoteStore,e)}return i}async function pb(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await Fv(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Sb(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const o=await Fv(e.localStore,t,!0),s=new lb(t,o.ls),a=s.ca(o.documents),c=Ym.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);Sb(e,n,l.Ta);const u=new ub(t,n,s);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function mb(e,t){const n=xh(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Mp(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lv(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),ww(n.remoteStore,r.targetId),Eb(n,r.targetId)})).catch(ld)):(Eb(n,r.targetId),await Lv(n.localStore,r.targetId,!0))}async function gb(e,t){const n=xh(e);try{const e=await function(e,t){const n=xh(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(ff.EMPTY_BYTE_STRING,Hh.min()).withLastLimboFreeSnapshotVersion(Hh.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.qr.updateTargetData(e,l))}));let a=Wp(),c=Jp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Rv(e,o,t.documentUpdates).next((e=>{a=e.us,c=e.cs}))),!r.isEqual(Hh.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return ud.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(Ch(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?Ch(r.Ra):e.removedDocuments.size>0&&(Ch(r.Ra),r.Ra=!1))})),await xb(n,e,t)}catch(e){await ld(e)}}function yb(e,t,n){const r=xh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=xh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&tb(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vb(e,t,n){const r=xh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new of($h.comparator);e=e.insert(o,Hf.newNoDocument(o,Hh.min()));const n=Jp().add(o),i=new Zm(Hh.min(),new Map,new of(Bh),e,n);await gb(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),Cb(r)}else await Lv(r.localStore,t,!1).then((()=>Eb(r,t,n))).catch(ld)}async function wb(e,t){const n=xh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=ud.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ch(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Jp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Tb(n,r,null),_b(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xb(n,e)}catch(e){await ld(e)}}async function bb(e,t,n){const r=xh(e);try{const e=await function(e,t){const n=xh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ch(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Tb(r,t,n),_b(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await xb(r,e)}catch(n){await ld(n)}}function _b(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function Tb(e,t,n){const r=xh(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Eb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||Ib(e,t)}))}function Ib(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(ww(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Cb(e))}function Sb(e,t,n){for(const r of n)r instanceof ab?(e.wa.addReference(r.key,t),kb(e,r)):r instanceof cb?(Th("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Ib(e,r.key)):kh()}function kb(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Th("SyncEngine","New document in limbo: "+n),e.ga.add(r),Cb(e))}function Cb(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new $h(Qh.fromString(t)),r=e.Da.next();e.ya.set(r,new hb(n)),e.pa=e.pa.insert(n,r),vw(e.remoteStore,new Fg(Pp(Cp(n.path)),r,"TargetPurposeLimboResolution",Td._e))}}async function xb(e,t,n){const r=xh(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{s.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=kv.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Va.a_(i),await async function(e,t){const n=xh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ud.forEach(t,(t=>ud.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ud.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!md(e))throw e;Th("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function Ab(e,t){const n=xh(e);if(!n.currentUser.isEqual(t)){Th("SyncEngine","User change. New user:",t.toKey());const e=await Pv(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Nh(Ah.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await xb(n,e._s)}}function Nb(e,t){const n=xh(e),r=n.ya.get(t);if(r&&r.Ra)return Jp().add(r.key);{let e=Jp();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function Pb(e,t){const n=xh(e),r=await Fv(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&Sb(n,t.targetId,i.Ta),i}async function Db(e,t){const n=xh(e);return Uv(n.localStore,t).then((e=>xb(n,e)))}async function Rb(e,t,n,r){const i=xh(e),o=await function(e,t){const n=xh(e),r=xh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ud.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Pw(i.remoteStore):"acknowledged"===n||"rejected"===n?(Tb(i,t,r||null),_b(i,t),function(e,t){xh(xh(e).mutationQueue).Fn(t)}(i.localStore,t)):kh(),await xb(i,o)):Th("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Ob(e,t,n){const r=xh(e),i=[],o=[];for(const s of t){let e;const t=r.fa.get(s);if(t&&0!==t.length){e=await Mv(r.localStore,Pp(t[0]));for(const e of t){const t=r.ma.get(e),n=await Pb(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Vv(r.localStore,s);e=await Mv(r.localStore,t),await pb(r,Mb(t),s,!1,e.resumeToken)}i.push(e)}return r.Va.a_(o),i}function Mb(e){return kp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Lb(e){return function(e){return xh(xh(e).persistence).Bi()}(xh(e).localStore)}async function Fb(e,t,n,r){const i=xh(e);if(i.Ca)return void Th("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Uv(i.localStore,Up(o[0])),r=Zm.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ff.EMPTY_BYTE_STRING);await xb(i,e,r);break}case"rejected":await Lv(i.localStore,t,!0),Eb(i,t,r);break;default:kh()}}async function Vb(e,t,n){const r=Ub(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Th("SyncEngine","Adding an already active target "+e);continue}const t=await Vv(r.localStore,e),n=await Mv(r.localStore,t);await pb(r,Mb(t),n.targetId,!1,n.resumeToken),vw(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await Lv(r.localStore,e,!1).then((()=>{ww(r.remoteStore,e),Eb(r,e)})).catch(ld)}}function Ub(e){const t=xh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vb.bind(null,t),t.Va.a_=Jw.bind(null,t.eventManager),t.Va.Fa=eb.bind(null,t.eventManager),t}function zb(e){const t=xh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bb.bind(null,t),t}class jb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Nv(this.persistence,new xv,e.initialUser,this.serializer)}createPersistence(e){return new gv(vv.jr,this.serializer)}createSharedClientState(e){return new $v}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bb extends jb{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await zb(this.xa.syncEngine),await Pw(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Nv(this.persistence,new xv,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Hy(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new _d(t,this.persistence);return new bd(e.asyncQueue,n)}createPersistence(e){const t=Sv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Py.withCacheSize(this.cacheSizeBytes):Py.DEFAULT;return new Tv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sw(),aw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $v}}class qb extends Bb{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof Yv&&(this.sharedClientState.syncEngine={Ys:Rb.bind(null,t),Zs:Fb.bind(null,t),Xs:Vb.bind(null,t),Bi:Lb.bind(null,t),Js:Db.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=xh(e);if(Ub(n),zb(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Ob(n,e.toArray());n.Ca=!0,await jw(n.remoteStore,!0);for(const r of t)vw(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Eb(n,i),Lv(n.localStore,i,!0)))),ww(n.remoteStore,i)})),await t,await Ob(n,e),function(e){const t=xh(e);t.ya.forEach(((e,n)=>{ww(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new of($h.comparator)}(n),n.Ca=!1,await jw(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=sw();if(!Yv.D(t))throw new Nh(Ah.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Sv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Wb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ab.bind(null,this.syncEngine),await jw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Yw}createDatastore(e){const t=cw(e.databaseInfo.databaseId),n=function(e){return new ow(e)}(e.databaseInfo);return function(e,t,n,r){return new fw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new mw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>yb(this.syncEngine,e,0)),Jv.D()?new Jv:new Xv)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new db(e,t,n,r,i,o);return s&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=xh(e);Th("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await yw(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function Kb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Eh("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Gb{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Ph,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new rb(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Qb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Nh(Ah.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=xh(e),r=wg(n.serializer)+"/documents",i={documents:t.map((e=>mg(n.serializer,e)))},o=await n.Co("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Ch(!!t.found),t.found.name,t.found.updateTime;const n=gg(e,t.found.name),r=dg(t.found.updateTime),i=t.found.createTime?dg(t.found.createTime):Hh.min(),o=new Wf({mapValue:{fields:t.found.fields}});return Hf.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Ch(!!t.missing),Ch(!!t.readTime);const n=gg(e,t.missing),r=dg(t.readTime);return Hf.newNoDocument(n,r)}(e,t):kh()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Ch(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=$h.fromPath(t);this.mutations.push(new Rm(n,this.precondition(n)))})),await async function(e,t){const n=xh(e),r=wg(n.serializer)+"/documents",i={writes:t.map((e=>Eg(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw kh();t=Hh.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nh(Ah.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Hh.min())?wm.exists(!1):wm.updateTime(t):wm.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hh.min()))throw new Nh(Ah.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wm.updateTime(t)}return wm.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zb{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new lw(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new Qb(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Ed(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zm(t)}return!1}}class Yb{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vh.UNAUTHENTICATED,this.clientId=jh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Th("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Th("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nh(Ah.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ph;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Kw(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $b(e,t){e.asyncQueue.verifyOperationInProgress(),Th("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Pv(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Xb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await e_(e);Th("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>zw(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>zw(t.remoteStore,n))),e._onlineComponents=t}function Jb(e){return"FirebaseError"===e.name?e.code===Ah.FAILED_PRECONDITION||e.code===Ah.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function e_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Th("FirestoreClient","Using user provided OfflineComponentProvider");try{await $b(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Jb(n))throw n;Ih("Error using user provided cache. Falling back to memory cache: "+n),await $b(e,new jb)}}else Th("FirestoreClient","Using default OfflineComponentProvider"),await $b(e,new jb);return e._offlineComponents}async function t_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Th("FirestoreClient","Using user provided OnlineComponentProvider"),await Xb(e,e._uninitializedComponentsProvider._online)):(Th("FirestoreClient","Using default OnlineComponentProvider"),await Xb(e,new Wb))),e._onlineComponents}function n_(e){return e_(e).then((e=>e.persistence))}function r_(e){return e_(e).then((e=>e.localStore))}function i_(e){return t_(e).then((e=>e.remoteStore))}function o_(e){return t_(e).then((e=>e.syncEngine))}function s_(e){return t_(e).then((e=>e.datastore))}async function a_(e){const t=await t_(e),n=t.eventManager;return n.onListen=fb.bind(null,t.syncEngine),n.onUnlisten=mb.bind(null,t.syncEngine),n}function c_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ph;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Hb({next:o=>{t.enqueueAndForget((()=>Xw(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Nh(Ah.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Nh(Ah.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new nb(Cp(n.path),o,{includeMetadataChanges:!0,J_:!0});return $w(e,s)}(await a_(e),e.asyncQueue,t,n,r))),r.promise}function l_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ph;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Hb({next:n=>{t.enqueueAndForget((()=>Xw(e,s))),n.fromCache&&"server"===r.source?i.reject(new Nh(Ah.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new nb(n,o,{includeMetadataChanges:!0,J_:!0});return $w(e,s)}(await a_(e),e.asyncQueue,t,n,r))),r.promise}function u_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?qm().encode(e):e,function(e,t){return new Gb(e,t)}(function(e,t){if(e instanceof Uint8Array)return Kb(e,t);if(e instanceof ArrayBuffer)return Kb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,cw(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=xh(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=xh(e),r=dg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(sb(r));const i=new ob(r,e.localStore,t.serializer);let o=await t.Ma();for(;o;){const e=await i.ea(o);e&&n._updateProgress(e),o=await t.Ma()}const s=await i.complete();return await xb(e,s.ra,void 0),await function(e,t){const n=xh(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.na)}catch(e){return Ih("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await o_(e),i,r)}))}function h_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const d_=new Map;function f_(e,t,n){if(!n)throw new Nh(Ah.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function p_(e,t,n,r){if(!0===t&&!0===r)throw new Nh(Ah.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function m_(e){if(!$h.isDocumentKey(e))throw new Nh(Ah.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function g_(e){if($h.isDocumentKey(e))throw new Nh(Ah.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function y_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":kh()}function v_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nh(Ah.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=y_(e);throw new Nh(Ah.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function w_(e,t){if(t<=0)throw new Nh(Ah.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class b_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Nh(Ah.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nh(Ah.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Nh(Ah.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Nh(Ah.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Nh(Ah.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class __{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nh(Ah.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nh(Ah.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rh;switch(e.type){case"firstParty":return new Fh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Nh(Ah.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=d_.get(e);t&&(Th("ComponentProvider","Removing Datastore"),d_.delete(e),t.terminate())}(this),Promise.resolve()}}function T_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=v_(e,__))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ih("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=vh.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Nh(Ah.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new vh(o)}e._authCredentials=new Oh(new Dh(t,n))}}class E_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new E_(this.firestore,e,this._query)}}class I_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new S_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new I_(this.firestore,e,this._key)}}class S_ extends E_{constructor(e,t,n){super(e,t,Cp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new I_(this.firestore,null,new $h(e))}withConverter(e){return new S_(this.firestore,e,this._path)}}function k_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=De(e),f_("collection","path",t),e instanceof __){const n=Qh.fromString(t,...r);return g_(n),new S_(e,null,n)}{if(!(e instanceof I_||e instanceof S_))throw new Nh(Ah.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qh.fromString(t,...r));return g_(n),new S_(e.firestore,null,n)}}function C_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=De(e),1===arguments.length&&(t=jh.newId()),f_("doc","path",t),e instanceof __){const n=Qh.fromString(t,...r);return m_(n),new I_(e,null,new $h(n))}{if(!(e instanceof I_||e instanceof S_))throw new Nh(Ah.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qh.fromString(t,...r));return m_(n),new I_(e.firestore,e instanceof S_?e.converter:null,new $h(n))}}function x_(e,t){return e=De(e),t=De(t),(e instanceof I_||e instanceof S_)&&(t instanceof I_||t instanceof S_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function A_(e,t){return e=De(e),t=De(t),e instanceof E_&&t instanceof E_&&e.firestore===t.firestore&&Mp(e._query,t._query)&&e.converter===t.converter}class N_{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new lw(this,"async_queue_retry"),this.iu=()=>{const e=aw();e&&Th("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=aw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=aw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new Ph;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!md(e))throw e;Th("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Eh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=Ww.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&kh()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function P_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class D_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ph,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class R_ extends __{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new N_,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||M_(this),this._firestoreClient.terminate()}}function O_(e){return e._firestoreClient||M_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function M_(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new _f(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,h_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Yb(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function L_(e,t,n){const r=new Ph;return e.asyncQueue.enqueue((async()=>{try{await $b(e,n),await Xb(e,t),r.resolve()}catch(e){const n=e;if(!Jb(n))throw n;Ih("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function F_(e){return function(e){const t=new Ph;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=xh(e);Iw(n.remoteStore)||Th("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=xh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=Kw(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await o_(e),t))),t.promise}(O_(e=v_(e,R_)))}function V_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await n_(e),n=await i_(e);return t.setNetworkEnabled(!0),function(e){const t=xh(e);return t.C_.delete(0),gw(t)}(n)}))}(O_(e=v_(e,R_)))}function U_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await n_(e),n=await i_(e);return t.setNetworkEnabled(!1),async function(e){const t=xh(e);t.C_.add(0),await yw(t),t.M_.set("Offline")}(n)}))}(O_(e=v_(e,R_)))}function z_(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=xh(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await r_(e),t)))}(O_(e=v_(e,R_)),t).then((t=>t?new E_(e,null,t.query):null))}function j_(e){if(e._initialized||e._terminated)throw new Nh(Ah.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class B_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new B_(ff.fromBase64String(e))}catch(e){throw new Nh(Ah.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new B_(ff.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class q_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class W_{constructor(e){this._methodName=e}}class K_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nh(Ah.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nh(Ah.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bh(this._lat,e._lat)||Bh(this._long,e._long)}}const H_=/^__.*__$/;class G_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cm(e,this.data,t,this.fieldTransforms)}}class Q_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Z_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kh()}}class Y_{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Y_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return gT(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Z_(this.Iu)&&H_.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class $_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||cw(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Y_({Iu:e,methodName:t,gu:n,path:Yh.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X_(e){const t=e._freezeSettings(),n=cw(e._databaseId);return new $_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function J_(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);dT("Data must be an object, but it was:",s,r);const a=uT(r,s);let c,l;if(o.merge)c=new hf(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=fT(t,r,n);if(!s.contains(i))throw new Nh(Ah.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));yT(e,i)||e.push(i)}c=new hf(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new G_(new Wf(a),c,l)}class eT extends W_{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eT}}function tT(e,t,n){return new Y_({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class nT extends W_{_toFieldTransform(e){return new ym(e.path,new lm)}isEqual(e){return e instanceof nT}}class rT extends W_{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=tT(this,e,!0),n=this.yu.map((e=>lT(e,t))),r=new um(n);return new ym(e.path,r)}isEqual(e){return this===e}}class iT extends W_{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=tT(this,e,!0),n=this.yu.map((e=>lT(e,t))),r=new dm(n);return new ym(e.path,r)}isEqual(e){return this===e}}class oT extends W_{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new pm(e.serializer,im(e.serializer,this.wu));return new ym(e.path,t)}isEqual(e){return this===e}}function sT(e,t,n,r){const i=e.pu(1,t,n);dT("Data must be an object, but it was:",i,r);const o=[],s=Wf.empty();nf(r,((e,r)=>{const a=mT(t,e,n);r=De(r);const c=i.Ru(a);if(r instanceof eT)o.push(a);else{const e=lT(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new hf(o);return new Q_(s,a,i.fieldTransforms)}function aT(e,t,n,r,i,o){const s=e.pu(1,t,n),a=[fT(t,r,n)],c=[i];if(o.length%2!=0)throw new Nh(Ah.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(fT(t,o[d])),c.push(o[d+1]);const l=[],u=Wf.empty();for(let d=a.length-1;d>=0;--d)if(!yT(l,a[d])){const e=a[d];let t=c[d];t=De(t);const n=s.Ru(e);if(t instanceof eT)l.push(e);else{const r=lT(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new hf(l);return new Q_(u,h,s.fieldTransforms)}function cT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lT(n,e.pu(r?4:3,t))}function lT(e,t){if(hT(e=De(e)))return dT("Unsupported field value:",t,e),uT(e,t);if(e instanceof W_)return function(e,t){if(!Z_(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=lT(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=De(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return im(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Kh.fromDate(e);return{timestampValue:lg(t.serializer,n)}}if(e instanceof Kh){const n=new Kh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lg(t.serializer,n)}}if(e instanceof K_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof B_)return{bytesValue:ug(t.serializer,e._byteString)};if(e instanceof I_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:fg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(y_(e)))}(e,t)}function uT(e,t){const n={};return rf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nf(e,((e,r)=>{const i=lT(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Kh||e instanceof K_||e instanceof B_||e instanceof I_||e instanceof W_)}function dT(e,t,n){if(!hT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=y_(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function fT(e,t,n){if((t=De(t))instanceof q_)return t._internalPath;if("string"==typeof t)return mT(e,t);throw gT("Field path arguments must be of type string or ",e,!1,void 0,n)}const pT=new RegExp("[~\\*/\\[\\]]");function mT(e,t,n){if(t.search(pT)>=0)throw gT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new q_(...t.split("."))._internalPath}catch(ha){throw gT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gT(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new Nh(Ah.INVALID_ARGUMENT,a+e+c)}function yT(e,t){return e.some((e=>e.isEqual(t)))}class vT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new I_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class wT extends vT{data(){return super.data()}}function bT(e,t){return"string"==typeof t?mT(e,t):t instanceof q_?t._internalPath:t._delegate._internalPath}function _T(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nh(Ah.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TT{}class ET extends TT{}function IT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof TT&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof kT)).length,n=e.filter((e=>e instanceof ST)).length;if(t>1||t>0&&n>0)throw new Nh(Ah.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class ST extends ET{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ST(e,t,n)}_apply(e){const t=this._parse(e);return OT(e._query,t),new E_(e.firestore,e.converter,Rp(e._query,t))}_parse(e){const t=X_(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){RT(s,o);const t=[];for(const n of s)t.push(DT(r,e,n));a={arrayValue:{values:t}}}else a=DT(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||RT(s,o),a=cT(n,t,s,"in"===o||"not-in"===o);return Jf.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class kT extends TT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ep.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)OT(n,i),n=Rp(n,i)}(e._query,t),new E_(e.firestore,e.converter,Rp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class CT extends ET{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new CT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yf(t,n)}(e._query,this._field,this._direction);return new E_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Sp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class xT extends ET{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new xT(e,t,n)}_apply(e){return new E_(e.firestore,e.converter,Op(e._query,this._limit,this._limitType))}}class AT extends ET{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new AT(e,t,n)}_apply(e){const t=PT(e,this.type,this._docOrFields,this._inclusive);return new E_(e.firestore,e.converter,function(e,t){return new Sp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class NT extends ET{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new NT(e,t,n)}_apply(e){const t=PT(e,this.type,this._docOrFields,this._inclusive);return new E_(e.firestore,e.converter,function(e,t){return new Sp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function PT(e,t,n,r){if(n[0]=De(n[0]),n[0]instanceof vT)return function(e,t,n,r,i){if(!r)throw new Nh(Ah.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Np(e))if(s.field.isKeyField())o.push(Df(t,r.key));else{const e=r.data.field(s.field);if(vf(e))throw new Nh(Ah.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Gf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=X_(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Nh(Ah.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Ap(e)&&-1!==o.indexOf("/"))throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Qh.fromString(o));if(!$h.isDocumentKey(n))throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new $h(n);a.push(Df(t,i))}else{const e=cT(n,r,o);a.push(e)}}return new Gf(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function DT(e,t,n){if("string"==typeof(n=De(n))){if(""===n)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ap(t)&&-1!==n.indexOf("/"))throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Qh.fromString(n));if(!$h.isDocumentKey(r))throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Df(e,new $h(r))}if(n instanceof I_)return Df(e,n._key);throw new Nh(Ah.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(y_(n),"."))}function RT(e,t){if(!Array.isArray(e)||0===e.length)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function OT(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Nh(Ah.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Nh(Ah.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class MT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw kh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return nf(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new K_(gf(e.latitude),gf(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const t=mf(e);return new Kh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qh.fromString(e);Ch(Lg(n));const r=new Tf(n.get(1),n.get(3)),i=new $h(n.popFirst(5));return r.isEqual(t)||Eh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function LT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class FT extends MT{constructor(e){super(),this.firestore=e}convertBytes(e){return new B_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new I_(this.firestore,null,t)}}class VT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UT extends vT{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new zT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class zT extends UT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class jT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new VT(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new zT(this._firestore,this._userDataWriter,n.key,n,new VT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nh(Ah.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new zT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new VT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new zT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new VT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:BT(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function BT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kh()}}function qT(e,t){return e instanceof UT&&t instanceof UT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jT&&t instanceof jT&&e._firestore===t._firestore&&A_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class WT extends MT{constructor(e){super(),this.firestore=e}convertBytes(e){return new B_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new I_(this.firestore,null,t)}}function KT(e){e=v_(e,I_);const t=v_(e.firestore,R_),n=O_(t),r=new WT(t);return function(e,t){const n=new Ph;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=xh(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Nh(Ah.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Kw(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await r_(e),t,n))),n.promise}(n,e._key).then((n=>new UT(t,r,e._key,n,new VT(null!==n&&n.hasLocalMutations,!0),e.converter)))}function HT(e){e=v_(e,E_);const t=v_(e.firestore,R_),n=O_(t),r=new WT(t);return function(e,t){const n=new Ph;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Fv(e,t,!0),i=new lb(t,r.ls),o=i.ca(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Kw(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await r_(e),t,n))),n.promise}(n,e._query).then((n=>new jT(t,r,e,n)))}function GT(e,t,n){e=v_(e,I_);const r=v_(e.firestore,R_),i=LT(e.converter,t,n);return $T(r,[J_(X_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wm.none())])}function QT(e,t,n){e=v_(e,I_);const r=v_(e.firestore,R_),i=X_(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=De(t))||t instanceof q_?aT(i,"updateDoc",e._key,t,n,a):sT(i,"updateDoc",e._key,t),$T(r,[o.toMutation(e._key,wm.exists(!0))])}function ZT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=De(e);let a={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||P_(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges};if(P_(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,d;if(e instanceof I_)h=v_(e.firestore,R_),d=Cp(e._key.path),u={next:t=>{n[c]&&n[c](XT(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=v_(e,E_);h=v_(t.firestore,R_),d=t._query;const r=new WT(h);u={next:e=>{n[c]&&n[c](new jT(h,r,t,e))},error:n[c+1],complete:n[c+2]},_T(e._query)}return function(e,t,n,r){const i=new Hb(r),o=new nb(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>$w(await a_(e),o))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>Xw(await a_(e),o)))}}(O_(h),d,l,u)}function YT(e,t){return function(e,t){const n=new Hb(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){xh(e).q_.add(t),t.next()}(await a_(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){xh(e).q_.delete(t)}(await a_(e),n)))}}(O_(e=v_(e,R_)),P_(t)?t:{next:t})}function $T(e,t){return function(e,t){const n=new Ph;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=zb(e);try{const e=await function(e,t){const n=xh(e),r=Kh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Jp());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Wp(),c=Jp();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Sm(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new xm(e.key,t,Kf(t.value.mapValue),wm.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Gp(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new of(Bh)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await xb(r,e.changes),await Pw(r.remoteStore)}catch(e){const t=Kw(e,"Failed to persist write");n.reject(t)}}(await o_(e),t,n))),n.promise}(O_(e),t)}function XT(e,t,n){const r=n.docs.get(t._key),i=new WT(e);return new UT(e,i,t._key,r,new VT(n.hasPendingWrites,n.fromCache),t.converter)}const JT={maxAttempts:5};class eE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=X_(e)}set(e,t,n){this._verifyNotCommitted();const r=tE(e,this._firestore),i=LT(r.converter,t,n),o=J_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,wm.none())),this}update(e,t,n){this._verifyNotCommitted();const r=tE(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=De(t))||t instanceof q_?aT(this._dataReader,"WriteBatch.update",r._key,t,n,s):sT(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,wm.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tE(e,this._firestore);return this._mutations=this._mutations.concat(new Dm(t._key,wm.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nh(Ah.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tE(e,t){if((e=De(e)).firestore!==t)throw new Nh(Ah.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class nE extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=X_(e)}get(e){const t=tE(e,this._firestore),n=new FT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return kh();const r=e[0];if(r.isFoundDocument())return new vT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new vT(this._firestore,n,t._key,null,t.converter);throw kh()}))}set(e,t,n){const r=tE(e,this._firestore),i=LT(r.converter,t,n),o=J_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=tE(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=De(t))||t instanceof q_?aT(this._dataReader,"Transaction.update",r._key,t,n,s):sT(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=tE(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tE(e,this._firestore),n=new WT(this._firestore);return super.get(e).then((e=>new UT(this._firestore,n,t._key,e._document,new VT(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wh=e}(Et),yt(new Re("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new R_(new Mh(e.getProvider("auth-internal")),new Uh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nh(Ah.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tf(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),xt(yh,"4.4.0",e),xt(yh,"4.4.0","esm2017")}();function rE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function iE(){if("undefined"===typeof Uint8Array)throw new Nh("unimplemented","Uint8Arrays are not available in this environment.")}function oE(){if("undefined"==typeof atob)throw new Nh("unimplemented","Blobs are unavailable in Firestore in this environment.")}class sE{constructor(e){this._delegate=e}static fromBase64String(e){return oE(),new sE(B_.fromBase64String(e))}static fromUint8Array(e){return iE(),new sE(B_.fromUint8Array(e))}toBase64(){return oE(),this._delegate.toBase64()}toUint8Array(){return iE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function aE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class cE{enableIndexedDbPersistence(e,t){return function(e,t){j_(e=v_(e,R_));const n=O_(e);if(n._uninitializedComponentsProvider)throw new Nh(Ah.FAILED_PRECONDITION,"SDK cache is already specified.");Ih("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Wb;return L_(n,i,new Bb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){j_(e=v_(e,R_));const t=O_(e);if(t._uninitializedComponentsProvider)throw new Nh(Ah.FAILED_PRECONDITION,"SDK cache is already specified.");Ih("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Wb;return L_(t,r,new qb(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Nh(Ah.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ph;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!dd.D())return Promise.resolve();const t=e+"main";await dd.delete(t)}(Sv(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class lE{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ih("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T_(this._delegate,e,t,n)}enableNetwork(){return V_(this._delegate)}disableNetwork(){return U_(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,p_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return F_(this._delegate)}onSnapshotsInSync(e){return YT(this._delegate,e)}get app(){if(!this._appCompat)throw new Nh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new EE(this,k_(this._delegate,e))}catch(t){throw mE(t,"collection()","Firestore.collection()")}}doc(e){try{return new pE(this,C_(this._delegate,e))}catch(t){throw mE(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bE(this,function(e,t){if(e=v_(e,__),f_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nh(Ah.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new E_(e,null,function(e){return new Sp(Qh.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw mE(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=v_(e,R_);const r=Object.assign(Object.assign({},JT),n);return function(e){if(e.maxAttempts<1)throw new Nh(Ah.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Ph;return e.asyncQueue.enqueueAndForget((async()=>{const i=await s_(e);new Zb(e.asyncQueue,i,n,t,r).run()})),r.promise}(O_(e),(n=>t(new nE(e,n))),r)}(this._delegate,(t=>e(new hE(this,t))))}batch(){return O_(this._delegate),new dE(new eE(this._delegate,(e=>$T(this._delegate,e))))}loadBundle(e){return function(e,t){const n=O_(e=v_(e,R_)),r=new D_;return u_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return z_(this._delegate,e).then((e=>e?new bE(this,e):null))}}class uE extends MT{constructor(e){super(),this.firestore=e}convertBytes(e){return new sE(new B_(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pE.forKey(t,this.firestore,null)}}class hE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uE(e)}get(e){const t=IE(e);return this._delegate.get(t).then((e=>new vE(this._firestore,new UT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=IE(e);return n?(rE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=IE(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=IE(e);return this._delegate.delete(t),this}}class dE{constructor(e){this._delegate=e}set(e,t,n){const r=IE(e);return n?(rE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=IE(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=IE(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fE{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new zT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wE(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=fE.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new fE(e,new uE(e),t),r.set(t,i)),i}}fE.INSTANCES=new WeakMap;class pE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uE(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Nh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new pE(t,new I_(t._delegate,n,new $h(e)))}static forKey(e,t,n){return new pE(t,new I_(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new EE(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new EE(this.firestore,k_(this._delegate,e))}catch(t){throw mE(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=De(e))instanceof I_&&x_(this._delegate,e)}set(e,t){t=rE("DocumentReference.set",t);try{return t?GT(this._delegate,e,t):GT(this._delegate,e)}catch(n){throw mE(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QT(this._delegate,e):QT(this._delegate,e,t,...r)}catch(o){throw mE(o,"updateDoc()","DocumentReference.update()")}}delete(){return $T(v_((e=this._delegate).firestore,R_),[new Dm(e._key,wm.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=gE(t),i=yE(t,(e=>new vE(this.firestore,new UT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ZT(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?KT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=v_(e,I_);const t=v_(e.firestore,R_);return c_(O_(t),e._key,{source:"server"}).then((n=>XT(t,e,n)))}(this._delegate):function(e){e=v_(e,I_);const t=v_(e.firestore,R_);return c_(O_(t),e._key).then((n=>XT(t,e,n)))}(this._delegate),t.then((e=>new vE(this.firestore,new UT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new pE(this.firestore,e?this._delegate.withConverter(fE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mE(e,t,n){return e.message=e.message.replace(t,n),e}function gE(e){for(const t of e)if("object"===typeof t&&!aE(t))return t;return{}}function yE(e,t){var n,r;let i;return i=aE(e[0])?e[0]:aE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class vE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pE(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qT(this._delegate,e._delegate)}}class wE extends vE{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||kh(),t}}class bE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uE(e)}where(e,t,n){try{return new bE(this.firestore,IT(this._delegate,function(e,t,n){const r=t,i=bT("where",e);return ST._create(i,r,n)}(e,t,n)))}catch(r){throw mE(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bE(this.firestore,IT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bT("orderBy",e);return CT._create(n,t)}(e,t)))}catch(n){throw mE(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bE(this.firestore,IT(this._delegate,(w_("limit",t=e),xT._create("limit",t,"F"))))}catch(t){throw mE(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new bE(this.firestore,IT(this._delegate,(w_("limitToLast",t=e),xT._create("limitToLast",t,"L"))))}catch(t){throw mE(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new bE(this.firestore,IT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AT._create("startAt",t,!0)}(...arguments)))}catch(e){throw mE(e,"startAt()","Query.startAt()")}}startAfter(){try{return new bE(this.firestore,IT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AT._create("startAfter",t,!1)}(...arguments)))}catch(e){throw mE(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new bE(this.firestore,IT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return NT._create("endBefore",t,!1)}(...arguments)))}catch(e){throw mE(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new bE(this.firestore,IT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return NT._create("endAt",t,!0)}(...arguments)))}catch(e){throw mE(e,"endAt()","Query.endAt()")}}isEqual(e){return A_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?HT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=v_(e,E_);const t=v_(e.firestore,R_),n=O_(t),r=new WT(t);return l_(n,e._query,{source:"server"}).then((n=>new jT(t,r,e,n)))}(this._delegate):function(e){e=v_(e,E_);const t=v_(e.firestore,R_),n=O_(t),r=new WT(t);return _T(e._query),l_(n,e._query).then((n=>new jT(t,r,e,n)))}(this._delegate),t.then((e=>new TE(this.firestore,new jT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=gE(t),i=yE(t,(e=>new TE(this.firestore,new jT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ZT(this._delegate,r,i)}withConverter(e){return new bE(this.firestore,e?this._delegate.withConverter(fE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class _E{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bE(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new wE(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new _E(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new wE(this._firestore,n))}))}isEqual(e){return qT(this._delegate,e._delegate)}}class EE extends bE{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pE(this.firestore,e):null}doc(e){try{return new pE(this.firestore,void 0===e?C_(this._delegate):C_(this._delegate,e))}catch(t){throw mE(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=v_(e.firestore,R_),r=C_(e),i=LT(e.converter,t);return $T(n,[J_(X_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wm.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new pE(this.firestore,e)))}isEqual(e){return x_(this._delegate,e._delegate)}withConverter(e){return new EE(this.firestore,e?this._delegate.withConverter(fE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function IE(e){return v_(e,I_)}class SE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new q_(...t)}static documentId(){return new SE(Yh.keyField().canonicalString())}isEqual(e){return(e=De(e))instanceof q_&&this._delegate._internalPath.isEqual(e._internalPath)}}class kE{constructor(e){this._delegate=e}static serverTimestamp(){const e=new nT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new kE(e)}static delete(){const e=new eT("deleteField");return e._methodName="FieldValue.delete",new kE(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rT("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new kE(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iT("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new kE(e)}static increment(e){const t=new oT("increment",e);return t._methodName="FieldValue.increment",new kE(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const CE={Firestore:lE,GeoPoint:K_,Timestamp:Kh,Blob:sE,Transaction:hE,WriteBatch:dE,DocumentReference:pE,DocumentSnapshot:vE,Query:bE,QueryDocumentSnapshot:wE,QuerySnapshot:TE,CollectionReference:EE,FieldPath:SE,FieldValue:kE,setLogLevel:function(e){var t;t=e,bh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Re("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},CE)))}(e,((e,t)=>new lE(e,t,new cE))),e.registerVersion("@firebase/firestore-compat","0.3.23")}(Gt);const xE=Gt.initializeApp({apiKey:"AIzaSyAuq3dveM-UAm4Gtbdyb5ENrRq193jmv3k",authDomain:"twitter-clone-7e461.firebaseapp.com",projectId:"twitter-clone-7e461",storageBucket:"twitter-clone-7e461.appspot.com",messagingSenderId:"868192516999",appId:"1:868192516999:web:b7f7aca109f1b5b1037122",measurementId:"G-JWT7CV1WWT"}).firestore();const AE=function(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)("");return t.createElement("div",{className:"tweetBox"},t.createElement("form",null,t.createElement("div",{className:"tweetBox__input"},t.createElement(re,{src:"https://i.pravatar.cc/300"}),t.createElement("input",{onChange:e=>n(e.target.value),value:e,placeholder:"What's happening?",type:"text"})),t.createElement("input",{value:r,onChange:e=>i(e.target.value),className:"tweetBox__imageInput",placeholder:"Optional: Enter image URL",type:"text"}),t.createElement(X,{onClick:t=>{t.preventDefault(),xE.collection("posts").add({displayName:"Madhav Sharma",username:"maddy",verified:!0,text:e,image:r,avatar:"https://i.pravatar.cc/300"}),n(""),i("")},type:"submit",className:"tweetBox__tweetButton"},"Tweet")))};var NE=n(8321),PE=n(6132),DE=n(7582),RE=n(6314),OE=n(320);const ME=(0,t.forwardRef)(((e,n)=>{let{displayName:r,username:i,verified:o,text:s,image:a,avatar:c}=e;return t.createElement("div",{className:"post",ref:n},t.createElement("div",{className:"post__avatar"},t.createElement(re,{src:c})),t.createElement("div",{className:"post__body"},t.createElement("div",{className:"post__header"},t.createElement("div",{className:"post__headerText"},t.createElement("h3",null,r," ",t.createElement("span",{className:"post__headerSpecial"},o&&t.createElement(NE.Z,{className:"post__badge"})," @",i))),t.createElement("div",{className:"post__headerDescription"},t.createElement("p",null,s))),t.createElement("img",{src:a,alt:""}),t.createElement("div",{className:"post__footer"},t.createElement(PE.Z,{fontSize:"small"}),t.createElement(DE.Z,{fontSize:"small"}),t.createElement(RE.Z,{fontSize:"small"}),t.createElement(OE.Z,{fontSize:"small"}))))}));function LE(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}LE("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),LE("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var FE=LE("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),VE=LE("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),UE={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},zE={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},jE=UE,BE="elevator",qE=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},WE=function(e){return(WE=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var KE=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),HE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GE=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},QE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZE=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},YE=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function $E(e){var n,r;return r=n=function(n){function r(){return GE(this,r),YE(this,n.apply(this,arguments))}return ZE(r,n),r.prototype.checkChildren=function(e){},r.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,jE),enterAnimation:this.convertAnimationProp(e.enterAnimation,UE),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,zE),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=QE({position:"relative"},r.style),t.delegated=r,t},r.prototype.convertTimingProp=function(e){var t=this.props[e],n="number"===typeof t?t:parseInt(t,10);return isNaN(n)?r.defaultProps[e]:n},r.prototype.convertAnimationProp=function(e,t){switch("undefined"===typeof e?"undefined":HE(e)){case"boolean":return t[e?BE:"none"];case"string":return-1===Object.keys(t).indexOf(e)?t[BE]:t[e];default:return e}},r.prototype.render=function(){return t.createElement(e,this.convertProps(this.props))},r}(t.Component),n.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:BE,leaveAnimation:BE,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},r}function XE(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(KE(e),n[e])}))}var JE=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,i=e.parentBoundingBox||n,o=(0,e.getPosition)(t),s=o.top-i.top,a=o.left-i.left;return[r.left-a,r.top-s]},eI=function(e,t){var n=t.delay,r=t.duration,i=t.staggerDurationBy,o=t.staggerDelayBy,s=t.easing;n+=e*o,r+=e*i;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+s+" "+n+"ms"})).join(", ")},tI=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"===typeof document)return"";var t=document.createElement("fakeelement"),n=qE((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),nI=!tI;function rI(e){return e.key||""}function iI(e){return t.Children.toArray(e)}var oI=function(e){function n(){var t,i;GE(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=i=YE(this,e.call.apply(e,[this].concat(s))),i.state={children:iI(i.props?i.props.children:[]).map((function(e){return QE({},e,{element:e,appearing:!0})}))},i.childrenData={},i.parentData={domNode:null,boundingBox:null},i.heightPlaceholderData={domNode:null},i.remainingAnimations=0,i.childrenToAnimate=[],i.findDOMContainer=function(){var e=r.findDOMNode(i),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",FE()),i.parentData.domNode=t)},i.runAnimation=function(){var e=i.state.children.filter(i.doesChildNeedToBeAnimated),t=e.map((function(e){return i.computeInitialStyles(e)}));e.forEach((function(e,n){i.remainingAnimations+=1,i.childrenToAnimate.push(rI(e)),i.animateChild(e,n,t[n])})),"function"===typeof i.props.onStartAll&&i.callChildrenHook(i.props.onStartAll)},i.doesChildNeedToBeAnimated=function(e){if(!rI(e))return!1;var t=i.getChildData(rI(e)),n=t.domNode,r=t.boundingBox,o=i.parentData.boundingBox;if(!n)return!1;var s=i.props,a=s.appearAnimation,c=s.enterAnimation,l=s.leaveAnimation,u=s.getPosition,h=e.appearing&&a,d=e.entering&&c,f=e.leaving&&l;if(h||d||f)return!0;var p=JE({childDomNode:n,childBoundingBox:r,parentBoundingBox:o,getPosition:u}),m=p[0],g=p[1];return 0!==m||0!==g},YE(i,t)}return ZE(n,e),n.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},n.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer();var t=!function(e,t){if(e===t)return!0;var n=!WE(e)||!WE(t),r=e.length!==t.length;return!n&&!r&&function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}((function(e,n){return e===t[n]}),e)}(iI(this.props.children).map((function(e){return e.key})),iI(e.children).map((function(e){return e.key})))&&!this.isAnimationDisabled(this.props);t&&(this.prepForAnimation(),this.runAnimation())},n.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return QE({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(i,o){if(!qE((function(e){return e.key===rI(i)}),e)&&t.props.leaveAnimation){var s=QE({},i,{leaving:!0}),a=o+r;n.splice(a,0,s),r+=1}})),n},n.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,i=t.getPosition;n&&(this.state.children.filter((function(e){return e.leaving})).forEach((function(t){var n=e.getChildData(rI(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&VE(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var i=window.getComputedStyle(n),o=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=i.getPropertyValue(t);return QE({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});XE({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-o["margin-top"]+"px",left:r.left-o["margin-left"]+"px",right:r.right-o["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,o=n.boundingBox;if(i&&o){XE({domNode:t,styles:{height:"0"}});var s=o.height-r(i).height;XE({domNode:t,styles:{height:s>0?s+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:i}));this.state.children.forEach((function(t){var n=e.getChildData(rI(t)).domNode;n&&(t.entering||t.leaving||XE({domNode:n,styles:{transition:""}}))}))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=iI(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return QE({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},n.prototype.animateChild=function(e,t,n){var r=this,i=this.getChildData(rI(e)).domNode;i&&(XE({domNode:i,styles:n}),this.props.onStart&&this.props.onStart(e,i),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:eI(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=QE({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=QE({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=QE({},n,r.props.leaveAnimation.to)),XE({domNode:i,styles:n})}))})),this.bindTransitionEndHandler(e))},n.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(rI(e)).domNode;if(n){n.addEventListener(tI,(function r(i){i.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(tI,r),e.leaving&&t.removeChildData(rI(e)))}))}},n.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return QE({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"===typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},n.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var i=t.findChildByKey(e);i&&(n.push(i),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},n.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var i=rI(r);if(i)if(e.hasChildData(i)){var o=e.getChildData(i);o.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,i=r(n),o=r(t),s=o.top,a=o.left,c=o.right,l=o.bottom,u=o.width,h=o.height;return{top:s-i.top,left:a-i.left,right:i.right-c,bottom:i.bottom-l,width:u,height:h}}({childDomNode:o.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var i=rI(t),o=n[r];i&&e.setChildData(i,{boundingBox:o})}))}},n.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?QE({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(rI(e)),n=t.domNode,r=t.boundingBox,i=this.parentData.boundingBox;if(!n)return{};var o=JE({childDomNode:n,childBoundingBox:r,parentBoundingBox:i,getPosition:this.props.getPosition});return{transform:"translate("+o[0]+"px, "+o[1]+"px)"}},n.prototype.isAnimationDisabled=function(e){return nI||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},n.prototype.findChildByKey=function(e){return qE((function(t){return rI(t)===e}),this.state.children)},n.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},n.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},n.prototype.setChildData=function(e,t){this.childrenData[e]=QE({},this.getChildData(e),t)},n.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return QE({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},n.prototype.createHeightPlaceholder=function(){var e=this,n=this.props.typeName,r="ul"===n||"ol"===n?"li":"div";return(0,t.createElement)(r,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})},n.prototype.childrenWithRefs=function(){var e=this;return this.state.children.map((function(n){return(0,t.cloneElement)(n.element,{ref:function(t){if(t){var i=function(e){if("undefined"===typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,r.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(t);e.setChildData(rI(n),{domNode:i})}}})}))},n.prototype.render=function(){var e=this,n=this.props,r=n.typeName,i=n.delegated,o=n.leaveAnimation,s=n.maintainContainerHeight,a=this.childrenWithRefs();if(o&&s&&a.push(this.createHeightPlaceholder()),!r)return a;var c=QE({},i,{children:a,ref:function(t){e.parentData.domNode=t}});return(0,t.createElement)(r,c)},n}(t.Component);const sI=$E(oI);const aI=function(){const[e,n]=(0,t.useState)([]);return(0,t.useEffect)((()=>{xE.collection("posts").onSnapshot((e=>n(e.docs.map((e=>e.data())))))}),[]),t.createElement("div",{className:"feed"},t.createElement("div",{className:"feed__header"},t.createElement("h2",null,"Home")),t.createElement(AE,null),t.createElement(sI,null,e.map((e=>t.createElement(ME,{key:e.text,displayName:e.displayName,username:e.username,verified:e.verified,text:e.text,avatar:e.avatar,image:e.image})))))};function cI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var lI=n(3144),uI=n(1002);function hI(e,t){if(t&&("object"===(0,uI.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,M.Z)(e)}function dI(e){return dI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dI(e)}var fI=n(9611);function pI(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,fI.Z)(e,t)}var mI=n(4942),gI=n(2007),yI=n.n(gI),vI=n(7156),wI=n(2618),bI=n.n(wI),_I="https://platform.twitter.com/widgets.js",TI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"buildChromeOptions",value:function(e){return e.chrome="",this.props.noHeader&&(e.chrome=e.chrome+" noheader"),this.props.noFooter&&(e.chrome=e.chrome+" nofooter"),this.props.noBorders&&(e.chrome=e.chrome+" noborders"),this.props.noScrollbar&&(e.chrome=e.chrome+" noscrollbar"),this.props.transparent&&(e.chrome=e.chrome+" transparent"),e}},{key:"buildOptions",value:function(){var e=Object.assign({},this.props.options);return this.props.autoHeight&&(e.height=this.refs.embedContainer.parentNode.offsetHeight),e=Object.assign({},e,{theme:this.props.theme,linkColor:this.props.linkColor,borderColor:this.props.borderColor,lang:this.props.lang})}},{key:"renderWidget",value:function(e){var t=this,n=this.props.onLoad;this.isMountCanceled||window.twttr.widgets.createTimeline({sourceType:this.props.sourceType,screenName:this.props.screenName,userId:this.props.userId,ownerScreenName:this.props.ownerScreenName,slug:this.props.slug,id:this.props.id||this.props.widgetId,url:this.props.url},this.refs.embedContainer,e).then((function(e){t.setState({isLoading:!1}),n&&n(e)}))}},{key:"componentDidMount",value:function(){var e=this;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){if(window.twttr){var t=e.buildOptions();t=e.buildChromeOptions(t),e.renderWidget(t)}else console.error("Failure to load window.twttr in TwitterTimelineEmbed, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(TI,"propTypes",{sourceType:yI().oneOf(["profile","likes","list","collection","url","widget"]).isRequired,screenName:(0,vI.Z)(yI().string,(function(e){return!e.hasOwnProperty("userId")&&("profile"===e.sourceType||"likes"===e.sourceType)})),userId:(0,vI.Z)(yI().number,(function(e){return!e.hasOwnProperty("screenName")&&("profile"===e.sourceType||"likes"===e.sourceType)})),ownerScreenName:(0,vI.Z)(yI().string,(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("id")})),slug:(0,vI.Z)(yI().string,(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("id")})),id:(0,vI.Z)(yI().oneOfType([yI().number,yI().string]),(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("ownerScreenName")&&!e.hasOwnProperty("slug")||"collection"===e.sourceType})),url:(0,vI.Z)(yI().string,(function(e){return"url"===e.sourceType})),widgetId:(0,vI.Z)(yI().string,(function(e){return"widget"===e.sourceType})),options:yI().object,autoHeight:yI().bool,theme:yI().oneOf(["dark","light"]),linkColor:yI().string,borderColor:yI().string,noHeader:yI().bool,noFooter:yI().bool,noBorders:yI().bool,noScrollbar:yI().bool,transparent:yI().bool,lang:yI().string,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var EI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createShareButton(e.props.url,e.refs.embedContainer,e.props.options).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterShareButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(EI,"propTypes",{url:yI().string.isRequired,options:yI().object,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var II=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createFollowButton(e.props.screenName,e.refs.embedContainer,e.props.options).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterFollowButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(II,"propTypes",{screenName:yI().string.isRequired,options:yI().object,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var SI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createHashtagButton(e.props.tag,e.refs.embedContainer,e.props.options).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterHashtagButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(SI,"propTypes",{tag:yI().string.isRequired,options:yI().object,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var kI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createMentionButton(e.props.screenName,e.refs.embedContainer,e.props.options).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterMentionButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(kI,"propTypes",{screenName:yI().string.isRequired,options:yI().object,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var CI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"renderWidget",value:function(){var e=this,t=this.props.onLoad;window.twttr?this.isMountCanceled||window.twttr.widgets.createTweet(this.props.tweetId,this.refs.embedContainer,this.props.options).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterTweetEmbed, aborting load.")}},{key:"componentDidMount",value:function(){var e=this;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){e.renderWidget()}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(CI,"propTypes",{tweetId:yI().string.isRequired,options:yI().object,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var xI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createMoment(e.props.momentId,e.refs.shareMoment,e.props.options).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterMomentShare, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"shareMoment"}))}}]),r}(t.Component);(0,mI.Z)(xI,"propTypes",{momentId:yI().string.isRequired,options:yI().object,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var AI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createDMButton(e.props.id,e.refs.embedContainer,e.props.options).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterDMButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(AI,"propTypes",{id:yI().number.isRequired,options:yI().object,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var NI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createVideo(e.props.id,e.refs.embedContainer).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterVideoEmbed, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(NI,"propTypes",{id:yI().string.isRequired,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});var PI=function(e){function r(e){var t;return cI(this,r),(t=hI(this,dI(r).call(this,e))).state={isLoading:!0},t}return pI(r,e),(0,lI.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad;bI().canUseDOM&&n(8675)(_I,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createPeriscopeOnAirButton(e.props.username,e.refs.embedContainer,e.props.options).then((function(n){e.setState({isLoading:!1}),t&&t(n)})):console.error("Failure to load window.twttr in TwitterOnAirButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){var e=this.state.isLoading,n=this.props.placeholder;return t.createElement(t.Fragment,null,e&&n,t.createElement("div",{ref:"embedContainer"}))}}]),r}(t.Component);(0,mI.Z)(PI,"propTypes",{username:yI().string.isRequired,options:yI().object,placeholder:yI().oneOfType([yI().string,yI().element]),onLoad:yI().func});const DI=function(){return t.createElement("div",{className:"widgets"},t.createElement("div",{className:"widgets__input"},t.createElement(a.Z,{className:"widgets__searchIcon"}),t.createElement("input",{placeholder:"Search Twitter",type:"text"})),t.createElement("div",{className:"widgets__widgetContainer"},t.createElement("h2",null,"What's happening"),t.createElement(CI,{tweetId:"MadhavS20488837"}),t.createElement(TI,{sourceType:"profile",screenName:"MadhavS20488837",options:{height:400}})))};const RI=function(){return t.createElement("div",{className:"app"},t.createElement(J,null),t.createElement(aI,null),t.createElement(DI,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.render(t.createElement(t.StrictMode,null,t.createElement(RI,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))})()})();
//# sourceMappingURL=main.b791851f.js.map